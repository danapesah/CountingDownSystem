{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _reactDom = _interopRequireDefault(require(\"react-dom\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _reactDraggable = require(\"react-draggable\");\n\nvar _reactResizable = require(\"react-resizable\");\n\nvar _utils = require(\"./utils\");\n\nvar _classnames = _interopRequireDefault(require(\"classnames\"));\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _typeof(obj) {\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(source, true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(source).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n/**\n * An individual item within a ReactGridLayout.\n */\n\n\nvar GridItem =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(GridItem, _React$Component);\n\n  function GridItem() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, GridItem);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(GridItem)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      resizing: null,\n      dragging: null,\n      className: \"\"\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"currentNode\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"onDragStart\", function (e\n    /*: Event*/\n    , _ref) {\n      var node = _ref.node;\n      if (!_this.props.onDragStart) return;\n      var newPosition\n      /*: PartialPosition*/\n      = {\n        top: 0,\n        left: 0\n      }; // TODO: this wont work on nested parents\n\n      var offsetParent = node.offsetParent;\n      if (!offsetParent) return;\n      var parentRect = offsetParent.getBoundingClientRect();\n      var clientRect = node.getBoundingClientRect();\n      var cLeft = clientRect.left / _this.props.transformScale;\n      var pLeft = parentRect.left / _this.props.transformScale;\n      var cTop = clientRect.top / _this.props.transformScale;\n      var pTop = parentRect.top / _this.props.transformScale;\n      newPosition.left = cLeft - pLeft + offsetParent.scrollLeft;\n      newPosition.top = cTop - pTop + offsetParent.scrollTop;\n\n      _this.setState({\n        dragging: newPosition\n      });\n\n      var _this$calcXY = _this.calcXY(newPosition.top, newPosition.left),\n          x = _this$calcXY.x,\n          y = _this$calcXY.y;\n\n      return _this.props.onDragStart && _this.props.onDragStart.call(_assertThisInitialized(_this), _this.props.i, x, y, {\n        e: e,\n        node: node,\n        newPosition: newPosition\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onDrag\", function (e\n    /*: Event*/\n    , _ref2) {\n      var node = _ref2.node,\n          deltaX = _ref2.deltaX,\n          deltaY = _ref2.deltaY;\n      if (!_this.props.onDrag) return;\n      var newPosition\n      /*: PartialPosition*/\n      = {\n        top: 0,\n        left: 0\n      };\n      if (!_this.state.dragging) throw new Error(\"onDrag called before onDragStart.\");\n      newPosition.left = _this.state.dragging.left + deltaX;\n      newPosition.top = _this.state.dragging.top + deltaY;\n\n      _this.setState({\n        dragging: newPosition\n      });\n\n      var _this$calcXY2 = _this.calcXY(newPosition.top, newPosition.left),\n          x = _this$calcXY2.x,\n          y = _this$calcXY2.y;\n\n      return _this.props.onDrag && _this.props.onDrag.call(_assertThisInitialized(_this), _this.props.i, x, y, {\n        e: e,\n        node: node,\n        newPosition: newPosition\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onDragStop\", function (e\n    /*: Event*/\n    , _ref3) {\n      var node = _ref3.node;\n      if (!_this.props.onDragStop) return;\n      var newPosition\n      /*: PartialPosition*/\n      = {\n        top: 0,\n        left: 0\n      };\n      if (!_this.state.dragging) throw new Error(\"onDragEnd called before onDragStart.\");\n      newPosition.left = _this.state.dragging.left;\n      newPosition.top = _this.state.dragging.top;\n\n      _this.setState({\n        dragging: null\n      });\n\n      var _this$calcXY3 = _this.calcXY(newPosition.top, newPosition.left),\n          x = _this$calcXY3.x,\n          y = _this$calcXY3.y;\n\n      return _this.props.onDragStop && _this.props.onDragStop.call(_assertThisInitialized(_this), _this.props.i, x, y, {\n        e: e,\n        node: node,\n        newPosition: newPosition\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onResizeStop\", function (e\n    /*: Event*/\n    , callbackData\n    /*: { node: HTMLElement, size: Position }*/\n    ) {\n      _this.onResizeHandler(e, callbackData, \"onResizeStop\");\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onResizeStart\", function (e\n    /*: Event*/\n    , callbackData\n    /*: { node: HTMLElement, size: Position }*/\n    ) {\n      _this.onResizeHandler(e, callbackData, \"onResizeStart\");\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onResize\", function (e\n    /*: Event*/\n    , callbackData\n    /*: { node: HTMLElement, size: Position }*/\n    ) {\n      _this.onResizeHandler(e, callbackData, \"onResize\");\n    });\n\n    return _this;\n  }\n\n  _createClass(GridItem, [{\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps\n    /*: Props*/\n    ) {\n      if (this.props.droppingPosition && prevProps.droppingPosition) {\n        this.moveDroppingItem(prevProps);\n      }\n    }\n  }, {\n    key: \"moveDroppingItem\",\n    value: function moveDroppingItem(prevProps\n    /*: Props*/\n    ) {\n      var droppingPosition = this.props.droppingPosition;\n      var dragging = this.state.dragging;\n\n      if (!droppingPosition || !prevProps.droppingPosition) {\n        return;\n      }\n\n      if (!this.currentNode) {\n        // eslint-disable-next-line react/no-find-dom-node\n        this.currentNode = _reactDom.default.findDOMNode(this)\n        /*: any*/\n        ;\n      }\n\n      var shouldDrag = dragging && droppingPosition.x !== prevProps.droppingPosition.x || droppingPosition.y !== prevProps.droppingPosition.y;\n\n      if (!dragging) {\n        this.onDragStart(droppingPosition.e, {\n          node: this.currentNode,\n          deltaX: droppingPosition.x,\n          deltaY: droppingPosition.y\n        });\n      } else if (shouldDrag) {\n        var deltaX = droppingPosition.x - dragging.left;\n        var deltaY = droppingPosition.y - dragging.top;\n        this.onDrag(droppingPosition.e, {\n          node: this.currentNode,\n          deltaX: deltaX,\n          deltaY: deltaY\n        });\n      }\n    } // Helper for generating column width\n\n  }, {\n    key: \"calcColWidth\",\n    value: function calcColWidth()\n    /*: number*/\n    {\n      var _this$props = this.props,\n          margin = _this$props.margin,\n          containerPadding = _this$props.containerPadding,\n          containerWidth = _this$props.containerWidth,\n          cols = _this$props.cols;\n      return (containerWidth - margin[0] * (cols - 1) - containerPadding[0] * 2) / cols;\n    }\n    /**\n     * Return position on the page given an x, y, w, h.\n     * left, top, width, height are all in pixels.\n     * @param  {Number}  x             X coordinate in grid units.\n     * @param  {Number}  y             Y coordinate in grid units.\n     * @param  {Number}  w             W coordinate in grid units.\n     * @param  {Number}  h             H coordinate in grid units.\n     * @return {Object}                Object containing coords.\n     */\n\n  }, {\n    key: \"calcPosition\",\n    value: function calcPosition(x\n    /*: number*/\n    , y\n    /*: number*/\n    , w\n    /*: number*/\n    , h\n    /*: number*/\n    , state\n    /*: ?Object*/\n    )\n    /*: Position*/\n    {\n      var _this$props2 = this.props,\n          margin = _this$props2.margin,\n          containerPadding = _this$props2.containerPadding,\n          rowHeight = _this$props2.rowHeight;\n      var colWidth = this.calcColWidth();\n      var out = {}; // If resizing, use the exact width and height as returned from resizing callbacks.\n\n      if (state && state.resizing) {\n        out.width = Math.round(state.resizing.width);\n        out.height = Math.round(state.resizing.height);\n      } // Otherwise, calculate from grid units.\n      else {\n          // 0 * Infinity === NaN, which causes problems with resize constraints;\n          // Fix this if it occurs.\n          // Note we do it here rather than later because Math.round(Infinity) causes deopt\n          out.width = w === Infinity ? w : Math.round(colWidth * w + Math.max(0, w - 1) * margin[0]);\n          out.height = h === Infinity ? h : Math.round(rowHeight * h + Math.max(0, h - 1) * margin[1]);\n        } // If dragging, use the exact width and height as returned from dragging callbacks.\n\n\n      if (state && state.dragging) {\n        out.top = Math.round(state.dragging.top);\n        out.left = Math.round(state.dragging.left);\n      } // Otherwise, calculate from grid units.\n      else {\n          out.top = Math.round((rowHeight + margin[1]) * y + containerPadding[1]);\n          out.left = Math.round((colWidth + margin[0]) * x + containerPadding[0]);\n        }\n\n      return out;\n    }\n    /**\n     * Translate x and y coordinates from pixels to grid units.\n     * @param  {Number} top  Top position (relative to parent) in pixels.\n     * @param  {Number} left Left position (relative to parent) in pixels.\n     * @return {Object} x and y in grid units.\n     */\n\n  }, {\n    key: \"calcXY\",\n    value: function calcXY(top\n    /*: number*/\n    , left\n    /*: number*/\n    )\n    /*: { x: number, y: number }*/\n    {\n      var _this$props3 = this.props,\n          margin = _this$props3.margin,\n          cols = _this$props3.cols,\n          rowHeight = _this$props3.rowHeight,\n          w = _this$props3.w,\n          h = _this$props3.h,\n          maxRows = _this$props3.maxRows;\n      var colWidth = this.calcColWidth(); // left = colWidth * x + margin * (x + 1)\n      // l = cx + m(x+1)\n      // l = cx + mx + m\n      // l - m = cx + mx\n      // l - m = x(c + m)\n      // (l - m) / (c + m) = x\n      // x = (left - margin) / (coldWidth + margin)\n\n      var x = Math.round((left - margin[0]) / (colWidth + margin[0]));\n      var y = Math.round((top - margin[1]) / (rowHeight + margin[1])); // Capping\n\n      x = Math.max(Math.min(x, cols - w), 0);\n      y = Math.max(Math.min(y, maxRows - h), 0);\n      return {\n        x: x,\n        y: y\n      };\n    }\n    /**\n     * Given a height and width in pixel values, calculate grid units.\n     * @param  {Number} height Height in pixels.\n     * @param  {Number} width  Width in pixels.\n     * @return {Object} w, h as grid units.\n     */\n\n  }, {\n    key: \"calcWH\",\n    value: function calcWH(_ref4)\n    /*: { w: number, h: number }*/\n    {\n      var height = _ref4.height,\n          width = _ref4.width;\n      var _this$props4 = this.props,\n          margin = _this$props4.margin,\n          maxRows = _this$props4.maxRows,\n          cols = _this$props4.cols,\n          rowHeight = _this$props4.rowHeight,\n          x = _this$props4.x,\n          y = _this$props4.y;\n      var colWidth = this.calcColWidth(); // width = colWidth * w - (margin * (w - 1))\n      // ...\n      // w = (width + margin) / (colWidth + margin)\n\n      var w = Math.round((width + margin[0]) / (colWidth + margin[0]));\n      var h = Math.round((height + margin[1]) / (rowHeight + margin[1])); // Capping\n\n      w = Math.max(Math.min(w, cols - x), 0);\n      h = Math.max(Math.min(h, maxRows - y), 0);\n      return {\n        w: w,\n        h: h\n      };\n    }\n    /**\n     * This is where we set the grid item's absolute placement. It gets a little tricky because we want to do it\n     * well when server rendering, and the only way to do that properly is to use percentage width/left because\n     * we don't know exactly what the browser viewport is.\n     * Unfortunately, CSS Transforms, which are great for performance, break in this instance because a percentage\n     * left is relative to the item itself, not its container! So we cannot use them on the server rendering pass.\n     *\n     * @param  {Object} pos Position object with width, height, left, top.\n     * @return {Object}     Style object.\n     */\n\n  }, {\n    key: \"createStyle\",\n    value: function createStyle(pos\n    /*: Position*/\n    )\n    /*: { [key: string]: ?string }*/\n    {\n      var _this$props5 = this.props,\n          usePercentages = _this$props5.usePercentages,\n          containerWidth = _this$props5.containerWidth,\n          useCSSTransforms = _this$props5.useCSSTransforms;\n      var style; // CSS Transforms support (default)\n\n      if (useCSSTransforms) {\n        style = (0, _utils.setTransform)(pos);\n      } else {\n        // top,left (slow)\n        style = (0, _utils.setTopLeft)(pos); // This is used for server rendering.\n\n        if (usePercentages) {\n          style.left = (0, _utils.perc)(pos.left / containerWidth);\n          style.width = (0, _utils.perc)(pos.width / containerWidth);\n        }\n      }\n\n      return style;\n    }\n    /**\n     * Mix a Draggable instance into a child.\n     * @param  {Element} child    Child element.\n     * @return {Element}          Child wrapped in Draggable.\n     */\n\n  }, {\n    key: \"mixinDraggable\",\n    value: function mixinDraggable(child\n    /*: ReactElement<any>*/\n    )\n    /*: ReactElement<any>*/\n    {\n      return _react.default.createElement(_reactDraggable.DraggableCore, {\n        onStart: this.onDragStart,\n        onDrag: this.onDrag,\n        onStop: this.onDragStop,\n        handle: this.props.handle,\n        cancel: \".react-resizable-handle\" + (this.props.cancel ? \",\" + this.props.cancel : \"\"),\n        scale: this.props.transformScale\n      }, child);\n    }\n    /**\n     * Mix a Resizable instance into a child.\n     * @param  {Element} child    Child element.\n     * @param  {Object} position  Position object (pixel values)\n     * @return {Element}          Child wrapped in Resizable.\n     */\n\n  }, {\n    key: \"mixinResizable\",\n    value: function mixinResizable(child\n    /*: ReactElement<any>*/\n    , position\n    /*: Position*/\n    )\n    /*: ReactElement<any>*/\n    {\n      var _this$props6 = this.props,\n          cols = _this$props6.cols,\n          x = _this$props6.x,\n          minW = _this$props6.minW,\n          minH = _this$props6.minH,\n          maxW = _this$props6.maxW,\n          maxH = _this$props6.maxH; // This is the max possible width - doesn't go to infinity because of the width of the window\n\n      var maxWidth = this.calcPosition(0, 0, cols - x, 0).width; // Calculate min/max constraints using our min & maxes\n\n      var mins = this.calcPosition(0, 0, minW, minH);\n      var maxes = this.calcPosition(0, 0, maxW, maxH);\n      var minConstraints = [mins.width, mins.height];\n      var maxConstraints = [Math.min(maxes.width, maxWidth), Math.min(maxes.height, Infinity)];\n      return _react.default.createElement(_reactResizable.Resizable, {\n        width: position.width,\n        height: position.height,\n        minConstraints: minConstraints,\n        maxConstraints: maxConstraints,\n        onResizeStop: this.onResizeStop,\n        onResizeStart: this.onResizeStart,\n        onResize: this.onResize\n      }, child);\n    }\n    /**\n     * onDragStart event handler\n     * @param  {Event}  e             event data\n     * @param  {Object} callbackData  an object with node, delta and position information\n     */\n\n  }, {\n    key: \"onResizeHandler\",\n\n    /**\n     * Wrapper around drag events to provide more useful data.\n     * All drag events call the function with the given handler name,\n     * with the signature (index, x, y).\n     *\n     * @param  {String} handlerName Handler name to wrap.\n     * @return {Function}           Handler function.\n     */\n    value: function onResizeHandler(e\n    /*: Event*/\n    , _ref5, handlerName\n    /*: string*/\n    ) {\n      var node = _ref5.node,\n          size = _ref5.size;\n      var handler = this.props[handlerName];\n      if (!handler) return;\n      var _this$props7 = this.props,\n          cols = _this$props7.cols,\n          x = _this$props7.x,\n          i = _this$props7.i,\n          maxW = _this$props7.maxW,\n          minW = _this$props7.minW,\n          maxH = _this$props7.maxH,\n          minH = _this$props7.minH; // Get new XY\n\n      var _this$calcWH = this.calcWH(size),\n          w = _this$calcWH.w,\n          h = _this$calcWH.h; // Cap w at numCols\n\n\n      w = Math.min(w, cols - x); // Ensure w is at least 1\n\n      w = Math.max(w, 1); // Min/max capping\n\n      w = Math.max(Math.min(w, maxW), minW);\n      h = Math.max(Math.min(h, maxH), minH);\n      this.setState({\n        resizing: handlerName === \"onResizeStop\" ? null : size\n      });\n      handler.call(this, i, w, h, {\n        e: e,\n        node: node,\n        size: size\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render()\n    /*: ReactNode*/\n    {\n      var _this$props8 = this.props,\n          x = _this$props8.x,\n          y = _this$props8.y,\n          w = _this$props8.w,\n          h = _this$props8.h,\n          isDraggable = _this$props8.isDraggable,\n          isResizable = _this$props8.isResizable,\n          droppingPosition = _this$props8.droppingPosition,\n          useCSSTransforms = _this$props8.useCSSTransforms;\n      var pos = this.calcPosition(x, y, w, h, this.state);\n\n      var child = _react.default.Children.only(this.props.children); // Create the child element. We clone the existing element but modify its className and style.\n\n\n      var newChild = _react.default.cloneElement(child, {\n        className: (0, _classnames.default)(\"react-grid-item\", child.props.className, this.props.className, {\n          static: this.props.static,\n          resizing: Boolean(this.state.resizing),\n          \"react-draggable\": isDraggable,\n          \"react-draggable-dragging\": Boolean(this.state.dragging),\n          dropping: Boolean(droppingPosition),\n          cssTransforms: useCSSTransforms\n        }),\n        // We can set the width and height on the child, but unfortunately we can't set the position.\n        style: _objectSpread({}, this.props.style, {}, child.props.style, {}, this.createStyle(pos))\n      }); // Resizable support. This is usually on but the user can toggle it off.\n\n\n      if (isResizable) newChild = this.mixinResizable(newChild, pos); // Draggable support. This is always on, except for with placeholders.\n\n      if (isDraggable) newChild = this.mixinDraggable(newChild);\n      return newChild;\n    }\n  }]);\n\n  return GridItem;\n}(_react.default.Component);\n\nexports.default = GridItem;\n\n_defineProperty(GridItem, \"propTypes\", {\n  // Children must be only a single element\n  children: _propTypes.default.element,\n  // General grid attributes\n  cols: _propTypes.default.number.isRequired,\n  containerWidth: _propTypes.default.number.isRequired,\n  rowHeight: _propTypes.default.number.isRequired,\n  margin: _propTypes.default.array.isRequired,\n  maxRows: _propTypes.default.number.isRequired,\n  containerPadding: _propTypes.default.array.isRequired,\n  // These are all in grid units\n  x: _propTypes.default.number.isRequired,\n  y: _propTypes.default.number.isRequired,\n  w: _propTypes.default.number.isRequired,\n  h: _propTypes.default.number.isRequired,\n  // All optional\n  minW: function minW(props\n  /*: Props*/\n  , propName\n  /*: string*/\n  ) {\n    var value = props[propName];\n    if (typeof value !== \"number\") return new Error(\"minWidth not Number\");\n    if (value > props.w || value > props.maxW) return new Error(\"minWidth larger than item width/maxWidth\");\n  },\n  maxW: function maxW(props\n  /*: Props*/\n  , propName\n  /*: string*/\n  ) {\n    var value = props[propName];\n    if (typeof value !== \"number\") return new Error(\"maxWidth not Number\");\n    if (value < props.w || value < props.minW) return new Error(\"maxWidth smaller than item width/minWidth\");\n  },\n  minH: function minH(props\n  /*: Props*/\n  , propName\n  /*: string*/\n  ) {\n    var value = props[propName];\n    if (typeof value !== \"number\") return new Error(\"minHeight not Number\");\n    if (value > props.h || value > props.maxH) return new Error(\"minHeight larger than item height/maxHeight\");\n  },\n  maxH: function maxH(props\n  /*: Props*/\n  , propName\n  /*: string*/\n  ) {\n    var value = props[propName];\n    if (typeof value !== \"number\") return new Error(\"maxHeight not Number\");\n    if (value < props.h || value < props.minH) return new Error(\"maxHeight smaller than item height/minHeight\");\n  },\n  // ID is nice to have for callbacks\n  i: _propTypes.default.string.isRequired,\n  // Functions\n  onDragStop: _propTypes.default.func,\n  onDragStart: _propTypes.default.func,\n  onDrag: _propTypes.default.func,\n  onResizeStop: _propTypes.default.func,\n  onResizeStart: _propTypes.default.func,\n  onResize: _propTypes.default.func,\n  // Flags\n  isDraggable: _propTypes.default.bool.isRequired,\n  isResizable: _propTypes.default.bool.isRequired,\n  static: _propTypes.default.bool,\n  // Use CSS transforms instead of top/left\n  useCSSTransforms: _propTypes.default.bool.isRequired,\n  transformScale: _propTypes.default.number,\n  // Others\n  className: _propTypes.default.string,\n  // Selector for draggable handle\n  handle: _propTypes.default.string,\n  // Selector for draggable cancel (see react-draggable)\n  cancel: _propTypes.default.string,\n  // Current position of a dropping element\n  droppingPosition: _propTypes.default.shape({\n    e: _propTypes.default.object.isRequired,\n    x: _propTypes.default.number.isRequired,\n    y: _propTypes.default.number.isRequired\n  })\n});\n\n_defineProperty(GridItem, \"defaultProps\", {\n  className: \"\",\n  cancel: \"\",\n  handle: \"\",\n  minH: 1,\n  minW: 1,\n  maxH: Infinity,\n  maxW: Infinity,\n  transformScale: 1\n});","map":{"version":3,"sources":["C:/Users/דנה פסח/Desktop/FinalProject/final/node_modules/react-grid-layout/build/GridItem.js"],"names":["Object","defineProperty","exports","value","default","_react","_interopRequireDefault","require","_reactDom","_propTypes","_reactDraggable","_reactResizable","_utils","_classnames","obj","__esModule","_typeof","Symbol","iterator","constructor","prototype","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","_defineProperty","getOwnPropertyDescriptors","defineProperties","_classCallCheck","instance","Constructor","TypeError","_defineProperties","props","descriptor","configurable","writable","_createClass","protoProps","staticProps","_possibleConstructorReturn","self","call","_assertThisInitialized","_getPrototypeOf","o","setPrototypeOf","getPrototypeOf","__proto__","ReferenceError","_inherits","subClass","superClass","create","_setPrototypeOf","p","GridItem","_React$Component","_getPrototypeOf2","_this","_len","args","Array","_key","concat","resizing","dragging","className","e","_ref","node","onDragStart","newPosition","top","left","offsetParent","parentRect","getBoundingClientRect","clientRect","cLeft","transformScale","pLeft","cTop","pTop","scrollLeft","scrollTop","setState","_this$calcXY","calcXY","x","y","_ref2","deltaX","deltaY","onDrag","state","Error","_this$calcXY2","_ref3","onDragStop","_this$calcXY3","callbackData","onResizeHandler","componentDidUpdate","prevProps","droppingPosition","moveDroppingItem","currentNode","findDOMNode","shouldDrag","calcColWidth","_this$props","margin","containerPadding","containerWidth","cols","calcPosition","w","h","_this$props2","rowHeight","colWidth","out","width","Math","round","height","Infinity","max","_this$props3","maxRows","min","calcWH","_ref4","_this$props4","createStyle","pos","_this$props5","usePercentages","useCSSTransforms","style","setTransform","setTopLeft","perc","mixinDraggable","child","createElement","DraggableCore","onStart","onStop","handle","cancel","scale","mixinResizable","position","_this$props6","minW","minH","maxW","maxH","maxWidth","mins","maxes","minConstraints","maxConstraints","Resizable","onResizeStop","onResizeStart","onResize","_ref5","handlerName","size","handler","_this$props7","_this$calcWH","render","_this$props8","isDraggable","isResizable","Children","only","children","newChild","cloneElement","static","Boolean","dropping","cssTransforms","Component","element","number","isRequired","array","propName","string","func","bool","shape"],"mappings":"AAAA;;AAEAA,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;AAC3CC,EAAAA,KAAK,EAAE;AADoC,CAA7C;AAGAD,OAAO,CAACE,OAAR,GAAkB,KAAK,CAAvB;;AAEA,IAAIC,MAAM,GAAGC,sBAAsB,CAACC,OAAO,CAAC,OAAD,CAAR,CAAnC;;AAEA,IAAIC,SAAS,GAAGF,sBAAsB,CAACC,OAAO,CAAC,WAAD,CAAR,CAAtC;;AAEA,IAAIE,UAAU,GAAGH,sBAAsB,CAACC,OAAO,CAAC,YAAD,CAAR,CAAvC;;AAEA,IAAIG,eAAe,GAAGH,OAAO,CAAC,iBAAD,CAA7B;;AAEA,IAAII,eAAe,GAAGJ,OAAO,CAAC,iBAAD,CAA7B;;AAEA,IAAIK,MAAM,GAAGL,OAAO,CAAC,SAAD,CAApB;;AAEA,IAAIM,WAAW,GAAGP,sBAAsB,CAACC,OAAO,CAAC,YAAD,CAAR,CAAxC;;AAEA,SAASD,sBAAT,CAAgCQ,GAAhC,EAAqC;AAAE,SAAOA,GAAG,IAAIA,GAAG,CAACC,UAAX,GAAwBD,GAAxB,GAA8B;AAAEV,IAAAA,OAAO,EAAEU;AAAX,GAArC;AAAwD;;AAE/F,SAASE,OAAT,CAAiBF,GAAjB,EAAsB;AAAE,MAAI,OAAOG,MAAP,KAAkB,UAAlB,IAAgC,OAAOA,MAAM,CAACC,QAAd,KAA2B,QAA/D,EAAyE;AAAEF,IAAAA,OAAO,GAAG,SAASA,OAAT,CAAiBF,GAAjB,EAAsB;AAAE,aAAO,OAAOA,GAAd;AAAoB,KAAtD;AAAyD,GAApI,MAA0I;AAAEE,IAAAA,OAAO,GAAG,SAASA,OAAT,CAAiBF,GAAjB,EAAsB;AAAE,aAAOA,GAAG,IAAI,OAAOG,MAAP,KAAkB,UAAzB,IAAuCH,GAAG,CAACK,WAAJ,KAAoBF,MAA3D,IAAqEH,GAAG,KAAKG,MAAM,CAACG,SAApF,GAAgG,QAAhG,GAA2G,OAAON,GAAzH;AAA+H,KAAjK;AAAoK;;AAAC,SAAOE,OAAO,CAACF,GAAD,CAAd;AAAsB;;AAE/V,SAASO,OAAT,CAAiBC,MAAjB,EAAyBC,cAAzB,EAAyC;AAAE,MAAIC,IAAI,GAAGxB,MAAM,CAACwB,IAAP,CAAYF,MAAZ,CAAX;;AAAgC,MAAItB,MAAM,CAACyB,qBAAX,EAAkC;AAAE,QAAIC,OAAO,GAAG1B,MAAM,CAACyB,qBAAP,CAA6BH,MAA7B,CAAd;AAAoD,QAAIC,cAAJ,EAAoBG,OAAO,GAAGA,OAAO,CAACC,MAAR,CAAe,UAAUC,GAAV,EAAe;AAAE,aAAO5B,MAAM,CAAC6B,wBAAP,CAAgCP,MAAhC,EAAwCM,GAAxC,EAA6CE,UAApD;AAAiE,KAAjG,CAAV;AAA8GN,IAAAA,IAAI,CAACO,IAAL,CAAUC,KAAV,CAAgBR,IAAhB,EAAsBE,OAAtB;AAAiC;;AAAC,SAAOF,IAAP;AAAc;;AAErV,SAASS,aAAT,CAAuBC,MAAvB,EAA+B;AAAE,OAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGC,SAAS,CAACC,MAA9B,EAAsCF,CAAC,EAAvC,EAA2C;AAAE,QAAIG,MAAM,GAAGF,SAAS,CAACD,CAAD,CAAT,IAAgB,IAAhB,GAAuBC,SAAS,CAACD,CAAD,CAAhC,GAAsC,EAAnD;;AAAuD,QAAIA,CAAC,GAAG,CAAR,EAAW;AAAEd,MAAAA,OAAO,CAACiB,MAAD,EAAS,IAAT,CAAP,CAAsBC,OAAtB,CAA8B,UAAUC,GAAV,EAAe;AAAEC,QAAAA,eAAe,CAACP,MAAD,EAASM,GAAT,EAAcF,MAAM,CAACE,GAAD,CAApB,CAAf;AAA4C,OAA3F;AAA+F,KAA5G,MAAkH,IAAIxC,MAAM,CAAC0C,yBAAX,EAAsC;AAAE1C,MAAAA,MAAM,CAAC2C,gBAAP,CAAwBT,MAAxB,EAAgClC,MAAM,CAAC0C,yBAAP,CAAiCJ,MAAjC,CAAhC;AAA4E,KAApH,MAA0H;AAAEjB,MAAAA,OAAO,CAACiB,MAAD,CAAP,CAAgBC,OAAhB,CAAwB,UAAUC,GAAV,EAAe;AAAExC,QAAAA,MAAM,CAACC,cAAP,CAAsBiC,MAAtB,EAA8BM,GAA9B,EAAmCxC,MAAM,CAAC6B,wBAAP,CAAgCS,MAAhC,EAAwCE,GAAxC,CAAnC;AAAmF,OAA5H;AAAgI;AAAE;;AAAC,SAAON,MAAP;AAAgB;;AAEtgB,SAASU,eAAT,CAAyBC,QAAzB,EAAmCC,WAAnC,EAAgD;AAAE,MAAI,EAAED,QAAQ,YAAYC,WAAtB,CAAJ,EAAwC;AAAE,UAAM,IAAIC,SAAJ,CAAc,mCAAd,CAAN;AAA2D;AAAE;;AAEzJ,SAASC,iBAAT,CAA2Bd,MAA3B,EAAmCe,KAAnC,EAA0C;AAAE,OAAK,IAAId,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGc,KAAK,CAACZ,MAA1B,EAAkCF,CAAC,EAAnC,EAAuC;AAAE,QAAIe,UAAU,GAAGD,KAAK,CAACd,CAAD,CAAtB;AAA2Be,IAAAA,UAAU,CAACpB,UAAX,GAAwBoB,UAAU,CAACpB,UAAX,IAAyB,KAAjD;AAAwDoB,IAAAA,UAAU,CAACC,YAAX,GAA0B,IAA1B;AAAgC,QAAI,WAAWD,UAAf,EAA2BA,UAAU,CAACE,QAAX,GAAsB,IAAtB;AAA4BpD,IAAAA,MAAM,CAACC,cAAP,CAAsBiC,MAAtB,EAA8BgB,UAAU,CAACV,GAAzC,EAA8CU,UAA9C;AAA4D;AAAE;;AAE7T,SAASG,YAAT,CAAsBP,WAAtB,EAAmCQ,UAAnC,EAA+CC,WAA/C,EAA4D;AAAE,MAAID,UAAJ,EAAgBN,iBAAiB,CAACF,WAAW,CAAC1B,SAAb,EAAwBkC,UAAxB,CAAjB;AAAsD,MAAIC,WAAJ,EAAiBP,iBAAiB,CAACF,WAAD,EAAcS,WAAd,CAAjB;AAA6C,SAAOT,WAAP;AAAqB;;AAEvN,SAASU,0BAAT,CAAoCC,IAApC,EAA0CC,IAA1C,EAAgD;AAAE,MAAIA,IAAI,KAAK1C,OAAO,CAAC0C,IAAD,CAAP,KAAkB,QAAlB,IAA8B,OAAOA,IAAP,KAAgB,UAAnD,CAAR,EAAwE;AAAE,WAAOA,IAAP;AAAc;;AAAC,SAAOC,sBAAsB,CAACF,IAAD,CAA7B;AAAsC;;AAEjL,SAASG,eAAT,CAAyBC,CAAzB,EAA4B;AAAED,EAAAA,eAAe,GAAG5D,MAAM,CAAC8D,cAAP,GAAwB9D,MAAM,CAAC+D,cAA/B,GAAgD,SAASH,eAAT,CAAyBC,CAAzB,EAA4B;AAAE,WAAOA,CAAC,CAACG,SAAF,IAAehE,MAAM,CAAC+D,cAAP,CAAsBF,CAAtB,CAAtB;AAAiD,GAAjJ;AAAmJ,SAAOD,eAAe,CAACC,CAAD,CAAtB;AAA4B;;AAE7M,SAASF,sBAAT,CAAgCF,IAAhC,EAAsC;AAAE,MAAIA,IAAI,KAAK,KAAK,CAAlB,EAAqB;AAAE,UAAM,IAAIQ,cAAJ,CAAmB,2DAAnB,CAAN;AAAwF;;AAAC,SAAOR,IAAP;AAAc;;AAEtK,SAASS,SAAT,CAAmBC,QAAnB,EAA6BC,UAA7B,EAAyC;AAAE,MAAI,OAAOA,UAAP,KAAsB,UAAtB,IAAoCA,UAAU,KAAK,IAAvD,EAA6D;AAAE,UAAM,IAAIrB,SAAJ,CAAc,oDAAd,CAAN;AAA4E;;AAACoB,EAAAA,QAAQ,CAAC/C,SAAT,GAAqBpB,MAAM,CAACqE,MAAP,CAAcD,UAAU,IAAIA,UAAU,CAAChD,SAAvC,EAAkD;AAAED,IAAAA,WAAW,EAAE;AAAEhB,MAAAA,KAAK,EAAEgE,QAAT;AAAmBf,MAAAA,QAAQ,EAAE,IAA7B;AAAmCD,MAAAA,YAAY,EAAE;AAAjD;AAAf,GAAlD,CAArB;AAAkJ,MAAIiB,UAAJ,EAAgBE,eAAe,CAACH,QAAD,EAAWC,UAAX,CAAf;AAAwC;;AAEjY,SAASE,eAAT,CAAyBT,CAAzB,EAA4BU,CAA5B,EAA+B;AAAED,EAAAA,eAAe,GAAGtE,MAAM,CAAC8D,cAAP,IAAyB,SAASQ,eAAT,CAAyBT,CAAzB,EAA4BU,CAA5B,EAA+B;AAAEV,IAAAA,CAAC,CAACG,SAAF,GAAcO,CAAd;AAAiB,WAAOV,CAAP;AAAW,GAAxG;;AAA0G,SAAOS,eAAe,CAACT,CAAD,EAAIU,CAAJ,CAAtB;AAA+B;;AAE1K,SAAS9B,eAAT,CAAyB3B,GAAzB,EAA8B0B,GAA9B,EAAmCrC,KAAnC,EAA0C;AAAE,MAAIqC,GAAG,IAAI1B,GAAX,EAAgB;AAAEd,IAAAA,MAAM,CAACC,cAAP,CAAsBa,GAAtB,EAA2B0B,GAA3B,EAAgC;AAAErC,MAAAA,KAAK,EAAEA,KAAT;AAAgB2B,MAAAA,UAAU,EAAE,IAA5B;AAAkCqB,MAAAA,YAAY,EAAE,IAAhD;AAAsDC,MAAAA,QAAQ,EAAE;AAAhE,KAAhC;AAA0G,GAA5H,MAAkI;AAAEtC,IAAAA,GAAG,CAAC0B,GAAD,CAAH,GAAWrC,KAAX;AAAmB;;AAAC,SAAOW,GAAP;AAAa;AAEjN;;;;;AAGA,IAAI0D,QAAQ;AACZ;AACA,UAAUC,gBAAV,EAA4B;AAC1BP,EAAAA,SAAS,CAACM,QAAD,EAAWC,gBAAX,CAAT;;AAEA,WAASD,QAAT,GAAoB;AAClB,QAAIE,gBAAJ;;AAEA,QAAIC,KAAJ;;AAEA/B,IAAAA,eAAe,CAAC,IAAD,EAAO4B,QAAP,CAAf;;AAEA,SAAK,IAAII,IAAI,GAAGxC,SAAS,CAACC,MAArB,EAA6BwC,IAAI,GAAG,IAAIC,KAAJ,CAAUF,IAAV,CAApC,EAAqDG,IAAI,GAAG,CAAjE,EAAoEA,IAAI,GAAGH,IAA3E,EAAiFG,IAAI,EAArF,EAAyF;AACvFF,MAAAA,IAAI,CAACE,IAAD,CAAJ,GAAa3C,SAAS,CAAC2C,IAAD,CAAtB;AACD;;AAEDJ,IAAAA,KAAK,GAAGnB,0BAA0B,CAAC,IAAD,EAAO,CAACkB,gBAAgB,GAAGd,eAAe,CAACY,QAAD,CAAnC,EAA+Cd,IAA/C,CAAoD1B,KAApD,CAA0D0C,gBAA1D,EAA4E,CAAC,IAAD,EAAOM,MAAP,CAAcH,IAAd,CAA5E,CAAP,CAAlC;;AAEApC,IAAAA,eAAe,CAACkB,sBAAsB,CAACgB,KAAD,CAAvB,EAAgC,OAAhC,EAAyC;AACtDM,MAAAA,QAAQ,EAAE,IAD4C;AAEtDC,MAAAA,QAAQ,EAAE,IAF4C;AAGtDC,MAAAA,SAAS,EAAE;AAH2C,KAAzC,CAAf;;AAMA1C,IAAAA,eAAe,CAACkB,sBAAsB,CAACgB,KAAD,CAAvB,EAAgC,aAAhC,EAA+C,KAAK,CAApD,CAAf;;AAEAlC,IAAAA,eAAe,CAACkB,sBAAsB,CAACgB,KAAD,CAAvB,EAAgC,aAAhC,EAA+C,UAAUS;AACxE;AAD8D,MAE5DC,IAF4D,EAEtD;AACN,UAAIC,IAAI,GAAGD,IAAI,CAACC,IAAhB;AACA,UAAI,CAACX,KAAK,CAAC1B,KAAN,CAAYsC,WAAjB,EAA8B;AAC9B,UAAIC;AACJ;AADe,QAEb;AACAC,QAAAA,GAAG,EAAE,CADL;AAEAC,QAAAA,IAAI,EAAE;AAFN,OAFF,CAHM,CAQH;;AAEH,UAAIC,YAAY,GAAGL,IAAI,CAACK,YAAxB;AACA,UAAI,CAACA,YAAL,EAAmB;AACnB,UAAIC,UAAU,GAAGD,YAAY,CAACE,qBAAb,EAAjB;AACA,UAAIC,UAAU,GAAGR,IAAI,CAACO,qBAAL,EAAjB;AACA,UAAIE,KAAK,GAAGD,UAAU,CAACJ,IAAX,GAAkBf,KAAK,CAAC1B,KAAN,CAAY+C,cAA1C;AACA,UAAIC,KAAK,GAAGL,UAAU,CAACF,IAAX,GAAkBf,KAAK,CAAC1B,KAAN,CAAY+C,cAA1C;AACA,UAAIE,IAAI,GAAGJ,UAAU,CAACL,GAAX,GAAiBd,KAAK,CAAC1B,KAAN,CAAY+C,cAAxC;AACA,UAAIG,IAAI,GAAGP,UAAU,CAACH,GAAX,GAAiBd,KAAK,CAAC1B,KAAN,CAAY+C,cAAxC;AACAR,MAAAA,WAAW,CAACE,IAAZ,GAAmBK,KAAK,GAAGE,KAAR,GAAgBN,YAAY,CAACS,UAAhD;AACAZ,MAAAA,WAAW,CAACC,GAAZ,GAAkBS,IAAI,GAAGC,IAAP,GAAcR,YAAY,CAACU,SAA7C;;AAEA1B,MAAAA,KAAK,CAAC2B,QAAN,CAAe;AACbpB,QAAAA,QAAQ,EAAEM;AADG,OAAf;;AAIA,UAAIe,YAAY,GAAG5B,KAAK,CAAC6B,MAAN,CAAahB,WAAW,CAACC,GAAzB,EAA8BD,WAAW,CAACE,IAA1C,CAAnB;AAAA,UACIe,CAAC,GAAGF,YAAY,CAACE,CADrB;AAAA,UAEIC,CAAC,GAAGH,YAAY,CAACG,CAFrB;;AAIA,aAAO/B,KAAK,CAAC1B,KAAN,CAAYsC,WAAZ,IAA2BZ,KAAK,CAAC1B,KAAN,CAAYsC,WAAZ,CAAwB7B,IAAxB,CAA6BC,sBAAsB,CAACgB,KAAD,CAAnD,EAA4DA,KAAK,CAAC1B,KAAN,CAAYd,CAAxE,EAA2EsE,CAA3E,EAA8EC,CAA9E,EAAiF;AACjHtB,QAAAA,CAAC,EAAEA,CAD8G;AAEjHE,QAAAA,IAAI,EAAEA,IAF2G;AAGjHE,QAAAA,WAAW,EAAEA;AAHoG,OAAjF,CAAlC;AAKD,KApCc,CAAf;;AAsCA/C,IAAAA,eAAe,CAACkB,sBAAsB,CAACgB,KAAD,CAAvB,EAAgC,QAAhC,EAA0C,UAAUS;AACnE;AADyD,MAEvDuB,KAFuD,EAEhD;AACP,UAAIrB,IAAI,GAAGqB,KAAK,CAACrB,IAAjB;AAAA,UACIsB,MAAM,GAAGD,KAAK,CAACC,MADnB;AAAA,UAEIC,MAAM,GAAGF,KAAK,CAACE,MAFnB;AAGA,UAAI,CAAClC,KAAK,CAAC1B,KAAN,CAAY6D,MAAjB,EAAyB;AACzB,UAAItB;AACJ;AADe,QAEb;AACAC,QAAAA,GAAG,EAAE,CADL;AAEAC,QAAAA,IAAI,EAAE;AAFN,OAFF;AAMA,UAAI,CAACf,KAAK,CAACoC,KAAN,CAAY7B,QAAjB,EAA2B,MAAM,IAAI8B,KAAJ,CAAU,mCAAV,CAAN;AAC3BxB,MAAAA,WAAW,CAACE,IAAZ,GAAmBf,KAAK,CAACoC,KAAN,CAAY7B,QAAZ,CAAqBQ,IAArB,GAA4BkB,MAA/C;AACApB,MAAAA,WAAW,CAACC,GAAZ,GAAkBd,KAAK,CAACoC,KAAN,CAAY7B,QAAZ,CAAqBO,GAArB,GAA2BoB,MAA7C;;AAEAlC,MAAAA,KAAK,CAAC2B,QAAN,CAAe;AACbpB,QAAAA,QAAQ,EAAEM;AADG,OAAf;;AAIA,UAAIyB,aAAa,GAAGtC,KAAK,CAAC6B,MAAN,CAAahB,WAAW,CAACC,GAAzB,EAA8BD,WAAW,CAACE,IAA1C,CAApB;AAAA,UACIe,CAAC,GAAGQ,aAAa,CAACR,CADtB;AAAA,UAEIC,CAAC,GAAGO,aAAa,CAACP,CAFtB;;AAIA,aAAO/B,KAAK,CAAC1B,KAAN,CAAY6D,MAAZ,IAAsBnC,KAAK,CAAC1B,KAAN,CAAY6D,MAAZ,CAAmBpD,IAAnB,CAAwBC,sBAAsB,CAACgB,KAAD,CAA9C,EAAuDA,KAAK,CAAC1B,KAAN,CAAYd,CAAnE,EAAsEsE,CAAtE,EAAyEC,CAAzE,EAA4E;AACvGtB,QAAAA,CAAC,EAAEA,CADoG;AAEvGE,QAAAA,IAAI,EAAEA,IAFiG;AAGvGE,QAAAA,WAAW,EAAEA;AAH0F,OAA5E,CAA7B;AAKD,KA9Bc,CAAf;;AAgCA/C,IAAAA,eAAe,CAACkB,sBAAsB,CAACgB,KAAD,CAAvB,EAAgC,YAAhC,EAA8C,UAAUS;AACvE;AAD6D,MAE3D8B,KAF2D,EAEpD;AACP,UAAI5B,IAAI,GAAG4B,KAAK,CAAC5B,IAAjB;AACA,UAAI,CAACX,KAAK,CAAC1B,KAAN,CAAYkE,UAAjB,EAA6B;AAC7B,UAAI3B;AACJ;AADe,QAEb;AACAC,QAAAA,GAAG,EAAE,CADL;AAEAC,QAAAA,IAAI,EAAE;AAFN,OAFF;AAMA,UAAI,CAACf,KAAK,CAACoC,KAAN,CAAY7B,QAAjB,EAA2B,MAAM,IAAI8B,KAAJ,CAAU,sCAAV,CAAN;AAC3BxB,MAAAA,WAAW,CAACE,IAAZ,GAAmBf,KAAK,CAACoC,KAAN,CAAY7B,QAAZ,CAAqBQ,IAAxC;AACAF,MAAAA,WAAW,CAACC,GAAZ,GAAkBd,KAAK,CAACoC,KAAN,CAAY7B,QAAZ,CAAqBO,GAAvC;;AAEAd,MAAAA,KAAK,CAAC2B,QAAN,CAAe;AACbpB,QAAAA,QAAQ,EAAE;AADG,OAAf;;AAIA,UAAIkC,aAAa,GAAGzC,KAAK,CAAC6B,MAAN,CAAahB,WAAW,CAACC,GAAzB,EAA8BD,WAAW,CAACE,IAA1C,CAApB;AAAA,UACIe,CAAC,GAAGW,aAAa,CAACX,CADtB;AAAA,UAEIC,CAAC,GAAGU,aAAa,CAACV,CAFtB;;AAIA,aAAO/B,KAAK,CAAC1B,KAAN,CAAYkE,UAAZ,IAA0BxC,KAAK,CAAC1B,KAAN,CAAYkE,UAAZ,CAAuBzD,IAAvB,CAA4BC,sBAAsB,CAACgB,KAAD,CAAlD,EAA2DA,KAAK,CAAC1B,KAAN,CAAYd,CAAvE,EAA0EsE,CAA1E,EAA6EC,CAA7E,EAAgF;AAC/GtB,QAAAA,CAAC,EAAEA,CAD4G;AAE/GE,QAAAA,IAAI,EAAEA,IAFyG;AAG/GE,QAAAA,WAAW,EAAEA;AAHkG,OAAhF,CAAjC;AAKD,KA5Bc,CAAf;;AA8BA/C,IAAAA,eAAe,CAACkB,sBAAsB,CAACgB,KAAD,CAAvB,EAAgC,cAAhC,EAAgD,UAAUS;AACzE;AAD+D,MAE7DiC;AACF;AAH+D,MAI7D;AACA1C,MAAAA,KAAK,CAAC2C,eAAN,CAAsBlC,CAAtB,EAAyBiC,YAAzB,EAAuC,cAAvC;AACD,KANc,CAAf;;AAQA5E,IAAAA,eAAe,CAACkB,sBAAsB,CAACgB,KAAD,CAAvB,EAAgC,eAAhC,EAAiD,UAAUS;AAC1E;AADgE,MAE9DiC;AACF;AAHgE,MAI9D;AACA1C,MAAAA,KAAK,CAAC2C,eAAN,CAAsBlC,CAAtB,EAAyBiC,YAAzB,EAAuC,eAAvC;AACD,KANc,CAAf;;AAQA5E,IAAAA,eAAe,CAACkB,sBAAsB,CAACgB,KAAD,CAAvB,EAAgC,UAAhC,EAA4C,UAAUS;AACrE;AAD2D,MAEzDiC;AACF;AAH2D,MAIzD;AACA1C,MAAAA,KAAK,CAAC2C,eAAN,CAAsBlC,CAAtB,EAAyBiC,YAAzB,EAAuC,UAAvC;AACD,KANc,CAAf;;AAQA,WAAO1C,KAAP;AACD;;AAEDtB,EAAAA,YAAY,CAACmB,QAAD,EAAW,CAAC;AACtBhC,IAAAA,GAAG,EAAE,oBADiB;AAEtBrC,IAAAA,KAAK,EAAE,SAASoH,kBAAT,CAA4BC;AACnC;AADO,MAEL;AACA,UAAI,KAAKvE,KAAL,CAAWwE,gBAAX,IAA+BD,SAAS,CAACC,gBAA7C,EAA+D;AAC7D,aAAKC,gBAAL,CAAsBF,SAAtB;AACD;AACF;AARqB,GAAD,EASpB;AACDhF,IAAAA,GAAG,EAAE,kBADJ;AAEDrC,IAAAA,KAAK,EAAE,SAASuH,gBAAT,CAA0BF;AACjC;AADO,MAEL;AACA,UAAIC,gBAAgB,GAAG,KAAKxE,KAAL,CAAWwE,gBAAlC;AACA,UAAIvC,QAAQ,GAAG,KAAK6B,KAAL,CAAW7B,QAA1B;;AAEA,UAAI,CAACuC,gBAAD,IAAqB,CAACD,SAAS,CAACC,gBAApC,EAAsD;AACpD;AACD;;AAED,UAAI,CAAC,KAAKE,WAAV,EAAuB;AACrB;AACA,aAAKA,WAAL,GAAqBnH,SAAS,CAACJ,OAAV,CAAkBwH,WAAlB,CAA8B,IAA9B;AACrB;AADA;AAKD;;AAED,UAAIC,UAAU,GAAG3C,QAAQ,IAAIuC,gBAAgB,CAAChB,CAAjB,KAAuBe,SAAS,CAACC,gBAAV,CAA2BhB,CAA9D,IAAmEgB,gBAAgB,CAACf,CAAjB,KAAuBc,SAAS,CAACC,gBAAV,CAA2Bf,CAAtI;;AAEA,UAAI,CAACxB,QAAL,EAAe;AACb,aAAKK,WAAL,CAAiBkC,gBAAgB,CAACrC,CAAlC,EAAqC;AACnCE,UAAAA,IAAI,EAAE,KAAKqC,WADwB;AAEnCf,UAAAA,MAAM,EAAEa,gBAAgB,CAAChB,CAFU;AAGnCI,UAAAA,MAAM,EAAEY,gBAAgB,CAACf;AAHU,SAArC;AAKD,OAND,MAMO,IAAImB,UAAJ,EAAgB;AACrB,YAAIjB,MAAM,GAAGa,gBAAgB,CAAChB,CAAjB,GAAqBvB,QAAQ,CAACQ,IAA3C;AACA,YAAImB,MAAM,GAAGY,gBAAgB,CAACf,CAAjB,GAAqBxB,QAAQ,CAACO,GAA3C;AACA,aAAKqB,MAAL,CAAYW,gBAAgB,CAACrC,CAA7B,EAAgC;AAC9BE,UAAAA,IAAI,EAAE,KAAKqC,WADmB;AAE9Bf,UAAAA,MAAM,EAAEA,MAFsB;AAG9BC,UAAAA,MAAM,EAAEA;AAHsB,SAAhC;AAKD;AACF,KAtCA,CAsCC;;AAtCD,GAToB,EAiDpB;AACDrE,IAAAA,GAAG,EAAE,cADJ;AAEDrC,IAAAA,KAAK,EAAE,SAAS2H,YAAT;AACP;AACA;AACE,UAAIC,WAAW,GAAG,KAAK9E,KAAvB;AAAA,UACI+E,MAAM,GAAGD,WAAW,CAACC,MADzB;AAAA,UAEIC,gBAAgB,GAAGF,WAAW,CAACE,gBAFnC;AAAA,UAGIC,cAAc,GAAGH,WAAW,CAACG,cAHjC;AAAA,UAIIC,IAAI,GAAGJ,WAAW,CAACI,IAJvB;AAKA,aAAO,CAACD,cAAc,GAAGF,MAAM,CAAC,CAAD,CAAN,IAAaG,IAAI,GAAG,CAApB,CAAjB,GAA0CF,gBAAgB,CAAC,CAAD,CAAhB,GAAsB,CAAjE,IAAsEE,IAA7E;AACD;AACD;;;;;;;;;;AAZC,GAjDoB,EAuEpB;AACD3F,IAAAA,GAAG,EAAE,cADJ;AAEDrC,IAAAA,KAAK,EAAE,SAASiI,YAAT,CAAsB3B;AAC7B;AADO,MAELC;AACF;AAHO,MAIL2B;AACF;AALO,MAMLC;AACF;AAPO,MAQLvB;AACF;AATO;AAWP;AACA;AACE,UAAIwB,YAAY,GAAG,KAAKtF,KAAxB;AAAA,UACI+E,MAAM,GAAGO,YAAY,CAACP,MAD1B;AAAA,UAEIC,gBAAgB,GAAGM,YAAY,CAACN,gBAFpC;AAAA,UAGIO,SAAS,GAAGD,YAAY,CAACC,SAH7B;AAIA,UAAIC,QAAQ,GAAG,KAAKX,YAAL,EAAf;AACA,UAAIY,GAAG,GAAG,EAAV,CANF,CAMgB;;AAEd,UAAI3B,KAAK,IAAIA,KAAK,CAAC9B,QAAnB,EAA6B;AAC3ByD,QAAAA,GAAG,CAACC,KAAJ,GAAYC,IAAI,CAACC,KAAL,CAAW9B,KAAK,CAAC9B,QAAN,CAAe0D,KAA1B,CAAZ;AACAD,QAAAA,GAAG,CAACI,MAAJ,GAAaF,IAAI,CAACC,KAAL,CAAW9B,KAAK,CAAC9B,QAAN,CAAe6D,MAA1B,CAAb;AACD,OAHD,CAGE;AAHF,WAIK;AACD;AACA;AACA;AACAJ,UAAAA,GAAG,CAACC,KAAJ,GAAYN,CAAC,KAAKU,QAAN,GAAiBV,CAAjB,GAAqBO,IAAI,CAACC,KAAL,CAAWJ,QAAQ,GAAGJ,CAAX,GAAeO,IAAI,CAACI,GAAL,CAAS,CAAT,EAAYX,CAAC,GAAG,CAAhB,IAAqBL,MAAM,CAAC,CAAD,CAArD,CAAjC;AACAU,UAAAA,GAAG,CAACI,MAAJ,GAAaR,CAAC,KAAKS,QAAN,GAAiBT,CAAjB,GAAqBM,IAAI,CAACC,KAAL,CAAWL,SAAS,GAAGF,CAAZ,GAAgBM,IAAI,CAACI,GAAL,CAAS,CAAT,EAAYV,CAAC,GAAG,CAAhB,IAAqBN,MAAM,CAAC,CAAD,CAAtD,CAAlC;AACD,SAlBL,CAkBM;;;AAGJ,UAAIjB,KAAK,IAAIA,KAAK,CAAC7B,QAAnB,EAA6B;AAC3BwD,QAAAA,GAAG,CAACjD,GAAJ,GAAUmD,IAAI,CAACC,KAAL,CAAW9B,KAAK,CAAC7B,QAAN,CAAeO,GAA1B,CAAV;AACAiD,QAAAA,GAAG,CAAChD,IAAJ,GAAWkD,IAAI,CAACC,KAAL,CAAW9B,KAAK,CAAC7B,QAAN,CAAeQ,IAA1B,CAAX;AACD,OAHD,CAGE;AAHF,WAIK;AACDgD,UAAAA,GAAG,CAACjD,GAAJ,GAAUmD,IAAI,CAACC,KAAL,CAAW,CAACL,SAAS,GAAGR,MAAM,CAAC,CAAD,CAAnB,IAA0BtB,CAA1B,GAA8BuB,gBAAgB,CAAC,CAAD,CAAzD,CAAV;AACAS,UAAAA,GAAG,CAAChD,IAAJ,GAAWkD,IAAI,CAACC,KAAL,CAAW,CAACJ,QAAQ,GAAGT,MAAM,CAAC,CAAD,CAAlB,IAAyBvB,CAAzB,GAA6BwB,gBAAgB,CAAC,CAAD,CAAxD,CAAX;AACD;;AAEH,aAAOS,GAAP;AACD;AACD;;;;;;;AA9CC,GAvEoB,EA4HpB;AACDlG,IAAAA,GAAG,EAAE,QADJ;AAEDrC,IAAAA,KAAK,EAAE,SAASqG,MAAT,CAAgBf;AACvB;AADO,MAELC;AACF;AAHO;AAKP;AACA;AACE,UAAIuD,YAAY,GAAG,KAAKhG,KAAxB;AAAA,UACI+E,MAAM,GAAGiB,YAAY,CAACjB,MAD1B;AAAA,UAEIG,IAAI,GAAGc,YAAY,CAACd,IAFxB;AAAA,UAGIK,SAAS,GAAGS,YAAY,CAACT,SAH7B;AAAA,UAIIH,CAAC,GAAGY,YAAY,CAACZ,CAJrB;AAAA,UAKIC,CAAC,GAAGW,YAAY,CAACX,CALrB;AAAA,UAMIY,OAAO,GAAGD,YAAY,CAACC,OAN3B;AAOA,UAAIT,QAAQ,GAAG,KAAKX,YAAL,EAAf,CARF,CAQsC;AACpC;AACA;AACA;AACA;AACA;AACA;;AAEA,UAAIrB,CAAC,GAAGmC,IAAI,CAACC,KAAL,CAAW,CAACnD,IAAI,GAAGsC,MAAM,CAAC,CAAD,CAAd,KAAsBS,QAAQ,GAAGT,MAAM,CAAC,CAAD,CAAvC,CAAX,CAAR;AACA,UAAItB,CAAC,GAAGkC,IAAI,CAACC,KAAL,CAAW,CAACpD,GAAG,GAAGuC,MAAM,CAAC,CAAD,CAAb,KAAqBQ,SAAS,GAAGR,MAAM,CAAC,CAAD,CAAvC,CAAX,CAAR,CAjBF,CAiBmE;;AAEjEvB,MAAAA,CAAC,GAAGmC,IAAI,CAACI,GAAL,CAASJ,IAAI,CAACO,GAAL,CAAS1C,CAAT,EAAY0B,IAAI,GAAGE,CAAnB,CAAT,EAAgC,CAAhC,CAAJ;AACA3B,MAAAA,CAAC,GAAGkC,IAAI,CAACI,GAAL,CAASJ,IAAI,CAACO,GAAL,CAASzC,CAAT,EAAYwC,OAAO,GAAGZ,CAAtB,CAAT,EAAmC,CAAnC,CAAJ;AACA,aAAO;AACL7B,QAAAA,CAAC,EAAEA,CADE;AAELC,QAAAA,CAAC,EAAEA;AAFE,OAAP;AAID;AACD;;;;;;;AAlCC,GA5HoB,EAqKpB;AACDlE,IAAAA,GAAG,EAAE,QADJ;AAEDrC,IAAAA,KAAK,EAAE,SAASiJ,MAAT,CAAgBC,KAAhB;AACP;AACA;AACE,UAAIP,MAAM,GAAGO,KAAK,CAACP,MAAnB;AAAA,UACIH,KAAK,GAAGU,KAAK,CAACV,KADlB;AAEA,UAAIW,YAAY,GAAG,KAAKrG,KAAxB;AAAA,UACI+E,MAAM,GAAGsB,YAAY,CAACtB,MAD1B;AAAA,UAEIkB,OAAO,GAAGI,YAAY,CAACJ,OAF3B;AAAA,UAGIf,IAAI,GAAGmB,YAAY,CAACnB,IAHxB;AAAA,UAIIK,SAAS,GAAGc,YAAY,CAACd,SAJ7B;AAAA,UAKI/B,CAAC,GAAG6C,YAAY,CAAC7C,CALrB;AAAA,UAMIC,CAAC,GAAG4C,YAAY,CAAC5C,CANrB;AAOA,UAAI+B,QAAQ,GAAG,KAAKX,YAAL,EAAf,CAVF,CAUsC;AACpC;AACA;;AAEA,UAAIO,CAAC,GAAGO,IAAI,CAACC,KAAL,CAAW,CAACF,KAAK,GAAGX,MAAM,CAAC,CAAD,CAAf,KAAuBS,QAAQ,GAAGT,MAAM,CAAC,CAAD,CAAxC,CAAX,CAAR;AACA,UAAIM,CAAC,GAAGM,IAAI,CAACC,KAAL,CAAW,CAACC,MAAM,GAAGd,MAAM,CAAC,CAAD,CAAhB,KAAwBQ,SAAS,GAAGR,MAAM,CAAC,CAAD,CAA1C,CAAX,CAAR,CAfF,CAesE;;AAEpEK,MAAAA,CAAC,GAAGO,IAAI,CAACI,GAAL,CAASJ,IAAI,CAACO,GAAL,CAASd,CAAT,EAAYF,IAAI,GAAG1B,CAAnB,CAAT,EAAgC,CAAhC,CAAJ;AACA6B,MAAAA,CAAC,GAAGM,IAAI,CAACI,GAAL,CAASJ,IAAI,CAACO,GAAL,CAASb,CAAT,EAAYY,OAAO,GAAGxC,CAAtB,CAAT,EAAmC,CAAnC,CAAJ;AACA,aAAO;AACL2B,QAAAA,CAAC,EAAEA,CADE;AAELC,QAAAA,CAAC,EAAEA;AAFE,OAAP;AAID;AACD;;;;;;;;;;;AA5BC,GArKoB,EA4MpB;AACD9F,IAAAA,GAAG,EAAE,aADJ;AAEDrC,IAAAA,KAAK,EAAE,SAASoJ,WAAT,CAAqBC;AAC5B;AADO;AAGP;AACA;AACE,UAAIC,YAAY,GAAG,KAAKxG,KAAxB;AAAA,UACIyG,cAAc,GAAGD,YAAY,CAACC,cADlC;AAAA,UAEIxB,cAAc,GAAGuB,YAAY,CAACvB,cAFlC;AAAA,UAGIyB,gBAAgB,GAAGF,YAAY,CAACE,gBAHpC;AAIA,UAAIC,KAAJ,CALF,CAKa;;AAEX,UAAID,gBAAJ,EAAsB;AACpBC,QAAAA,KAAK,GAAG,CAAC,GAAGhJ,MAAM,CAACiJ,YAAX,EAAyBL,GAAzB,CAAR;AACD,OAFD,MAEO;AACL;AACAI,QAAAA,KAAK,GAAG,CAAC,GAAGhJ,MAAM,CAACkJ,UAAX,EAAuBN,GAAvB,CAAR,CAFK,CAEgC;;AAErC,YAAIE,cAAJ,EAAoB;AAClBE,UAAAA,KAAK,CAAClE,IAAN,GAAa,CAAC,GAAG9E,MAAM,CAACmJ,IAAX,EAAiBP,GAAG,CAAC9D,IAAJ,GAAWwC,cAA5B,CAAb;AACA0B,UAAAA,KAAK,CAACjB,KAAN,GAAc,CAAC,GAAG/H,MAAM,CAACmJ,IAAX,EAAiBP,GAAG,CAACb,KAAJ,GAAYT,cAA7B,CAAd;AACD;AACF;;AAED,aAAO0B,KAAP;AACD;AACD;;;;;;AA3BC,GA5MoB,EA6OpB;AACDpH,IAAAA,GAAG,EAAE,gBADJ;AAEDrC,IAAAA,KAAK,EAAE,SAAS6J,cAAT,CAAwBC;AAC/B;AADO;AAGP;AACA;AACE,aAAO5J,MAAM,CAACD,OAAP,CAAe8J,aAAf,CAA6BxJ,eAAe,CAACyJ,aAA7C,EAA4D;AACjEC,QAAAA,OAAO,EAAE,KAAK7E,WADmD;AAEjEuB,QAAAA,MAAM,EAAE,KAAKA,MAFoD;AAGjEuD,QAAAA,MAAM,EAAE,KAAKlD,UAHoD;AAIjEmD,QAAAA,MAAM,EAAE,KAAKrH,KAAL,CAAWqH,MAJ8C;AAKjEC,QAAAA,MAAM,EAAE,6BAA6B,KAAKtH,KAAL,CAAWsH,MAAX,GAAoB,MAAM,KAAKtH,KAAL,CAAWsH,MAArC,GAA8C,EAA3E,CALyD;AAMjEC,QAAAA,KAAK,EAAE,KAAKvH,KAAL,CAAW+C;AAN+C,OAA5D,EAOJiE,KAPI,CAAP;AAQD;AACD;;;;;;;AAhBC,GA7OoB,EAoQpB;AACDzH,IAAAA,GAAG,EAAE,gBADJ;AAEDrC,IAAAA,KAAK,EAAE,SAASsK,cAAT,CAAwBR;AAC/B;AADO,MAELS;AACF;AAHO;AAKP;AACA;AACE,UAAIC,YAAY,GAAG,KAAK1H,KAAxB;AAAA,UACIkF,IAAI,GAAGwC,YAAY,CAACxC,IADxB;AAAA,UAEI1B,CAAC,GAAGkE,YAAY,CAAClE,CAFrB;AAAA,UAGImE,IAAI,GAAGD,YAAY,CAACC,IAHxB;AAAA,UAIIC,IAAI,GAAGF,YAAY,CAACE,IAJxB;AAAA,UAKIC,IAAI,GAAGH,YAAY,CAACG,IALxB;AAAA,UAMIC,IAAI,GAAGJ,YAAY,CAACI,IANxB,CADF,CAOgC;;AAE9B,UAAIC,QAAQ,GAAG,KAAK5C,YAAL,CAAkB,CAAlB,EAAqB,CAArB,EAAwBD,IAAI,GAAG1B,CAA/B,EAAkC,CAAlC,EAAqCkC,KAApD,CATF,CAS6D;;AAE3D,UAAIsC,IAAI,GAAG,KAAK7C,YAAL,CAAkB,CAAlB,EAAqB,CAArB,EAAwBwC,IAAxB,EAA8BC,IAA9B,CAAX;AACA,UAAIK,KAAK,GAAG,KAAK9C,YAAL,CAAkB,CAAlB,EAAqB,CAArB,EAAwB0C,IAAxB,EAA8BC,IAA9B,CAAZ;AACA,UAAII,cAAc,GAAG,CAACF,IAAI,CAACtC,KAAN,EAAasC,IAAI,CAACnC,MAAlB,CAArB;AACA,UAAIsC,cAAc,GAAG,CAACxC,IAAI,CAACO,GAAL,CAAS+B,KAAK,CAACvC,KAAf,EAAsBqC,QAAtB,CAAD,EAAkCpC,IAAI,CAACO,GAAL,CAAS+B,KAAK,CAACpC,MAAf,EAAuBC,QAAvB,CAAlC,CAArB;AACA,aAAO1I,MAAM,CAACD,OAAP,CAAe8J,aAAf,CAA6BvJ,eAAe,CAAC0K,SAA7C,EAAwD;AAC7D1C,QAAAA,KAAK,EAAE+B,QAAQ,CAAC/B,KAD6C;AAE7DG,QAAAA,MAAM,EAAE4B,QAAQ,CAAC5B,MAF4C;AAG7DqC,QAAAA,cAAc,EAAEA,cAH6C;AAI7DC,QAAAA,cAAc,EAAEA,cAJ6C;AAK7DE,QAAAA,YAAY,EAAE,KAAKA,YAL0C;AAM7DC,QAAAA,aAAa,EAAE,KAAKA,aANyC;AAO7DC,QAAAA,QAAQ,EAAE,KAAKA;AAP8C,OAAxD,EAQJvB,KARI,CAAP;AASD;AACD;;;;;;AAjCC,GApQoB,EA2SpB;AACDzH,IAAAA,GAAG,EAAE,iBADJ;;AAGD;;;;;;;;AAQArC,IAAAA,KAAK,EAAE,SAASmH,eAAT,CAAyBlC;AAChC;AADO,MAELqG,KAFK,EAEEC;AACT;AAHO,MAIL;AACA,UAAIpG,IAAI,GAAGmG,KAAK,CAACnG,IAAjB;AAAA,UACIqG,IAAI,GAAGF,KAAK,CAACE,IADjB;AAEA,UAAIC,OAAO,GAAG,KAAK3I,KAAL,CAAWyI,WAAX,CAAd;AACA,UAAI,CAACE,OAAL,EAAc;AACd,UAAIC,YAAY,GAAG,KAAK5I,KAAxB;AAAA,UACIkF,IAAI,GAAG0D,YAAY,CAAC1D,IADxB;AAAA,UAEI1B,CAAC,GAAGoF,YAAY,CAACpF,CAFrB;AAAA,UAGItE,CAAC,GAAG0J,YAAY,CAAC1J,CAHrB;AAAA,UAII2I,IAAI,GAAGe,YAAY,CAACf,IAJxB;AAAA,UAKIF,IAAI,GAAGiB,YAAY,CAACjB,IALxB;AAAA,UAMIG,IAAI,GAAGc,YAAY,CAACd,IANxB;AAAA,UAOIF,IAAI,GAAGgB,YAAY,CAAChB,IAPxB,CALA,CAY8B;;AAE9B,UAAIiB,YAAY,GAAG,KAAK1C,MAAL,CAAYuC,IAAZ,CAAnB;AAAA,UACItD,CAAC,GAAGyD,YAAY,CAACzD,CADrB;AAAA,UAEIC,CAAC,GAAGwD,YAAY,CAACxD,CAFrB,CAdA,CAgBwB;;;AAGxBD,MAAAA,CAAC,GAAGO,IAAI,CAACO,GAAL,CAASd,CAAT,EAAYF,IAAI,GAAG1B,CAAnB,CAAJ,CAnBA,CAmB2B;;AAE3B4B,MAAAA,CAAC,GAAGO,IAAI,CAACI,GAAL,CAASX,CAAT,EAAY,CAAZ,CAAJ,CArBA,CAqBoB;;AAEpBA,MAAAA,CAAC,GAAGO,IAAI,CAACI,GAAL,CAASJ,IAAI,CAACO,GAAL,CAASd,CAAT,EAAYyC,IAAZ,CAAT,EAA4BF,IAA5B,CAAJ;AACAtC,MAAAA,CAAC,GAAGM,IAAI,CAACI,GAAL,CAASJ,IAAI,CAACO,GAAL,CAASb,CAAT,EAAYyC,IAAZ,CAAT,EAA4BF,IAA5B,CAAJ;AACA,WAAKvE,QAAL,CAAc;AACZrB,QAAAA,QAAQ,EAAEyG,WAAW,KAAK,cAAhB,GAAiC,IAAjC,GAAwCC;AADtC,OAAd;AAGAC,MAAAA,OAAO,CAAClI,IAAR,CAAa,IAAb,EAAmBvB,CAAnB,EAAsBkG,CAAtB,EAAyBC,CAAzB,EAA4B;AAC1BlD,QAAAA,CAAC,EAAEA,CADuB;AAE1BE,QAAAA,IAAI,EAAEA,IAFoB;AAG1BqG,QAAAA,IAAI,EAAEA;AAHoB,OAA5B;AAKD;AAhDA,GA3SoB,EA4VpB;AACDnJ,IAAAA,GAAG,EAAE,QADJ;AAEDrC,IAAAA,KAAK,EAAE,SAAS4L,MAAT;AACP;AACA;AACE,UAAIC,YAAY,GAAG,KAAK/I,KAAxB;AAAA,UACIwD,CAAC,GAAGuF,YAAY,CAACvF,CADrB;AAAA,UAEIC,CAAC,GAAGsF,YAAY,CAACtF,CAFrB;AAAA,UAGI2B,CAAC,GAAG2D,YAAY,CAAC3D,CAHrB;AAAA,UAIIC,CAAC,GAAG0D,YAAY,CAAC1D,CAJrB;AAAA,UAKI2D,WAAW,GAAGD,YAAY,CAACC,WAL/B;AAAA,UAMIC,WAAW,GAAGF,YAAY,CAACE,WAN/B;AAAA,UAOIzE,gBAAgB,GAAGuE,YAAY,CAACvE,gBAPpC;AAAA,UAQIkC,gBAAgB,GAAGqC,YAAY,CAACrC,gBARpC;AASA,UAAIH,GAAG,GAAG,KAAKpB,YAAL,CAAkB3B,CAAlB,EAAqBC,CAArB,EAAwB2B,CAAxB,EAA2BC,CAA3B,EAA8B,KAAKvB,KAAnC,CAAV;;AAEA,UAAIkD,KAAK,GAAG5J,MAAM,CAACD,OAAP,CAAe+L,QAAf,CAAwBC,IAAxB,CAA6B,KAAKnJ,KAAL,CAAWoJ,QAAxC,CAAZ,CAZF,CAYiE;;;AAG/D,UAAIC,QAAQ,GAAGjM,MAAM,CAACD,OAAP,CAAemM,YAAf,CAA4BtC,KAA5B,EAAmC;AAChD9E,QAAAA,SAAS,EAAE,CAAC,GAAGtE,WAAW,CAACT,OAAhB,EAAyB,iBAAzB,EAA4C6J,KAAK,CAAChH,KAAN,CAAYkC,SAAxD,EAAmE,KAAKlC,KAAL,CAAWkC,SAA9E,EAAyF;AAClGqH,UAAAA,MAAM,EAAE,KAAKvJ,KAAL,CAAWuJ,MAD+E;AAElGvH,UAAAA,QAAQ,EAAEwH,OAAO,CAAC,KAAK1F,KAAL,CAAW9B,QAAZ,CAFiF;AAGlG,6BAAmBgH,WAH+E;AAIlG,sCAA4BQ,OAAO,CAAC,KAAK1F,KAAL,CAAW7B,QAAZ,CAJ+D;AAKlGwH,UAAAA,QAAQ,EAAED,OAAO,CAAChF,gBAAD,CALiF;AAMlGkF,UAAAA,aAAa,EAAEhD;AANmF,SAAzF,CADqC;AAShD;AACAC,QAAAA,KAAK,EAAE3H,aAAa,CAAC,EAAD,EAAK,KAAKgB,KAAL,CAAW2G,KAAhB,EAAuB,EAAvB,EAA2BK,KAAK,CAAChH,KAAN,CAAY2G,KAAvC,EAA8C,EAA9C,EAAkD,KAAKL,WAAL,CAAiBC,GAAjB,CAAlD;AAV4B,OAAnC,CAAf,CAfF,CA0BM;;;AAGJ,UAAI0C,WAAJ,EAAiBI,QAAQ,GAAG,KAAK7B,cAAL,CAAoB6B,QAApB,EAA8B9C,GAA9B,CAAX,CA7BnB,CA6BkE;;AAEhE,UAAIyC,WAAJ,EAAiBK,QAAQ,GAAG,KAAKtC,cAAL,CAAoBsC,QAApB,CAAX;AACjB,aAAOA,QAAP;AACD;AArCA,GA5VoB,CAAX,CAAZ;;AAoYA,SAAO9H,QAAP;AACD,CA5hBD,CA4hBEnE,MAAM,CAACD,OAAP,CAAewM,SA5hBjB,CAFA;;AAgiBA1M,OAAO,CAACE,OAAR,GAAkBoE,QAAlB;;AAEA/B,eAAe,CAAC+B,QAAD,EAAW,WAAX,EAAwB;AACrC;AACA6H,EAAAA,QAAQ,EAAE5L,UAAU,CAACL,OAAX,CAAmByM,OAFQ;AAGrC;AACA1E,EAAAA,IAAI,EAAE1H,UAAU,CAACL,OAAX,CAAmB0M,MAAnB,CAA0BC,UAJK;AAKrC7E,EAAAA,cAAc,EAAEzH,UAAU,CAACL,OAAX,CAAmB0M,MAAnB,CAA0BC,UALL;AAMrCvE,EAAAA,SAAS,EAAE/H,UAAU,CAACL,OAAX,CAAmB0M,MAAnB,CAA0BC,UANA;AAOrC/E,EAAAA,MAAM,EAAEvH,UAAU,CAACL,OAAX,CAAmB4M,KAAnB,CAAyBD,UAPI;AAQrC7D,EAAAA,OAAO,EAAEzI,UAAU,CAACL,OAAX,CAAmB0M,MAAnB,CAA0BC,UARE;AASrC9E,EAAAA,gBAAgB,EAAExH,UAAU,CAACL,OAAX,CAAmB4M,KAAnB,CAAyBD,UATN;AAUrC;AACAtG,EAAAA,CAAC,EAAEhG,UAAU,CAACL,OAAX,CAAmB0M,MAAnB,CAA0BC,UAXQ;AAYrCrG,EAAAA,CAAC,EAAEjG,UAAU,CAACL,OAAX,CAAmB0M,MAAnB,CAA0BC,UAZQ;AAarC1E,EAAAA,CAAC,EAAE5H,UAAU,CAACL,OAAX,CAAmB0M,MAAnB,CAA0BC,UAbQ;AAcrCzE,EAAAA,CAAC,EAAE7H,UAAU,CAACL,OAAX,CAAmB0M,MAAnB,CAA0BC,UAdQ;AAerC;AACAnC,EAAAA,IAAI,EAAE,SAASA,IAAT,CAAc3H;AACpB;AADM,IAEJgK;AACF;AAHM,IAIJ;AACA,QAAI9M,KAAK,GAAG8C,KAAK,CAACgK,QAAD,CAAjB;AACA,QAAI,OAAO9M,KAAP,KAAiB,QAArB,EAA+B,OAAO,IAAI6G,KAAJ,CAAU,qBAAV,CAAP;AAC/B,QAAI7G,KAAK,GAAG8C,KAAK,CAACoF,CAAd,IAAmBlI,KAAK,GAAG8C,KAAK,CAAC6H,IAArC,EAA2C,OAAO,IAAI9D,KAAJ,CAAU,0CAAV,CAAP;AAC5C,GAxBoC;AAyBrC8D,EAAAA,IAAI,EAAE,SAASA,IAAT,CAAc7H;AACpB;AADM,IAEJgK;AACF;AAHM,IAIJ;AACA,QAAI9M,KAAK,GAAG8C,KAAK,CAACgK,QAAD,CAAjB;AACA,QAAI,OAAO9M,KAAP,KAAiB,QAArB,EAA+B,OAAO,IAAI6G,KAAJ,CAAU,qBAAV,CAAP;AAC/B,QAAI7G,KAAK,GAAG8C,KAAK,CAACoF,CAAd,IAAmBlI,KAAK,GAAG8C,KAAK,CAAC2H,IAArC,EAA2C,OAAO,IAAI5D,KAAJ,CAAU,2CAAV,CAAP;AAC5C,GAjCoC;AAkCrC6D,EAAAA,IAAI,EAAE,SAASA,IAAT,CAAc5H;AACpB;AADM,IAEJgK;AACF;AAHM,IAIJ;AACA,QAAI9M,KAAK,GAAG8C,KAAK,CAACgK,QAAD,CAAjB;AACA,QAAI,OAAO9M,KAAP,KAAiB,QAArB,EAA+B,OAAO,IAAI6G,KAAJ,CAAU,sBAAV,CAAP;AAC/B,QAAI7G,KAAK,GAAG8C,KAAK,CAACqF,CAAd,IAAmBnI,KAAK,GAAG8C,KAAK,CAAC8H,IAArC,EAA2C,OAAO,IAAI/D,KAAJ,CAAU,6CAAV,CAAP;AAC5C,GA1CoC;AA2CrC+D,EAAAA,IAAI,EAAE,SAASA,IAAT,CAAc9H;AACpB;AADM,IAEJgK;AACF;AAHM,IAIJ;AACA,QAAI9M,KAAK,GAAG8C,KAAK,CAACgK,QAAD,CAAjB;AACA,QAAI,OAAO9M,KAAP,KAAiB,QAArB,EAA+B,OAAO,IAAI6G,KAAJ,CAAU,sBAAV,CAAP;AAC/B,QAAI7G,KAAK,GAAG8C,KAAK,CAACqF,CAAd,IAAmBnI,KAAK,GAAG8C,KAAK,CAAC4H,IAArC,EAA2C,OAAO,IAAI7D,KAAJ,CAAU,8CAAV,CAAP;AAC5C,GAnDoC;AAoDrC;AACA7E,EAAAA,CAAC,EAAE1B,UAAU,CAACL,OAAX,CAAmB8M,MAAnB,CAA0BH,UArDQ;AAsDrC;AACA5F,EAAAA,UAAU,EAAE1G,UAAU,CAACL,OAAX,CAAmB+M,IAvDM;AAwDrC5H,EAAAA,WAAW,EAAE9E,UAAU,CAACL,OAAX,CAAmB+M,IAxDK;AAyDrCrG,EAAAA,MAAM,EAAErG,UAAU,CAACL,OAAX,CAAmB+M,IAzDU;AA0DrC7B,EAAAA,YAAY,EAAE7K,UAAU,CAACL,OAAX,CAAmB+M,IA1DI;AA2DrC5B,EAAAA,aAAa,EAAE9K,UAAU,CAACL,OAAX,CAAmB+M,IA3DG;AA4DrC3B,EAAAA,QAAQ,EAAE/K,UAAU,CAACL,OAAX,CAAmB+M,IA5DQ;AA6DrC;AACAlB,EAAAA,WAAW,EAAExL,UAAU,CAACL,OAAX,CAAmBgN,IAAnB,CAAwBL,UA9DA;AA+DrCb,EAAAA,WAAW,EAAEzL,UAAU,CAACL,OAAX,CAAmBgN,IAAnB,CAAwBL,UA/DA;AAgErCP,EAAAA,MAAM,EAAE/L,UAAU,CAACL,OAAX,CAAmBgN,IAhEU;AAiErC;AACAzD,EAAAA,gBAAgB,EAAElJ,UAAU,CAACL,OAAX,CAAmBgN,IAAnB,CAAwBL,UAlEL;AAmErC/G,EAAAA,cAAc,EAAEvF,UAAU,CAACL,OAAX,CAAmB0M,MAnEE;AAoErC;AACA3H,EAAAA,SAAS,EAAE1E,UAAU,CAACL,OAAX,CAAmB8M,MArEO;AAsErC;AACA5C,EAAAA,MAAM,EAAE7J,UAAU,CAACL,OAAX,CAAmB8M,MAvEU;AAwErC;AACA3C,EAAAA,MAAM,EAAE9J,UAAU,CAACL,OAAX,CAAmB8M,MAzEU;AA0ErC;AACAzF,EAAAA,gBAAgB,EAAEhH,UAAU,CAACL,OAAX,CAAmBiN,KAAnB,CAAyB;AACzCjI,IAAAA,CAAC,EAAE3E,UAAU,CAACL,OAAX,CAAmBkB,MAAnB,CAA0ByL,UADY;AAEzCtG,IAAAA,CAAC,EAAEhG,UAAU,CAACL,OAAX,CAAmB0M,MAAnB,CAA0BC,UAFY;AAGzCrG,IAAAA,CAAC,EAAEjG,UAAU,CAACL,OAAX,CAAmB0M,MAAnB,CAA0BC;AAHY,GAAzB;AA3EmB,CAAxB,CAAf;;AAkFAtK,eAAe,CAAC+B,QAAD,EAAW,cAAX,EAA2B;AACxCW,EAAAA,SAAS,EAAE,EAD6B;AAExCoF,EAAAA,MAAM,EAAE,EAFgC;AAGxCD,EAAAA,MAAM,EAAE,EAHgC;AAIxCO,EAAAA,IAAI,EAAE,CAJkC;AAKxCD,EAAAA,IAAI,EAAE,CALkC;AAMxCG,EAAAA,IAAI,EAAEhC,QANkC;AAOxC+B,EAAAA,IAAI,EAAE/B,QAPkC;AAQxC/C,EAAAA,cAAc,EAAE;AARwB,CAA3B,CAAf","sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _reactDom = _interopRequireDefault(require(\"react-dom\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _reactDraggable = require(\"react-draggable\");\n\nvar _reactResizable = require(\"react-resizable\");\n\nvar _utils = require(\"./utils\");\n\nvar _classnames = _interopRequireDefault(require(\"classnames\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n/**\n * An individual item within a ReactGridLayout.\n */\nvar GridItem =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(GridItem, _React$Component);\n\n  function GridItem() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, GridItem);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(GridItem)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      resizing: null,\n      dragging: null,\n      className: \"\"\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"currentNode\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"onDragStart\", function (e\n    /*: Event*/\n    , _ref) {\n      var node = _ref.node;\n      if (!_this.props.onDragStart) return;\n      var newPosition\n      /*: PartialPosition*/\n      = {\n        top: 0,\n        left: 0\n      }; // TODO: this wont work on nested parents\n\n      var offsetParent = node.offsetParent;\n      if (!offsetParent) return;\n      var parentRect = offsetParent.getBoundingClientRect();\n      var clientRect = node.getBoundingClientRect();\n      var cLeft = clientRect.left / _this.props.transformScale;\n      var pLeft = parentRect.left / _this.props.transformScale;\n      var cTop = clientRect.top / _this.props.transformScale;\n      var pTop = parentRect.top / _this.props.transformScale;\n      newPosition.left = cLeft - pLeft + offsetParent.scrollLeft;\n      newPosition.top = cTop - pTop + offsetParent.scrollTop;\n\n      _this.setState({\n        dragging: newPosition\n      });\n\n      var _this$calcXY = _this.calcXY(newPosition.top, newPosition.left),\n          x = _this$calcXY.x,\n          y = _this$calcXY.y;\n\n      return _this.props.onDragStart && _this.props.onDragStart.call(_assertThisInitialized(_this), _this.props.i, x, y, {\n        e: e,\n        node: node,\n        newPosition: newPosition\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onDrag\", function (e\n    /*: Event*/\n    , _ref2) {\n      var node = _ref2.node,\n          deltaX = _ref2.deltaX,\n          deltaY = _ref2.deltaY;\n      if (!_this.props.onDrag) return;\n      var newPosition\n      /*: PartialPosition*/\n      = {\n        top: 0,\n        left: 0\n      };\n      if (!_this.state.dragging) throw new Error(\"onDrag called before onDragStart.\");\n      newPosition.left = _this.state.dragging.left + deltaX;\n      newPosition.top = _this.state.dragging.top + deltaY;\n\n      _this.setState({\n        dragging: newPosition\n      });\n\n      var _this$calcXY2 = _this.calcXY(newPosition.top, newPosition.left),\n          x = _this$calcXY2.x,\n          y = _this$calcXY2.y;\n\n      return _this.props.onDrag && _this.props.onDrag.call(_assertThisInitialized(_this), _this.props.i, x, y, {\n        e: e,\n        node: node,\n        newPosition: newPosition\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onDragStop\", function (e\n    /*: Event*/\n    , _ref3) {\n      var node = _ref3.node;\n      if (!_this.props.onDragStop) return;\n      var newPosition\n      /*: PartialPosition*/\n      = {\n        top: 0,\n        left: 0\n      };\n      if (!_this.state.dragging) throw new Error(\"onDragEnd called before onDragStart.\");\n      newPosition.left = _this.state.dragging.left;\n      newPosition.top = _this.state.dragging.top;\n\n      _this.setState({\n        dragging: null\n      });\n\n      var _this$calcXY3 = _this.calcXY(newPosition.top, newPosition.left),\n          x = _this$calcXY3.x,\n          y = _this$calcXY3.y;\n\n      return _this.props.onDragStop && _this.props.onDragStop.call(_assertThisInitialized(_this), _this.props.i, x, y, {\n        e: e,\n        node: node,\n        newPosition: newPosition\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onResizeStop\", function (e\n    /*: Event*/\n    , callbackData\n    /*: { node: HTMLElement, size: Position }*/\n    ) {\n      _this.onResizeHandler(e, callbackData, \"onResizeStop\");\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onResizeStart\", function (e\n    /*: Event*/\n    , callbackData\n    /*: { node: HTMLElement, size: Position }*/\n    ) {\n      _this.onResizeHandler(e, callbackData, \"onResizeStart\");\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onResize\", function (e\n    /*: Event*/\n    , callbackData\n    /*: { node: HTMLElement, size: Position }*/\n    ) {\n      _this.onResizeHandler(e, callbackData, \"onResize\");\n    });\n\n    return _this;\n  }\n\n  _createClass(GridItem, [{\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps\n    /*: Props*/\n    ) {\n      if (this.props.droppingPosition && prevProps.droppingPosition) {\n        this.moveDroppingItem(prevProps);\n      }\n    }\n  }, {\n    key: \"moveDroppingItem\",\n    value: function moveDroppingItem(prevProps\n    /*: Props*/\n    ) {\n      var droppingPosition = this.props.droppingPosition;\n      var dragging = this.state.dragging;\n\n      if (!droppingPosition || !prevProps.droppingPosition) {\n        return;\n      }\n\n      if (!this.currentNode) {\n        // eslint-disable-next-line react/no-find-dom-node\n        this.currentNode = ((_reactDom.default.findDOMNode(this)\n        /*: any*/\n        )\n        /*: HTMLElement*/\n        );\n      }\n\n      var shouldDrag = dragging && droppingPosition.x !== prevProps.droppingPosition.x || droppingPosition.y !== prevProps.droppingPosition.y;\n\n      if (!dragging) {\n        this.onDragStart(droppingPosition.e, {\n          node: this.currentNode,\n          deltaX: droppingPosition.x,\n          deltaY: droppingPosition.y\n        });\n      } else if (shouldDrag) {\n        var deltaX = droppingPosition.x - dragging.left;\n        var deltaY = droppingPosition.y - dragging.top;\n        this.onDrag(droppingPosition.e, {\n          node: this.currentNode,\n          deltaX: deltaX,\n          deltaY: deltaY\n        });\n      }\n    } // Helper for generating column width\n\n  }, {\n    key: \"calcColWidth\",\n    value: function calcColWidth()\n    /*: number*/\n    {\n      var _this$props = this.props,\n          margin = _this$props.margin,\n          containerPadding = _this$props.containerPadding,\n          containerWidth = _this$props.containerWidth,\n          cols = _this$props.cols;\n      return (containerWidth - margin[0] * (cols - 1) - containerPadding[0] * 2) / cols;\n    }\n    /**\n     * Return position on the page given an x, y, w, h.\n     * left, top, width, height are all in pixels.\n     * @param  {Number}  x             X coordinate in grid units.\n     * @param  {Number}  y             Y coordinate in grid units.\n     * @param  {Number}  w             W coordinate in grid units.\n     * @param  {Number}  h             H coordinate in grid units.\n     * @return {Object}                Object containing coords.\n     */\n\n  }, {\n    key: \"calcPosition\",\n    value: function calcPosition(x\n    /*: number*/\n    , y\n    /*: number*/\n    , w\n    /*: number*/\n    , h\n    /*: number*/\n    , state\n    /*: ?Object*/\n    )\n    /*: Position*/\n    {\n      var _this$props2 = this.props,\n          margin = _this$props2.margin,\n          containerPadding = _this$props2.containerPadding,\n          rowHeight = _this$props2.rowHeight;\n      var colWidth = this.calcColWidth();\n      var out = {}; // If resizing, use the exact width and height as returned from resizing callbacks.\n\n      if (state && state.resizing) {\n        out.width = Math.round(state.resizing.width);\n        out.height = Math.round(state.resizing.height);\n      } // Otherwise, calculate from grid units.\n      else {\n          // 0 * Infinity === NaN, which causes problems with resize constraints;\n          // Fix this if it occurs.\n          // Note we do it here rather than later because Math.round(Infinity) causes deopt\n          out.width = w === Infinity ? w : Math.round(colWidth * w + Math.max(0, w - 1) * margin[0]);\n          out.height = h === Infinity ? h : Math.round(rowHeight * h + Math.max(0, h - 1) * margin[1]);\n        } // If dragging, use the exact width and height as returned from dragging callbacks.\n\n\n      if (state && state.dragging) {\n        out.top = Math.round(state.dragging.top);\n        out.left = Math.round(state.dragging.left);\n      } // Otherwise, calculate from grid units.\n      else {\n          out.top = Math.round((rowHeight + margin[1]) * y + containerPadding[1]);\n          out.left = Math.round((colWidth + margin[0]) * x + containerPadding[0]);\n        }\n\n      return out;\n    }\n    /**\n     * Translate x and y coordinates from pixels to grid units.\n     * @param  {Number} top  Top position (relative to parent) in pixels.\n     * @param  {Number} left Left position (relative to parent) in pixels.\n     * @return {Object} x and y in grid units.\n     */\n\n  }, {\n    key: \"calcXY\",\n    value: function calcXY(top\n    /*: number*/\n    , left\n    /*: number*/\n    )\n    /*: { x: number, y: number }*/\n    {\n      var _this$props3 = this.props,\n          margin = _this$props3.margin,\n          cols = _this$props3.cols,\n          rowHeight = _this$props3.rowHeight,\n          w = _this$props3.w,\n          h = _this$props3.h,\n          maxRows = _this$props3.maxRows;\n      var colWidth = this.calcColWidth(); // left = colWidth * x + margin * (x + 1)\n      // l = cx + m(x+1)\n      // l = cx + mx + m\n      // l - m = cx + mx\n      // l - m = x(c + m)\n      // (l - m) / (c + m) = x\n      // x = (left - margin) / (coldWidth + margin)\n\n      var x = Math.round((left - margin[0]) / (colWidth + margin[0]));\n      var y = Math.round((top - margin[1]) / (rowHeight + margin[1])); // Capping\n\n      x = Math.max(Math.min(x, cols - w), 0);\n      y = Math.max(Math.min(y, maxRows - h), 0);\n      return {\n        x: x,\n        y: y\n      };\n    }\n    /**\n     * Given a height and width in pixel values, calculate grid units.\n     * @param  {Number} height Height in pixels.\n     * @param  {Number} width  Width in pixels.\n     * @return {Object} w, h as grid units.\n     */\n\n  }, {\n    key: \"calcWH\",\n    value: function calcWH(_ref4)\n    /*: { w: number, h: number }*/\n    {\n      var height = _ref4.height,\n          width = _ref4.width;\n      var _this$props4 = this.props,\n          margin = _this$props4.margin,\n          maxRows = _this$props4.maxRows,\n          cols = _this$props4.cols,\n          rowHeight = _this$props4.rowHeight,\n          x = _this$props4.x,\n          y = _this$props4.y;\n      var colWidth = this.calcColWidth(); // width = colWidth * w - (margin * (w - 1))\n      // ...\n      // w = (width + margin) / (colWidth + margin)\n\n      var w = Math.round((width + margin[0]) / (colWidth + margin[0]));\n      var h = Math.round((height + margin[1]) / (rowHeight + margin[1])); // Capping\n\n      w = Math.max(Math.min(w, cols - x), 0);\n      h = Math.max(Math.min(h, maxRows - y), 0);\n      return {\n        w: w,\n        h: h\n      };\n    }\n    /**\n     * This is where we set the grid item's absolute placement. It gets a little tricky because we want to do it\n     * well when server rendering, and the only way to do that properly is to use percentage width/left because\n     * we don't know exactly what the browser viewport is.\n     * Unfortunately, CSS Transforms, which are great for performance, break in this instance because a percentage\n     * left is relative to the item itself, not its container! So we cannot use them on the server rendering pass.\n     *\n     * @param  {Object} pos Position object with width, height, left, top.\n     * @return {Object}     Style object.\n     */\n\n  }, {\n    key: \"createStyle\",\n    value: function createStyle(pos\n    /*: Position*/\n    )\n    /*: { [key: string]: ?string }*/\n    {\n      var _this$props5 = this.props,\n          usePercentages = _this$props5.usePercentages,\n          containerWidth = _this$props5.containerWidth,\n          useCSSTransforms = _this$props5.useCSSTransforms;\n      var style; // CSS Transforms support (default)\n\n      if (useCSSTransforms) {\n        style = (0, _utils.setTransform)(pos);\n      } else {\n        // top,left (slow)\n        style = (0, _utils.setTopLeft)(pos); // This is used for server rendering.\n\n        if (usePercentages) {\n          style.left = (0, _utils.perc)(pos.left / containerWidth);\n          style.width = (0, _utils.perc)(pos.width / containerWidth);\n        }\n      }\n\n      return style;\n    }\n    /**\n     * Mix a Draggable instance into a child.\n     * @param  {Element} child    Child element.\n     * @return {Element}          Child wrapped in Draggable.\n     */\n\n  }, {\n    key: \"mixinDraggable\",\n    value: function mixinDraggable(child\n    /*: ReactElement<any>*/\n    )\n    /*: ReactElement<any>*/\n    {\n      return _react.default.createElement(_reactDraggable.DraggableCore, {\n        onStart: this.onDragStart,\n        onDrag: this.onDrag,\n        onStop: this.onDragStop,\n        handle: this.props.handle,\n        cancel: \".react-resizable-handle\" + (this.props.cancel ? \",\" + this.props.cancel : \"\"),\n        scale: this.props.transformScale\n      }, child);\n    }\n    /**\n     * Mix a Resizable instance into a child.\n     * @param  {Element} child    Child element.\n     * @param  {Object} position  Position object (pixel values)\n     * @return {Element}          Child wrapped in Resizable.\n     */\n\n  }, {\n    key: \"mixinResizable\",\n    value: function mixinResizable(child\n    /*: ReactElement<any>*/\n    , position\n    /*: Position*/\n    )\n    /*: ReactElement<any>*/\n    {\n      var _this$props6 = this.props,\n          cols = _this$props6.cols,\n          x = _this$props6.x,\n          minW = _this$props6.minW,\n          minH = _this$props6.minH,\n          maxW = _this$props6.maxW,\n          maxH = _this$props6.maxH; // This is the max possible width - doesn't go to infinity because of the width of the window\n\n      var maxWidth = this.calcPosition(0, 0, cols - x, 0).width; // Calculate min/max constraints using our min & maxes\n\n      var mins = this.calcPosition(0, 0, minW, minH);\n      var maxes = this.calcPosition(0, 0, maxW, maxH);\n      var minConstraints = [mins.width, mins.height];\n      var maxConstraints = [Math.min(maxes.width, maxWidth), Math.min(maxes.height, Infinity)];\n      return _react.default.createElement(_reactResizable.Resizable, {\n        width: position.width,\n        height: position.height,\n        minConstraints: minConstraints,\n        maxConstraints: maxConstraints,\n        onResizeStop: this.onResizeStop,\n        onResizeStart: this.onResizeStart,\n        onResize: this.onResize\n      }, child);\n    }\n    /**\n     * onDragStart event handler\n     * @param  {Event}  e             event data\n     * @param  {Object} callbackData  an object with node, delta and position information\n     */\n\n  }, {\n    key: \"onResizeHandler\",\n\n    /**\n     * Wrapper around drag events to provide more useful data.\n     * All drag events call the function with the given handler name,\n     * with the signature (index, x, y).\n     *\n     * @param  {String} handlerName Handler name to wrap.\n     * @return {Function}           Handler function.\n     */\n    value: function onResizeHandler(e\n    /*: Event*/\n    , _ref5, handlerName\n    /*: string*/\n    ) {\n      var node = _ref5.node,\n          size = _ref5.size;\n      var handler = this.props[handlerName];\n      if (!handler) return;\n      var _this$props7 = this.props,\n          cols = _this$props7.cols,\n          x = _this$props7.x,\n          i = _this$props7.i,\n          maxW = _this$props7.maxW,\n          minW = _this$props7.minW,\n          maxH = _this$props7.maxH,\n          minH = _this$props7.minH; // Get new XY\n\n      var _this$calcWH = this.calcWH(size),\n          w = _this$calcWH.w,\n          h = _this$calcWH.h; // Cap w at numCols\n\n\n      w = Math.min(w, cols - x); // Ensure w is at least 1\n\n      w = Math.max(w, 1); // Min/max capping\n\n      w = Math.max(Math.min(w, maxW), minW);\n      h = Math.max(Math.min(h, maxH), minH);\n      this.setState({\n        resizing: handlerName === \"onResizeStop\" ? null : size\n      });\n      handler.call(this, i, w, h, {\n        e: e,\n        node: node,\n        size: size\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render()\n    /*: ReactNode*/\n    {\n      var _this$props8 = this.props,\n          x = _this$props8.x,\n          y = _this$props8.y,\n          w = _this$props8.w,\n          h = _this$props8.h,\n          isDraggable = _this$props8.isDraggable,\n          isResizable = _this$props8.isResizable,\n          droppingPosition = _this$props8.droppingPosition,\n          useCSSTransforms = _this$props8.useCSSTransforms;\n      var pos = this.calcPosition(x, y, w, h, this.state);\n\n      var child = _react.default.Children.only(this.props.children); // Create the child element. We clone the existing element but modify its className and style.\n\n\n      var newChild = _react.default.cloneElement(child, {\n        className: (0, _classnames.default)(\"react-grid-item\", child.props.className, this.props.className, {\n          static: this.props.static,\n          resizing: Boolean(this.state.resizing),\n          \"react-draggable\": isDraggable,\n          \"react-draggable-dragging\": Boolean(this.state.dragging),\n          dropping: Boolean(droppingPosition),\n          cssTransforms: useCSSTransforms\n        }),\n        // We can set the width and height on the child, but unfortunately we can't set the position.\n        style: _objectSpread({}, this.props.style, {}, child.props.style, {}, this.createStyle(pos))\n      }); // Resizable support. This is usually on but the user can toggle it off.\n\n\n      if (isResizable) newChild = this.mixinResizable(newChild, pos); // Draggable support. This is always on, except for with placeholders.\n\n      if (isDraggable) newChild = this.mixinDraggable(newChild);\n      return newChild;\n    }\n  }]);\n\n  return GridItem;\n}(_react.default.Component);\n\nexports.default = GridItem;\n\n_defineProperty(GridItem, \"propTypes\", {\n  // Children must be only a single element\n  children: _propTypes.default.element,\n  // General grid attributes\n  cols: _propTypes.default.number.isRequired,\n  containerWidth: _propTypes.default.number.isRequired,\n  rowHeight: _propTypes.default.number.isRequired,\n  margin: _propTypes.default.array.isRequired,\n  maxRows: _propTypes.default.number.isRequired,\n  containerPadding: _propTypes.default.array.isRequired,\n  // These are all in grid units\n  x: _propTypes.default.number.isRequired,\n  y: _propTypes.default.number.isRequired,\n  w: _propTypes.default.number.isRequired,\n  h: _propTypes.default.number.isRequired,\n  // All optional\n  minW: function minW(props\n  /*: Props*/\n  , propName\n  /*: string*/\n  ) {\n    var value = props[propName];\n    if (typeof value !== \"number\") return new Error(\"minWidth not Number\");\n    if (value > props.w || value > props.maxW) return new Error(\"minWidth larger than item width/maxWidth\");\n  },\n  maxW: function maxW(props\n  /*: Props*/\n  , propName\n  /*: string*/\n  ) {\n    var value = props[propName];\n    if (typeof value !== \"number\") return new Error(\"maxWidth not Number\");\n    if (value < props.w || value < props.minW) return new Error(\"maxWidth smaller than item width/minWidth\");\n  },\n  minH: function minH(props\n  /*: Props*/\n  , propName\n  /*: string*/\n  ) {\n    var value = props[propName];\n    if (typeof value !== \"number\") return new Error(\"minHeight not Number\");\n    if (value > props.h || value > props.maxH) return new Error(\"minHeight larger than item height/maxHeight\");\n  },\n  maxH: function maxH(props\n  /*: Props*/\n  , propName\n  /*: string*/\n  ) {\n    var value = props[propName];\n    if (typeof value !== \"number\") return new Error(\"maxHeight not Number\");\n    if (value < props.h || value < props.minH) return new Error(\"maxHeight smaller than item height/minHeight\");\n  },\n  // ID is nice to have for callbacks\n  i: _propTypes.default.string.isRequired,\n  // Functions\n  onDragStop: _propTypes.default.func,\n  onDragStart: _propTypes.default.func,\n  onDrag: _propTypes.default.func,\n  onResizeStop: _propTypes.default.func,\n  onResizeStart: _propTypes.default.func,\n  onResize: _propTypes.default.func,\n  // Flags\n  isDraggable: _propTypes.default.bool.isRequired,\n  isResizable: _propTypes.default.bool.isRequired,\n  static: _propTypes.default.bool,\n  // Use CSS transforms instead of top/left\n  useCSSTransforms: _propTypes.default.bool.isRequired,\n  transformScale: _propTypes.default.number,\n  // Others\n  className: _propTypes.default.string,\n  // Selector for draggable handle\n  handle: _propTypes.default.string,\n  // Selector for draggable cancel (see react-draggable)\n  cancel: _propTypes.default.string,\n  // Current position of a dropping element\n  droppingPosition: _propTypes.default.shape({\n    e: _propTypes.default.object.isRequired,\n    x: _propTypes.default.number.isRequired,\n    y: _propTypes.default.number.isRequired\n  })\n});\n\n_defineProperty(GridItem, \"defaultProps\", {\n  className: \"\",\n  cancel: \"\",\n  handle: \"\",\n  minH: 1,\n  minW: 1,\n  maxH: Infinity,\n  maxW: Infinity,\n  transformScale: 1\n});"]},"metadata":{},"sourceType":"script"}