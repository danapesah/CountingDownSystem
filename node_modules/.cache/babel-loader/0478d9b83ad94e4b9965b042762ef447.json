{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _lodash = _interopRequireDefault(require(\"lodash.isequal\"));\n\nvar _classnames = _interopRequireDefault(require(\"classnames\"));\n\nvar _utils = require(\"./utils\");\n\nvar _GridItem = _interopRequireDefault(require(\"./GridItem\"));\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _typeof(obj) {\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(source, true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(source).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}\n\nfunction _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  }\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n} // End Types\n\n\nvar compactType = function compactType(props\n/*: Props*/\n)\n/*: CompactType*/\n{\n  var _ref = props || {},\n      verticalCompact = _ref.verticalCompact,\n      compactType = _ref.compactType;\n\n  return verticalCompact === false ? null : compactType;\n};\n\nvar layoutClassName = \"react-grid-layout\";\nvar isFirefox = false; // Try...catch will protect from navigator not existing (e.g. node) or a bad implementation of navigator\n\ntry {\n  isFirefox = navigator.userAgent.toLowerCase().includes(\"firefox\");\n} catch (e) {}\n/* Ignore */\n\n/**\n * A reactive, fluid grid layout with draggable, resizable components.\n */\n\n\nvar ReactGridLayout =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(ReactGridLayout, _React$Component); // TODO publish internal ReactClass displayName transform\n\n\n  function ReactGridLayout(props\n  /*: Props*/\n  , context\n  /*: any*/\n  )\n  /*: void*/\n  {\n    var _this;\n\n    _classCallCheck(this, ReactGridLayout);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ReactGridLayout).call(this, props, context));\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      activeDrag: null,\n      layout: (0, _utils.synchronizeLayoutWithChildren)(_this.props.layout, _this.props.children, _this.props.cols, // Legacy support for verticalCompact: false\n      compactType(_this.props)),\n      mounted: false,\n      oldDragItem: null,\n      oldLayout: null,\n      oldResizeItem: null,\n      droppingDOMNode: null,\n      children: []\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"dragEnterCounter\", 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"onDragOver\", function (e\n    /*: DragOverEvent*/\n    ) {\n      // we should ignore events from layout's children in Firefox\n      // to avoid unpredictable jumping of a dropping placeholder\n      if (isFirefox && !e.nativeEvent.target.className.includes(layoutClassName)) {\n        return false;\n      }\n\n      var droppingItem = _this.props.droppingItem;\n      var layout = _this.state.layout;\n      var _e$nativeEvent = e.nativeEvent,\n          layerX = _e$nativeEvent.layerX,\n          layerY = _e$nativeEvent.layerY;\n      var droppingPosition = {\n        x: layerX,\n        y: layerY,\n        e: e\n      };\n\n      if (!_this.state.droppingDOMNode) {\n        _this.setState({\n          droppingDOMNode: _react.default.createElement(\"div\", {\n            key: droppingItem.i\n          }),\n          droppingPosition: droppingPosition,\n          layout: [].concat(_toConsumableArray(layout), [_objectSpread({}, droppingItem, {\n            x: 0,\n            y: 0,\n            static: false,\n            isDraggable: true\n          })])\n        });\n      } else if (_this.state.droppingPosition) {\n        var shouldUpdatePosition = _this.state.droppingPosition.x != layerX || _this.state.droppingPosition.y != layerY;\n        shouldUpdatePosition && _this.setState({\n          droppingPosition: droppingPosition\n        });\n      }\n\n      e.stopPropagation();\n      e.preventDefault();\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"removeDroppingPlaceholder\", function () {\n      var _this$props = _this.props,\n          droppingItem = _this$props.droppingItem,\n          cols = _this$props.cols;\n      var layout = _this.state.layout;\n      var newLayout = (0, _utils.compact)(layout.filter(function (l) {\n        return l.i !== droppingItem.i;\n      }), compactType(_this.props), cols);\n\n      _this.setState({\n        layout: newLayout,\n        droppingDOMNode: null,\n        activeDrag: null,\n        droppingPosition: undefined\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onDragLeave\", function () {\n      _this.dragEnterCounter--; // onDragLeave can be triggered on each layout's child.\n      // But we know that count of dragEnter and dragLeave events\n      // will be balanced after leaving the layout's container\n      // so we can increase and decrease count of dragEnter and\n      // when it'll be equal to 0 we'll remove the placeholder\n\n      if (_this.dragEnterCounter === 0) {\n        _this.removeDroppingPlaceholder();\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onDragEnter\", function () {\n      _this.dragEnterCounter++;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onDrop\", function () {\n      var droppingItem = _this.props.droppingItem;\n      var layout = _this.state.layout;\n\n      var _ref2 = layout.find(function (l) {\n        return l.i === droppingItem.i;\n      }) || {},\n          x = _ref2.x,\n          y = _ref2.y,\n          w = _ref2.w,\n          h = _ref2.h; // reset gragEnter counter on drop\n\n\n      _this.dragEnterCounter = 0;\n\n      _this.removeDroppingPlaceholder();\n\n      _this.props.onDrop({\n        x: x,\n        y: y,\n        w: w,\n        h: h\n      });\n    });\n\n    (0, _utils.autoBindHandlers)(_assertThisInitialized(_this), [\"onDragStart\", \"onDrag\", \"onDragStop\", \"onResizeStart\", \"onResize\", \"onResizeStop\"]);\n    return _this;\n  }\n\n  _createClass(ReactGridLayout, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.setState({\n        mounted: true\n      }); // Possibly call back with layout on mount. This should be done after correcting the layout width\n      // to ensure we don't rerender with the wrong width.\n\n      this.onLayoutMaybeChanged(this.state.layout, this.props.layout);\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps\n    /*: Props*/\n    , prevState\n    /*: State*/\n    ) {\n      if (!this.state.activeDrag) {\n        var newLayout = this.state.layout;\n        var oldLayout = prevState.layout;\n        this.onLayoutMaybeChanged(newLayout, oldLayout);\n      }\n    }\n    /**\n     * Calculates a pixel value for the container.\n     * @return {String} Container height in pixels.\n     */\n\n  }, {\n    key: \"containerHeight\",\n    value: function containerHeight() {\n      if (!this.props.autoSize) return;\n      var nbRow = (0, _utils.bottom)(this.state.layout);\n      var containerPaddingY = this.props.containerPadding ? this.props.containerPadding[1] : this.props.margin[1];\n      return nbRow * this.props.rowHeight + (nbRow - 1) * this.props.margin[1] + containerPaddingY * 2 + \"px\";\n    }\n    /**\n     * When dragging starts\n     * @param {String} i Id of the child\n     * @param {Number} x X position of the move\n     * @param {Number} y Y position of the move\n     * @param {Event} e The mousedown event\n     * @param {Element} node The current dragging DOM element\n     */\n\n  }, {\n    key: \"onDragStart\",\n    value: function onDragStart(i\n    /*: string*/\n    , x\n    /*: number*/\n    , y\n    /*: number*/\n    , _ref3) {\n      var e = _ref3.e,\n          node = _ref3.node;\n      var layout = this.state.layout;\n      var l = (0, _utils.getLayoutItem)(layout, i);\n      if (!l) return;\n      this.setState({\n        oldDragItem: (0, _utils.cloneLayoutItem)(l),\n        oldLayout: this.state.layout\n      });\n      return this.props.onDragStart(layout, l, l, null, e, node);\n    }\n    /**\n     * Each drag movement create a new dragelement and move the element to the dragged location\n     * @param {String} i Id of the child\n     * @param {Number} x X position of the move\n     * @param {Number} y Y position of the move\n     * @param {Event} e The mousedown event\n     * @param {Element} node The current dragging DOM element\n     */\n\n  }, {\n    key: \"onDrag\",\n    value: function onDrag(i\n    /*: string*/\n    , x\n    /*: number*/\n    , y\n    /*: number*/\n    , _ref4) {\n      var e = _ref4.e,\n          node = _ref4.node;\n      var oldDragItem = this.state.oldDragItem;\n      var layout = this.state.layout;\n      var cols = this.props.cols;\n      var l = (0, _utils.getLayoutItem)(layout, i);\n      if (!l) return; // Create placeholder (display only)\n\n      var placeholder = {\n        w: l.w,\n        h: l.h,\n        x: l.x,\n        y: l.y,\n        placeholder: true,\n        i: i\n      }; // Move the element to the dragged location.\n\n      var isUserAction = true;\n      layout = (0, _utils.moveElement)(layout, l, x, y, isUserAction, this.props.preventCollision, compactType(this.props), cols);\n      this.props.onDrag(layout, oldDragItem, l, placeholder, e, node);\n      this.setState({\n        layout: (0, _utils.compact)(layout, compactType(this.props), cols),\n        activeDrag: placeholder\n      });\n    }\n    /**\n     * When dragging stops, figure out which position the element is closest to and update its x and y.\n     * @param  {String} i Index of the child.\n     * @param {Number} x X position of the move\n     * @param {Number} y Y position of the move\n     * @param {Event} e The mousedown event\n     * @param {Element} node The current dragging DOM element\n     */\n\n  }, {\n    key: \"onDragStop\",\n    value: function onDragStop(i\n    /*: string*/\n    , x\n    /*: number*/\n    , y\n    /*: number*/\n    , _ref5) {\n      var e = _ref5.e,\n          node = _ref5.node;\n      var oldDragItem = this.state.oldDragItem;\n      var layout = this.state.layout;\n      var _this$props2 = this.props,\n          cols = _this$props2.cols,\n          preventCollision = _this$props2.preventCollision;\n      var l = (0, _utils.getLayoutItem)(layout, i);\n      if (!l) return; // Move the element here\n\n      var isUserAction = true;\n      layout = (0, _utils.moveElement)(layout, l, x, y, isUserAction, preventCollision, compactType(this.props), cols);\n\n      if (this.state.activeDrag) {\n        this.props.onDragStop(layout, oldDragItem, l, null, e, node);\n      } // Set state\n\n\n      var newLayout = (0, _utils.compact)(layout, compactType(this.props), cols);\n      var oldLayout = this.state.oldLayout;\n      this.setState({\n        activeDrag: null,\n        layout: newLayout,\n        oldDragItem: null,\n        oldLayout: null\n      });\n      this.onLayoutMaybeChanged(newLayout, oldLayout);\n    }\n  }, {\n    key: \"onLayoutMaybeChanged\",\n    value: function onLayoutMaybeChanged(newLayout\n    /*: Layout*/\n    , oldLayout\n    /*: ?Layout*/\n    ) {\n      if (!oldLayout) oldLayout = this.state.layout;\n\n      if (!(0, _lodash.default)(oldLayout, newLayout)) {\n        this.props.onLayoutChange(newLayout);\n      }\n    }\n  }, {\n    key: \"onResizeStart\",\n    value: function onResizeStart(i\n    /*: string*/\n    , w\n    /*: number*/\n    , h\n    /*: number*/\n    , _ref6) {\n      var e = _ref6.e,\n          node = _ref6.node;\n      var layout = this.state.layout;\n      var l = (0, _utils.getLayoutItem)(layout, i);\n      if (!l) return;\n      this.setState({\n        oldResizeItem: (0, _utils.cloneLayoutItem)(l),\n        oldLayout: this.state.layout\n      });\n      this.props.onResizeStart(layout, l, l, null, e, node);\n    }\n  }, {\n    key: \"onResize\",\n    value: function onResize(i\n    /*: string*/\n    , w\n    /*: number*/\n    , h\n    /*: number*/\n    , _ref7) {\n      var e = _ref7.e,\n          node = _ref7.node;\n      var _this$state = this.state,\n          layout = _this$state.layout,\n          oldResizeItem = _this$state.oldResizeItem;\n      var _this$props3 = this.props,\n          cols = _this$props3.cols,\n          preventCollision = _this$props3.preventCollision;\n      var l\n      /*: ?LayoutItem*/\n      = (0, _utils.getLayoutItem)(layout, i);\n      if (!l) return; // Something like quad tree should be used\n      // to find collisions faster\n\n      var hasCollisions;\n\n      if (preventCollision) {\n        var collisions = (0, _utils.getAllCollisions)(layout, _objectSpread({}, l, {\n          w: w,\n          h: h\n        })).filter(function (layoutItem) {\n          return layoutItem.i !== l.i;\n        });\n        hasCollisions = collisions.length > 0; // If we're colliding, we need adjust the placeholder.\n\n        if (hasCollisions) {\n          // adjust w && h to maximum allowed space\n          var leastX = Infinity,\n              leastY = Infinity;\n          collisions.forEach(function (layoutItem) {\n            if (layoutItem.x > l.x) leastX = Math.min(leastX, layoutItem.x);\n            if (layoutItem.y > l.y) leastY = Math.min(leastY, layoutItem.y);\n          });\n          if (Number.isFinite(leastX)) l.w = leastX - l.x;\n          if (Number.isFinite(leastY)) l.h = leastY - l.y;\n        }\n      }\n\n      if (!hasCollisions) {\n        // Set new width and height.\n        l.w = w;\n        l.h = h;\n      } // Create placeholder element (display only)\n\n\n      var placeholder = {\n        w: l.w,\n        h: l.h,\n        x: l.x,\n        y: l.y,\n        static: true,\n        i: i\n      };\n      this.props.onResize(layout, oldResizeItem, l, placeholder, e, node); // Re-compact the layout and set the drag placeholder.\n\n      this.setState({\n        layout: (0, _utils.compact)(layout, compactType(this.props), cols),\n        activeDrag: placeholder\n      });\n    }\n  }, {\n    key: \"onResizeStop\",\n    value: function onResizeStop(i\n    /*: string*/\n    , w\n    /*: number*/\n    , h\n    /*: number*/\n    , _ref8) {\n      var e = _ref8.e,\n          node = _ref8.node;\n      var _this$state2 = this.state,\n          layout = _this$state2.layout,\n          oldResizeItem = _this$state2.oldResizeItem;\n      var cols = this.props.cols;\n      var l = (0, _utils.getLayoutItem)(layout, i);\n      this.props.onResizeStop(layout, oldResizeItem, l, null, e, node); // Set state\n\n      var newLayout = (0, _utils.compact)(layout, compactType(this.props), cols);\n      var oldLayout = this.state.oldLayout;\n      this.setState({\n        activeDrag: null,\n        layout: newLayout,\n        oldResizeItem: null,\n        oldLayout: null\n      });\n      this.onLayoutMaybeChanged(newLayout, oldLayout);\n    }\n    /**\n     * Create a placeholder object.\n     * @return {Element} Placeholder div.\n     */\n\n  }, {\n    key: \"placeholder\",\n    value: function placeholder()\n    /*: ?ReactElement<any>*/\n    {\n      var activeDrag = this.state.activeDrag;\n      if (!activeDrag) return null;\n      var _this$props4 = this.props,\n          width = _this$props4.width,\n          cols = _this$props4.cols,\n          margin = _this$props4.margin,\n          containerPadding = _this$props4.containerPadding,\n          rowHeight = _this$props4.rowHeight,\n          maxRows = _this$props4.maxRows,\n          useCSSTransforms = _this$props4.useCSSTransforms,\n          transformScale = _this$props4.transformScale; // {...this.state.activeDrag} is pretty slow, actually\n\n      return _react.default.createElement(_GridItem.default, {\n        w: activeDrag.w,\n        h: activeDrag.h,\n        x: activeDrag.x,\n        y: activeDrag.y,\n        i: activeDrag.i,\n        className: \"react-grid-placeholder\",\n        containerWidth: width,\n        cols: cols,\n        margin: margin,\n        containerPadding: containerPadding || margin,\n        maxRows: maxRows,\n        rowHeight: rowHeight,\n        isDraggable: false,\n        isResizable: false,\n        useCSSTransforms: useCSSTransforms,\n        transformScale: transformScale\n      }, _react.default.createElement(\"div\", null));\n    }\n    /**\n     * Given a grid item, set its style attributes & surround in a <Draggable>.\n     * @param  {Element} child React element.\n     * @return {Element}       Element wrapped in draggable and properly placed.\n     */\n\n  }, {\n    key: \"processGridItem\",\n    value: function processGridItem(child\n    /*: ReactElement<any>*/\n    , isDroppingItem\n    /*: boolean*/\n    )\n    /*: ?ReactElement<any>*/\n    {\n      if (!child || !child.key) return;\n      var l = (0, _utils.getLayoutItem)(this.state.layout, String(child.key));\n      if (!l) return null;\n      var _this$props5 = this.props,\n          width = _this$props5.width,\n          cols = _this$props5.cols,\n          margin = _this$props5.margin,\n          containerPadding = _this$props5.containerPadding,\n          rowHeight = _this$props5.rowHeight,\n          maxRows = _this$props5.maxRows,\n          isDraggable = _this$props5.isDraggable,\n          isResizable = _this$props5.isResizable,\n          useCSSTransforms = _this$props5.useCSSTransforms,\n          transformScale = _this$props5.transformScale,\n          draggableCancel = _this$props5.draggableCancel,\n          draggableHandle = _this$props5.draggableHandle;\n      var _this$state3 = this.state,\n          mounted = _this$state3.mounted,\n          droppingPosition = _this$state3.droppingPosition; // Parse 'static'. Any properties defined directly on the grid item will take precedence.\n\n      var draggable = Boolean(!l.static && isDraggable && (l.isDraggable || l.isDraggable == null));\n      var resizable = Boolean(!l.static && isResizable && (l.isResizable || l.isResizable == null));\n      return _react.default.createElement(_GridItem.default, {\n        containerWidth: width,\n        cols: cols,\n        margin: margin,\n        containerPadding: containerPadding || margin,\n        maxRows: maxRows,\n        rowHeight: rowHeight,\n        cancel: draggableCancel,\n        handle: draggableHandle,\n        onDragStop: this.onDragStop,\n        onDragStart: this.onDragStart,\n        onDrag: this.onDrag,\n        onResizeStart: this.onResizeStart,\n        onResize: this.onResize,\n        onResizeStop: this.onResizeStop,\n        isDraggable: draggable,\n        isResizable: resizable,\n        useCSSTransforms: useCSSTransforms && mounted,\n        usePercentages: !mounted,\n        transformScale: transformScale,\n        w: l.w,\n        h: l.h,\n        x: l.x,\n        y: l.y,\n        i: l.i,\n        minH: l.minH,\n        minW: l.minW,\n        maxH: l.maxH,\n        maxW: l.maxW,\n        static: l.static,\n        droppingPosition: isDroppingItem ? droppingPosition : undefined\n      }, child);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props6 = this.props,\n          className = _this$props6.className,\n          style = _this$props6.style,\n          isDroppable = _this$props6.isDroppable;\n      var mergedClassName = (0, _classnames.default)(layoutClassName, className);\n\n      var mergedStyle = _objectSpread({\n        height: this.containerHeight()\n      }, style);\n\n      return _react.default.createElement(\"div\", {\n        className: mergedClassName,\n        style: mergedStyle,\n        onDrop: isDroppable ? this.onDrop : _utils.noop,\n        onDragLeave: isDroppable ? this.onDragLeave : _utils.noop,\n        onDragEnter: isDroppable ? this.onDragEnter : _utils.noop,\n        onDragOver: isDroppable ? this.onDragOver : _utils.noop\n      }, _react.default.Children.map(this.props.children, function (child) {\n        return _this2.processGridItem(child);\n      }), isDroppable && this.state.droppingDOMNode && this.processGridItem(this.state.droppingDOMNode, true), this.placeholder());\n    }\n  }], [{\n    key: \"getDerivedStateFromProps\",\n    value: function getDerivedStateFromProps(nextProps\n    /*: Props*/\n    , prevState\n    /*: State*/\n    ) {\n      var newLayoutBase;\n\n      if (prevState.activeDrag) {\n        return null;\n      } // Legacy support for compactType\n      // Allow parent to set layout directly.\n\n\n      if (!(0, _lodash.default)(nextProps.layout, prevState.propsLayout) || nextProps.compactType !== prevState.compactType) {\n        newLayoutBase = nextProps.layout;\n      } else if (!(0, _utils.childrenEqual)(nextProps.children, prevState.children)) {\n        // If children change, also regenerate the layout. Use our state\n        // as the base in case because it may be more up to date than\n        // what is in props.\n        newLayoutBase = prevState.layout;\n      } // We need to regenerate the layout.\n\n\n      if (newLayoutBase) {\n        var newLayout = (0, _utils.synchronizeLayoutWithChildren)(newLayoutBase, nextProps.children, nextProps.cols, compactType(nextProps));\n        return {\n          layout: newLayout,\n          // We need to save these props to state for using\n          // getDerivedStateFromProps instead of componentDidMount (in which we would get extra rerender)\n          compactType: nextProps.compactType,\n          children: nextProps.children,\n          propsLayout: nextProps.layout\n        };\n      }\n\n      return null;\n    }\n  }]);\n\n  return ReactGridLayout;\n}(_react.default.Component);\n\nexports.default = ReactGridLayout;\n\n_defineProperty(ReactGridLayout, \"displayName\", \"ReactGridLayout\");\n\n_defineProperty(ReactGridLayout, \"propTypes\", {\n  //\n  // Basic props\n  //\n  className: _propTypes.default.string,\n  style: _propTypes.default.object,\n  // This can be set explicitly. If it is not set, it will automatically\n  // be set to the container width. Note that resizes will *not* cause this to adjust.\n  // If you need that behavior, use WidthProvider.\n  width: _propTypes.default.number,\n  // If true, the container height swells and contracts to fit contents\n  autoSize: _propTypes.default.bool,\n  // # of cols.\n  cols: _propTypes.default.number,\n  // A selector that will not be draggable.\n  draggableCancel: _propTypes.default.string,\n  // A selector for the draggable handler\n  draggableHandle: _propTypes.default.string,\n  // Deprecated\n  verticalCompact: function verticalCompact(props\n  /*: Props*/\n  ) {\n    if (props.verticalCompact === false && process.env.NODE_ENV !== \"production\") {\n      console.warn( // eslint-disable-line no-console\n      \"`verticalCompact` on <ReactGridLayout> is deprecated and will be removed soon. \" + 'Use `compactType`: \"horizontal\" | \"vertical\" | null.');\n    }\n  },\n  // Choose vertical or hotizontal compaction\n  compactType: _propTypes.default.oneOf([\"vertical\", \"horizontal\"]),\n  // layout is an array of object with the format:\n  // {x: Number, y: Number, w: Number, h: Number, i: String}\n  layout: function layout(props\n  /*: Props*/\n  ) {\n    var layout = props.layout; // I hope you're setting the data-grid property on the grid items\n\n    if (layout === undefined) return;\n    (0, _utils.validateLayout)(layout, \"layout\");\n  },\n  //\n  // Grid Dimensions\n  //\n  // Margin between items [x, y] in px\n  margin: _propTypes.default.arrayOf(_propTypes.default.number),\n  // Padding inside the container [x, y] in px\n  containerPadding: _propTypes.default.arrayOf(_propTypes.default.number),\n  // Rows have a static height, but you can change this based on breakpoints if you like\n  rowHeight: _propTypes.default.number,\n  // Default Infinity, but you can specify a max here if you like.\n  // Note that this isn't fully fleshed out and won't error if you specify a layout that\n  // extends beyond the row capacity. It will, however, not allow users to drag/resize\n  // an item past the barrier. They can push items beyond the barrier, though.\n  // Intentionally not documented for this reason.\n  maxRows: _propTypes.default.number,\n  //\n  // Flags\n  //\n  isDraggable: _propTypes.default.bool,\n  isResizable: _propTypes.default.bool,\n  // If true, grid items won't change position when being dragged over.\n  preventCollision: _propTypes.default.bool,\n  // Use CSS transforms instead of top/left\n  useCSSTransforms: _propTypes.default.bool,\n  // parent layout transform scale\n  transformScale: _propTypes.default.number,\n  // If true, an external element can trigger onDrop callback with a specific grid position as a parameter\n  isDroppable: _propTypes.default.bool,\n  //\n  // Callbacks\n  //\n  // Callback so you can save the layout. Calls after each drag & resize stops.\n  onLayoutChange: _propTypes.default.func,\n  // Calls when drag starts. Callback is of the signature (layout, oldItem, newItem, placeholder, e, ?node).\n  // All callbacks below have the same signature. 'start' and 'stop' callbacks omit the 'placeholder'.\n  onDragStart: _propTypes.default.func,\n  // Calls on each drag movement.\n  onDrag: _propTypes.default.func,\n  // Calls when drag is complete.\n  onDragStop: _propTypes.default.func,\n  //Calls when resize starts.\n  onResizeStart: _propTypes.default.func,\n  // Calls when resize movement happens.\n  onResize: _propTypes.default.func,\n  // Calls when resize is complete.\n  onResizeStop: _propTypes.default.func,\n  // Calls when some element is dropped.\n  onDrop: _propTypes.default.func,\n  //\n  // Other validations\n  //\n  droppingItem: _propTypes.default.shape({\n    i: _propTypes.default.string.isRequired,\n    w: _propTypes.default.number.isRequired,\n    h: _propTypes.default.number.isRequired\n  }),\n  // Children must not have duplicate keys.\n  children: function children(props\n  /*: Props*/\n  , propName\n  /*: string*/\n  ) {\n    var children = props[propName]; // Check children keys for duplicates. Throw if found.\n\n    var keys = {};\n\n    _react.default.Children.forEach(children, function (child) {\n      if (keys[child.key]) {\n        throw new Error('Duplicate child key \"' + child.key + '\" found! This will cause problems in ReactGridLayout.');\n      }\n\n      keys[child.key] = true;\n    });\n  }\n});\n\n_defineProperty(ReactGridLayout, \"defaultProps\", {\n  autoSize: true,\n  cols: 12,\n  className: \"\",\n  style: {},\n  draggableHandle: \"\",\n  draggableCancel: \"\",\n  containerPadding: null,\n  rowHeight: 150,\n  maxRows: Infinity,\n  // infinite vertical growth\n  layout: [],\n  margin: [10, 10],\n  isDraggable: true,\n  isResizable: true,\n  isDroppable: false,\n  useCSSTransforms: true,\n  transformScale: 1,\n  verticalCompact: true,\n  compactType: \"vertical\",\n  preventCollision: false,\n  droppingItem: {\n    i: \"__dropping-elem__\",\n    h: 1,\n    w: 1\n  },\n  onLayoutChange: _utils.noop,\n  onDragStart: _utils.noop,\n  onDrag: _utils.noop,\n  onDragStop: _utils.noop,\n  onResizeStart: _utils.noop,\n  onResize: _utils.noop,\n  onResizeStop: _utils.noop,\n  onDrop: _utils.noop\n});","map":{"version":3,"sources":["C:/Users/דנה פסח/Desktop/FinalProject/final/node_modules/react-grid-layout/build/ReactGridLayout.js"],"names":["Object","defineProperty","exports","value","default","_react","_interopRequireDefault","require","_propTypes","_lodash","_classnames","_utils","_GridItem","obj","__esModule","_typeof","Symbol","iterator","constructor","prototype","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","_defineProperty","getOwnPropertyDescriptors","defineProperties","_toConsumableArray","arr","_arrayWithoutHoles","_iterableToArray","_nonIterableSpread","TypeError","iter","toString","call","Array","from","isArray","arr2","_classCallCheck","instance","Constructor","_defineProperties","props","descriptor","configurable","writable","_createClass","protoProps","staticProps","_possibleConstructorReturn","self","_assertThisInitialized","_getPrototypeOf","o","setPrototypeOf","getPrototypeOf","__proto__","ReferenceError","_inherits","subClass","superClass","create","_setPrototypeOf","p","compactType","_ref","verticalCompact","layoutClassName","isFirefox","navigator","userAgent","toLowerCase","includes","e","ReactGridLayout","_React$Component","context","_this","activeDrag","layout","synchronizeLayoutWithChildren","children","cols","mounted","oldDragItem","oldLayout","oldResizeItem","droppingDOMNode","nativeEvent","className","droppingItem","state","_e$nativeEvent","layerX","layerY","droppingPosition","x","y","setState","createElement","concat","static","isDraggable","shouldUpdatePosition","stopPropagation","preventDefault","_this$props","newLayout","compact","l","undefined","dragEnterCounter","removeDroppingPlaceholder","_ref2","find","w","h","onDrop","autoBindHandlers","componentDidMount","onLayoutMaybeChanged","componentDidUpdate","prevProps","prevState","containerHeight","autoSize","nbRow","bottom","containerPaddingY","containerPadding","margin","rowHeight","onDragStart","_ref3","node","getLayoutItem","cloneLayoutItem","onDrag","_ref4","placeholder","isUserAction","moveElement","preventCollision","onDragStop","_ref5","_this$props2","onLayoutChange","onResizeStart","_ref6","onResize","_ref7","_this$state","_this$props3","hasCollisions","collisions","getAllCollisions","layoutItem","leastX","Infinity","leastY","Math","min","Number","isFinite","onResizeStop","_ref8","_this$state2","_this$props4","width","maxRows","useCSSTransforms","transformScale","containerWidth","isResizable","processGridItem","child","isDroppingItem","String","_this$props5","draggableCancel","draggableHandle","_this$state3","draggable","Boolean","resizable","cancel","handle","usePercentages","minH","minW","maxH","maxW","render","_this2","_this$props6","style","isDroppable","mergedClassName","mergedStyle","height","noop","onDragLeave","onDragEnter","onDragOver","Children","map","getDerivedStateFromProps","nextProps","newLayoutBase","propsLayout","childrenEqual","Component","string","number","bool","process","env","NODE_ENV","console","warn","oneOf","validateLayout","arrayOf","func","shape","isRequired","propName","Error"],"mappings":"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","sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _lodash = _interopRequireDefault(require(\"lodash.isequal\"));\n\nvar _classnames = _interopRequireDefault(require(\"classnames\"));\n\nvar _utils = require(\"./utils\");\n\nvar _GridItem = _interopRequireDefault(require(\"./GridItem\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance\"); }\n\nfunction _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n// End Types\nvar compactType = function compactType(props\n/*: Props*/\n)\n/*: CompactType*/\n{\n  var _ref = props || {},\n      verticalCompact = _ref.verticalCompact,\n      compactType = _ref.compactType;\n\n  return verticalCompact === false ? null : compactType;\n};\n\nvar layoutClassName = \"react-grid-layout\";\nvar isFirefox = false; // Try...catch will protect from navigator not existing (e.g. node) or a bad implementation of navigator\n\ntry {\n  isFirefox = navigator.userAgent.toLowerCase().includes(\"firefox\");\n} catch (e) {}\n/* Ignore */\n\n/**\n * A reactive, fluid grid layout with draggable, resizable components.\n */\n\n\nvar ReactGridLayout =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(ReactGridLayout, _React$Component);\n\n  // TODO publish internal ReactClass displayName transform\n  function ReactGridLayout(props\n  /*: Props*/\n  , context\n  /*: any*/\n  )\n  /*: void*/\n  {\n    var _this;\n\n    _classCallCheck(this, ReactGridLayout);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ReactGridLayout).call(this, props, context));\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      activeDrag: null,\n      layout: (0, _utils.synchronizeLayoutWithChildren)(_this.props.layout, _this.props.children, _this.props.cols, // Legacy support for verticalCompact: false\n      compactType(_this.props)),\n      mounted: false,\n      oldDragItem: null,\n      oldLayout: null,\n      oldResizeItem: null,\n      droppingDOMNode: null,\n      children: []\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"dragEnterCounter\", 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"onDragOver\", function (e\n    /*: DragOverEvent*/\n    ) {\n      // we should ignore events from layout's children in Firefox\n      // to avoid unpredictable jumping of a dropping placeholder\n      if (isFirefox && !e.nativeEvent.target.className.includes(layoutClassName)) {\n        return false;\n      }\n\n      var droppingItem = _this.props.droppingItem;\n      var layout = _this.state.layout;\n      var _e$nativeEvent = e.nativeEvent,\n          layerX = _e$nativeEvent.layerX,\n          layerY = _e$nativeEvent.layerY;\n      var droppingPosition = {\n        x: layerX,\n        y: layerY,\n        e: e\n      };\n\n      if (!_this.state.droppingDOMNode) {\n        _this.setState({\n          droppingDOMNode: _react.default.createElement(\"div\", {\n            key: droppingItem.i\n          }),\n          droppingPosition: droppingPosition,\n          layout: [].concat(_toConsumableArray(layout), [_objectSpread({}, droppingItem, {\n            x: 0,\n            y: 0,\n            static: false,\n            isDraggable: true\n          })])\n        });\n      } else if (_this.state.droppingPosition) {\n        var shouldUpdatePosition = _this.state.droppingPosition.x != layerX || _this.state.droppingPosition.y != layerY;\n        shouldUpdatePosition && _this.setState({\n          droppingPosition: droppingPosition\n        });\n      }\n\n      e.stopPropagation();\n      e.preventDefault();\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"removeDroppingPlaceholder\", function () {\n      var _this$props = _this.props,\n          droppingItem = _this$props.droppingItem,\n          cols = _this$props.cols;\n      var layout = _this.state.layout;\n      var newLayout = (0, _utils.compact)(layout.filter(function (l) {\n        return l.i !== droppingItem.i;\n      }), compactType(_this.props), cols);\n\n      _this.setState({\n        layout: newLayout,\n        droppingDOMNode: null,\n        activeDrag: null,\n        droppingPosition: undefined\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onDragLeave\", function () {\n      _this.dragEnterCounter--; // onDragLeave can be triggered on each layout's child.\n      // But we know that count of dragEnter and dragLeave events\n      // will be balanced after leaving the layout's container\n      // so we can increase and decrease count of dragEnter and\n      // when it'll be equal to 0 we'll remove the placeholder\n\n      if (_this.dragEnterCounter === 0) {\n        _this.removeDroppingPlaceholder();\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onDragEnter\", function () {\n      _this.dragEnterCounter++;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onDrop\", function () {\n      var droppingItem = _this.props.droppingItem;\n      var layout = _this.state.layout;\n\n      var _ref2 = layout.find(function (l) {\n        return l.i === droppingItem.i;\n      }) || {},\n          x = _ref2.x,\n          y = _ref2.y,\n          w = _ref2.w,\n          h = _ref2.h; // reset gragEnter counter on drop\n\n\n      _this.dragEnterCounter = 0;\n\n      _this.removeDroppingPlaceholder();\n\n      _this.props.onDrop({\n        x: x,\n        y: y,\n        w: w,\n        h: h\n      });\n    });\n\n    (0, _utils.autoBindHandlers)(_assertThisInitialized(_this), [\"onDragStart\", \"onDrag\", \"onDragStop\", \"onResizeStart\", \"onResize\", \"onResizeStop\"]);\n    return _this;\n  }\n\n  _createClass(ReactGridLayout, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.setState({\n        mounted: true\n      }); // Possibly call back with layout on mount. This should be done after correcting the layout width\n      // to ensure we don't rerender with the wrong width.\n\n      this.onLayoutMaybeChanged(this.state.layout, this.props.layout);\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps\n    /*: Props*/\n    , prevState\n    /*: State*/\n    ) {\n      if (!this.state.activeDrag) {\n        var newLayout = this.state.layout;\n        var oldLayout = prevState.layout;\n        this.onLayoutMaybeChanged(newLayout, oldLayout);\n      }\n    }\n    /**\n     * Calculates a pixel value for the container.\n     * @return {String} Container height in pixels.\n     */\n\n  }, {\n    key: \"containerHeight\",\n    value: function containerHeight() {\n      if (!this.props.autoSize) return;\n      var nbRow = (0, _utils.bottom)(this.state.layout);\n      var containerPaddingY = this.props.containerPadding ? this.props.containerPadding[1] : this.props.margin[1];\n      return nbRow * this.props.rowHeight + (nbRow - 1) * this.props.margin[1] + containerPaddingY * 2 + \"px\";\n    }\n    /**\n     * When dragging starts\n     * @param {String} i Id of the child\n     * @param {Number} x X position of the move\n     * @param {Number} y Y position of the move\n     * @param {Event} e The mousedown event\n     * @param {Element} node The current dragging DOM element\n     */\n\n  }, {\n    key: \"onDragStart\",\n    value: function onDragStart(i\n    /*: string*/\n    , x\n    /*: number*/\n    , y\n    /*: number*/\n    , _ref3) {\n      var e = _ref3.e,\n          node = _ref3.node;\n      var layout = this.state.layout;\n      var l = (0, _utils.getLayoutItem)(layout, i);\n      if (!l) return;\n      this.setState({\n        oldDragItem: (0, _utils.cloneLayoutItem)(l),\n        oldLayout: this.state.layout\n      });\n      return this.props.onDragStart(layout, l, l, null, e, node);\n    }\n    /**\n     * Each drag movement create a new dragelement and move the element to the dragged location\n     * @param {String} i Id of the child\n     * @param {Number} x X position of the move\n     * @param {Number} y Y position of the move\n     * @param {Event} e The mousedown event\n     * @param {Element} node The current dragging DOM element\n     */\n\n  }, {\n    key: \"onDrag\",\n    value: function onDrag(i\n    /*: string*/\n    , x\n    /*: number*/\n    , y\n    /*: number*/\n    , _ref4) {\n      var e = _ref4.e,\n          node = _ref4.node;\n      var oldDragItem = this.state.oldDragItem;\n      var layout = this.state.layout;\n      var cols = this.props.cols;\n      var l = (0, _utils.getLayoutItem)(layout, i);\n      if (!l) return; // Create placeholder (display only)\n\n      var placeholder = {\n        w: l.w,\n        h: l.h,\n        x: l.x,\n        y: l.y,\n        placeholder: true,\n        i: i\n      }; // Move the element to the dragged location.\n\n      var isUserAction = true;\n      layout = (0, _utils.moveElement)(layout, l, x, y, isUserAction, this.props.preventCollision, compactType(this.props), cols);\n      this.props.onDrag(layout, oldDragItem, l, placeholder, e, node);\n      this.setState({\n        layout: (0, _utils.compact)(layout, compactType(this.props), cols),\n        activeDrag: placeholder\n      });\n    }\n    /**\n     * When dragging stops, figure out which position the element is closest to and update its x and y.\n     * @param  {String} i Index of the child.\n     * @param {Number} x X position of the move\n     * @param {Number} y Y position of the move\n     * @param {Event} e The mousedown event\n     * @param {Element} node The current dragging DOM element\n     */\n\n  }, {\n    key: \"onDragStop\",\n    value: function onDragStop(i\n    /*: string*/\n    , x\n    /*: number*/\n    , y\n    /*: number*/\n    , _ref5) {\n      var e = _ref5.e,\n          node = _ref5.node;\n      var oldDragItem = this.state.oldDragItem;\n      var layout = this.state.layout;\n      var _this$props2 = this.props,\n          cols = _this$props2.cols,\n          preventCollision = _this$props2.preventCollision;\n      var l = (0, _utils.getLayoutItem)(layout, i);\n      if (!l) return; // Move the element here\n\n      var isUserAction = true;\n      layout = (0, _utils.moveElement)(layout, l, x, y, isUserAction, preventCollision, compactType(this.props), cols);\n\n      if (this.state.activeDrag) {\n        this.props.onDragStop(layout, oldDragItem, l, null, e, node);\n      } // Set state\n\n\n      var newLayout = (0, _utils.compact)(layout, compactType(this.props), cols);\n      var oldLayout = this.state.oldLayout;\n      this.setState({\n        activeDrag: null,\n        layout: newLayout,\n        oldDragItem: null,\n        oldLayout: null\n      });\n      this.onLayoutMaybeChanged(newLayout, oldLayout);\n    }\n  }, {\n    key: \"onLayoutMaybeChanged\",\n    value: function onLayoutMaybeChanged(newLayout\n    /*: Layout*/\n    , oldLayout\n    /*: ?Layout*/\n    ) {\n      if (!oldLayout) oldLayout = this.state.layout;\n\n      if (!(0, _lodash.default)(oldLayout, newLayout)) {\n        this.props.onLayoutChange(newLayout);\n      }\n    }\n  }, {\n    key: \"onResizeStart\",\n    value: function onResizeStart(i\n    /*: string*/\n    , w\n    /*: number*/\n    , h\n    /*: number*/\n    , _ref6) {\n      var e = _ref6.e,\n          node = _ref6.node;\n      var layout = this.state.layout;\n      var l = (0, _utils.getLayoutItem)(layout, i);\n      if (!l) return;\n      this.setState({\n        oldResizeItem: (0, _utils.cloneLayoutItem)(l),\n        oldLayout: this.state.layout\n      });\n      this.props.onResizeStart(layout, l, l, null, e, node);\n    }\n  }, {\n    key: \"onResize\",\n    value: function onResize(i\n    /*: string*/\n    , w\n    /*: number*/\n    , h\n    /*: number*/\n    , _ref7) {\n      var e = _ref7.e,\n          node = _ref7.node;\n      var _this$state = this.state,\n          layout = _this$state.layout,\n          oldResizeItem = _this$state.oldResizeItem;\n      var _this$props3 = this.props,\n          cols = _this$props3.cols,\n          preventCollision = _this$props3.preventCollision;\n      var l\n      /*: ?LayoutItem*/\n      = (0, _utils.getLayoutItem)(layout, i);\n      if (!l) return; // Something like quad tree should be used\n      // to find collisions faster\n\n      var hasCollisions;\n\n      if (preventCollision) {\n        var collisions = (0, _utils.getAllCollisions)(layout, _objectSpread({}, l, {\n          w: w,\n          h: h\n        })).filter(function (layoutItem) {\n          return layoutItem.i !== l.i;\n        });\n        hasCollisions = collisions.length > 0; // If we're colliding, we need adjust the placeholder.\n\n        if (hasCollisions) {\n          // adjust w && h to maximum allowed space\n          var leastX = Infinity,\n              leastY = Infinity;\n          collisions.forEach(function (layoutItem) {\n            if (layoutItem.x > l.x) leastX = Math.min(leastX, layoutItem.x);\n            if (layoutItem.y > l.y) leastY = Math.min(leastY, layoutItem.y);\n          });\n          if (Number.isFinite(leastX)) l.w = leastX - l.x;\n          if (Number.isFinite(leastY)) l.h = leastY - l.y;\n        }\n      }\n\n      if (!hasCollisions) {\n        // Set new width and height.\n        l.w = w;\n        l.h = h;\n      } // Create placeholder element (display only)\n\n\n      var placeholder = {\n        w: l.w,\n        h: l.h,\n        x: l.x,\n        y: l.y,\n        static: true,\n        i: i\n      };\n      this.props.onResize(layout, oldResizeItem, l, placeholder, e, node); // Re-compact the layout and set the drag placeholder.\n\n      this.setState({\n        layout: (0, _utils.compact)(layout, compactType(this.props), cols),\n        activeDrag: placeholder\n      });\n    }\n  }, {\n    key: \"onResizeStop\",\n    value: function onResizeStop(i\n    /*: string*/\n    , w\n    /*: number*/\n    , h\n    /*: number*/\n    , _ref8) {\n      var e = _ref8.e,\n          node = _ref8.node;\n      var _this$state2 = this.state,\n          layout = _this$state2.layout,\n          oldResizeItem = _this$state2.oldResizeItem;\n      var cols = this.props.cols;\n      var l = (0, _utils.getLayoutItem)(layout, i);\n      this.props.onResizeStop(layout, oldResizeItem, l, null, e, node); // Set state\n\n      var newLayout = (0, _utils.compact)(layout, compactType(this.props), cols);\n      var oldLayout = this.state.oldLayout;\n      this.setState({\n        activeDrag: null,\n        layout: newLayout,\n        oldResizeItem: null,\n        oldLayout: null\n      });\n      this.onLayoutMaybeChanged(newLayout, oldLayout);\n    }\n    /**\n     * Create a placeholder object.\n     * @return {Element} Placeholder div.\n     */\n\n  }, {\n    key: \"placeholder\",\n    value: function placeholder()\n    /*: ?ReactElement<any>*/\n    {\n      var activeDrag = this.state.activeDrag;\n      if (!activeDrag) return null;\n      var _this$props4 = this.props,\n          width = _this$props4.width,\n          cols = _this$props4.cols,\n          margin = _this$props4.margin,\n          containerPadding = _this$props4.containerPadding,\n          rowHeight = _this$props4.rowHeight,\n          maxRows = _this$props4.maxRows,\n          useCSSTransforms = _this$props4.useCSSTransforms,\n          transformScale = _this$props4.transformScale; // {...this.state.activeDrag} is pretty slow, actually\n\n      return _react.default.createElement(_GridItem.default, {\n        w: activeDrag.w,\n        h: activeDrag.h,\n        x: activeDrag.x,\n        y: activeDrag.y,\n        i: activeDrag.i,\n        className: \"react-grid-placeholder\",\n        containerWidth: width,\n        cols: cols,\n        margin: margin,\n        containerPadding: containerPadding || margin,\n        maxRows: maxRows,\n        rowHeight: rowHeight,\n        isDraggable: false,\n        isResizable: false,\n        useCSSTransforms: useCSSTransforms,\n        transformScale: transformScale\n      }, _react.default.createElement(\"div\", null));\n    }\n    /**\n     * Given a grid item, set its style attributes & surround in a <Draggable>.\n     * @param  {Element} child React element.\n     * @return {Element}       Element wrapped in draggable and properly placed.\n     */\n\n  }, {\n    key: \"processGridItem\",\n    value: function processGridItem(child\n    /*: ReactElement<any>*/\n    , isDroppingItem\n    /*: boolean*/\n    )\n    /*: ?ReactElement<any>*/\n    {\n      if (!child || !child.key) return;\n      var l = (0, _utils.getLayoutItem)(this.state.layout, String(child.key));\n      if (!l) return null;\n      var _this$props5 = this.props,\n          width = _this$props5.width,\n          cols = _this$props5.cols,\n          margin = _this$props5.margin,\n          containerPadding = _this$props5.containerPadding,\n          rowHeight = _this$props5.rowHeight,\n          maxRows = _this$props5.maxRows,\n          isDraggable = _this$props5.isDraggable,\n          isResizable = _this$props5.isResizable,\n          useCSSTransforms = _this$props5.useCSSTransforms,\n          transformScale = _this$props5.transformScale,\n          draggableCancel = _this$props5.draggableCancel,\n          draggableHandle = _this$props5.draggableHandle;\n      var _this$state3 = this.state,\n          mounted = _this$state3.mounted,\n          droppingPosition = _this$state3.droppingPosition; // Parse 'static'. Any properties defined directly on the grid item will take precedence.\n\n      var draggable = Boolean(!l.static && isDraggable && (l.isDraggable || l.isDraggable == null));\n      var resizable = Boolean(!l.static && isResizable && (l.isResizable || l.isResizable == null));\n      return _react.default.createElement(_GridItem.default, {\n        containerWidth: width,\n        cols: cols,\n        margin: margin,\n        containerPadding: containerPadding || margin,\n        maxRows: maxRows,\n        rowHeight: rowHeight,\n        cancel: draggableCancel,\n        handle: draggableHandle,\n        onDragStop: this.onDragStop,\n        onDragStart: this.onDragStart,\n        onDrag: this.onDrag,\n        onResizeStart: this.onResizeStart,\n        onResize: this.onResize,\n        onResizeStop: this.onResizeStop,\n        isDraggable: draggable,\n        isResizable: resizable,\n        useCSSTransforms: useCSSTransforms && mounted,\n        usePercentages: !mounted,\n        transformScale: transformScale,\n        w: l.w,\n        h: l.h,\n        x: l.x,\n        y: l.y,\n        i: l.i,\n        minH: l.minH,\n        minW: l.minW,\n        maxH: l.maxH,\n        maxW: l.maxW,\n        static: l.static,\n        droppingPosition: isDroppingItem ? droppingPosition : undefined\n      }, child);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props6 = this.props,\n          className = _this$props6.className,\n          style = _this$props6.style,\n          isDroppable = _this$props6.isDroppable;\n      var mergedClassName = (0, _classnames.default)(layoutClassName, className);\n\n      var mergedStyle = _objectSpread({\n        height: this.containerHeight()\n      }, style);\n\n      return _react.default.createElement(\"div\", {\n        className: mergedClassName,\n        style: mergedStyle,\n        onDrop: isDroppable ? this.onDrop : _utils.noop,\n        onDragLeave: isDroppable ? this.onDragLeave : _utils.noop,\n        onDragEnter: isDroppable ? this.onDragEnter : _utils.noop,\n        onDragOver: isDroppable ? this.onDragOver : _utils.noop\n      }, _react.default.Children.map(this.props.children, function (child) {\n        return _this2.processGridItem(child);\n      }), isDroppable && this.state.droppingDOMNode && this.processGridItem(this.state.droppingDOMNode, true), this.placeholder());\n    }\n  }], [{\n    key: \"getDerivedStateFromProps\",\n    value: function getDerivedStateFromProps(nextProps\n    /*: Props*/\n    , prevState\n    /*: State*/\n    ) {\n      var newLayoutBase;\n\n      if (prevState.activeDrag) {\n        return null;\n      } // Legacy support for compactType\n      // Allow parent to set layout directly.\n\n\n      if (!(0, _lodash.default)(nextProps.layout, prevState.propsLayout) || nextProps.compactType !== prevState.compactType) {\n        newLayoutBase = nextProps.layout;\n      } else if (!(0, _utils.childrenEqual)(nextProps.children, prevState.children)) {\n        // If children change, also regenerate the layout. Use our state\n        // as the base in case because it may be more up to date than\n        // what is in props.\n        newLayoutBase = prevState.layout;\n      } // We need to regenerate the layout.\n\n\n      if (newLayoutBase) {\n        var newLayout = (0, _utils.synchronizeLayoutWithChildren)(newLayoutBase, nextProps.children, nextProps.cols, compactType(nextProps));\n        return {\n          layout: newLayout,\n          // We need to save these props to state for using\n          // getDerivedStateFromProps instead of componentDidMount (in which we would get extra rerender)\n          compactType: nextProps.compactType,\n          children: nextProps.children,\n          propsLayout: nextProps.layout\n        };\n      }\n\n      return null;\n    }\n  }]);\n\n  return ReactGridLayout;\n}(_react.default.Component);\n\nexports.default = ReactGridLayout;\n\n_defineProperty(ReactGridLayout, \"displayName\", \"ReactGridLayout\");\n\n_defineProperty(ReactGridLayout, \"propTypes\", {\n  //\n  // Basic props\n  //\n  className: _propTypes.default.string,\n  style: _propTypes.default.object,\n  // This can be set explicitly. If it is not set, it will automatically\n  // be set to the container width. Note that resizes will *not* cause this to adjust.\n  // If you need that behavior, use WidthProvider.\n  width: _propTypes.default.number,\n  // If true, the container height swells and contracts to fit contents\n  autoSize: _propTypes.default.bool,\n  // # of cols.\n  cols: _propTypes.default.number,\n  // A selector that will not be draggable.\n  draggableCancel: _propTypes.default.string,\n  // A selector for the draggable handler\n  draggableHandle: _propTypes.default.string,\n  // Deprecated\n  verticalCompact: function verticalCompact(props\n  /*: Props*/\n  ) {\n    if (props.verticalCompact === false && process.env.NODE_ENV !== \"production\") {\n      console.warn( // eslint-disable-line no-console\n      \"`verticalCompact` on <ReactGridLayout> is deprecated and will be removed soon. \" + 'Use `compactType`: \"horizontal\" | \"vertical\" | null.');\n    }\n  },\n  // Choose vertical or hotizontal compaction\n  compactType: _propTypes.default.oneOf([\"vertical\", \"horizontal\"]),\n  // layout is an array of object with the format:\n  // {x: Number, y: Number, w: Number, h: Number, i: String}\n  layout: function layout(props\n  /*: Props*/\n  ) {\n    var layout = props.layout; // I hope you're setting the data-grid property on the grid items\n\n    if (layout === undefined) return;\n    (0, _utils.validateLayout)(layout, \"layout\");\n  },\n  //\n  // Grid Dimensions\n  //\n  // Margin between items [x, y] in px\n  margin: _propTypes.default.arrayOf(_propTypes.default.number),\n  // Padding inside the container [x, y] in px\n  containerPadding: _propTypes.default.arrayOf(_propTypes.default.number),\n  // Rows have a static height, but you can change this based on breakpoints if you like\n  rowHeight: _propTypes.default.number,\n  // Default Infinity, but you can specify a max here if you like.\n  // Note that this isn't fully fleshed out and won't error if you specify a layout that\n  // extends beyond the row capacity. It will, however, not allow users to drag/resize\n  // an item past the barrier. They can push items beyond the barrier, though.\n  // Intentionally not documented for this reason.\n  maxRows: _propTypes.default.number,\n  //\n  // Flags\n  //\n  isDraggable: _propTypes.default.bool,\n  isResizable: _propTypes.default.bool,\n  // If true, grid items won't change position when being dragged over.\n  preventCollision: _propTypes.default.bool,\n  // Use CSS transforms instead of top/left\n  useCSSTransforms: _propTypes.default.bool,\n  // parent layout transform scale\n  transformScale: _propTypes.default.number,\n  // If true, an external element can trigger onDrop callback with a specific grid position as a parameter\n  isDroppable: _propTypes.default.bool,\n  //\n  // Callbacks\n  //\n  // Callback so you can save the layout. Calls after each drag & resize stops.\n  onLayoutChange: _propTypes.default.func,\n  // Calls when drag starts. Callback is of the signature (layout, oldItem, newItem, placeholder, e, ?node).\n  // All callbacks below have the same signature. 'start' and 'stop' callbacks omit the 'placeholder'.\n  onDragStart: _propTypes.default.func,\n  // Calls on each drag movement.\n  onDrag: _propTypes.default.func,\n  // Calls when drag is complete.\n  onDragStop: _propTypes.default.func,\n  //Calls when resize starts.\n  onResizeStart: _propTypes.default.func,\n  // Calls when resize movement happens.\n  onResize: _propTypes.default.func,\n  // Calls when resize is complete.\n  onResizeStop: _propTypes.default.func,\n  // Calls when some element is dropped.\n  onDrop: _propTypes.default.func,\n  //\n  // Other validations\n  //\n  droppingItem: _propTypes.default.shape({\n    i: _propTypes.default.string.isRequired,\n    w: _propTypes.default.number.isRequired,\n    h: _propTypes.default.number.isRequired\n  }),\n  // Children must not have duplicate keys.\n  children: function children(props\n  /*: Props*/\n  , propName\n  /*: string*/\n  ) {\n    var children = props[propName]; // Check children keys for duplicates. Throw if found.\n\n    var keys = {};\n\n    _react.default.Children.forEach(children, function (child) {\n      if (keys[child.key]) {\n        throw new Error('Duplicate child key \"' + child.key + '\" found! This will cause problems in ReactGridLayout.');\n      }\n\n      keys[child.key] = true;\n    });\n  }\n});\n\n_defineProperty(ReactGridLayout, \"defaultProps\", {\n  autoSize: true,\n  cols: 12,\n  className: \"\",\n  style: {},\n  draggableHandle: \"\",\n  draggableCancel: \"\",\n  containerPadding: null,\n  rowHeight: 150,\n  maxRows: Infinity,\n  // infinite vertical growth\n  layout: [],\n  margin: [10, 10],\n  isDraggable: true,\n  isResizable: true,\n  isDroppable: false,\n  useCSSTransforms: true,\n  transformScale: 1,\n  verticalCompact: true,\n  compactType: \"vertical\",\n  preventCollision: false,\n  droppingItem: {\n    i: \"__dropping-elem__\",\n    h: 1,\n    w: 1\n  },\n  onLayoutChange: _utils.noop,\n  onDragStart: _utils.noop,\n  onDrag: _utils.noop,\n  onDragStop: _utils.noop,\n  onResizeStart: _utils.noop,\n  onResize: _utils.noop,\n  onResizeStop: _utils.noop,\n  onDrop: _utils.noop\n});"]},"metadata":{},"sourceType":"script"}