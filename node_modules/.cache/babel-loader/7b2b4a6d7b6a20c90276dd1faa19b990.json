{"ast":null,"code":"import React, { useLayoutEffect, useEffect, useRef, useState, useContext } from 'react';\nimport { useMemo, useCallback } from 'use-memo-one';\nimport _inheritsLoose from '@babel/runtime-corejs2/helpers/esm/inheritsLoose';\nimport _extends from '@babel/runtime-corejs2/helpers/esm/extends';\nimport { createStore as createStore$1, applyMiddleware, compose, bindActionCreators } from 'redux';\nimport { Provider, connect } from 'react-redux';\nimport { getRect, expand, offset, withScroll, getBox, createBox, calculateBox } from 'css-box-model';\nimport memoizeOne from 'memoize-one';\nimport _Object$values from '@babel/runtime-corejs2/core-js/object/values';\nimport _Object$keys from '@babel/runtime-corejs2/core-js/object/keys';\nimport rafSchd from 'raf-schd';\nimport _Date$now from '@babel/runtime-corejs2/core-js/date/now';\nimport _Object$assign from '@babel/runtime-corejs2/core-js/object/assign';\nimport ReactDOM from 'react-dom';\nimport _Number$isInteger from '@babel/runtime-corejs2/core-js/number/is-integer';\nvar isProduction = process.env.NODE_ENV === 'production';\nvar spacesAndTabs = /[ \\t]{2,}/g;\nvar lineStartWithSpaces = /^[ \\t]*/gm;\n\nvar clean = function clean(value) {\n  return value.replace(spacesAndTabs, ' ').replace(lineStartWithSpaces, '').trim();\n};\n\nvar getDevMessage = function getDevMessage(message) {\n  return clean(\"\\n  %creact-beautiful-dnd\\n\\n  %c\" + clean(message) + \"\\n\\n  %c\\uD83D\\uDC77\\u200D This is a development only message. It will be removed in production builds.\\n\");\n};\n\nvar getFormattedMessage = function getFormattedMessage(message) {\n  return [getDevMessage(message), 'color: #00C584; font-size: 1.2em; font-weight: bold;', 'line-height: 1.5', 'color: #723874;'];\n};\n\nvar isDisabledFlag = '__react-beautiful-dnd-disable-dev-warnings';\n\nfunction log(type, message) {\n  var _console;\n\n  if (isProduction) {\n    return;\n  }\n\n  if (typeof window !== 'undefined' && window[isDisabledFlag]) {\n    return;\n  }\n\n  (_console = console)[type].apply(_console, getFormattedMessage(message));\n}\n\nvar warning = log.bind(null, 'warn');\nvar error = log.bind(null, 'error');\n\nfunction noop() {}\n\nfunction getOptions(shared, fromBinding) {\n  return _extends({}, shared, fromBinding);\n}\n\nfunction bindEvents(el, bindings, sharedOptions) {\n  var unbindings = bindings.map(function (binding) {\n    var options = getOptions(sharedOptions, binding.options);\n    el.addEventListener(binding.eventName, binding.fn, options);\n    return function unbind() {\n      el.removeEventListener(binding.eventName, binding.fn, options);\n    };\n  });\n  return function unbindAll() {\n    unbindings.forEach(function (unbind) {\n      unbind();\n    });\n  };\n}\n\nvar isProduction$1 = process.env.NODE_ENV === 'production';\nvar prefix = 'Invariant failed';\n\nfunction RbdInvariant(message) {\n  this.message = message;\n}\n\nRbdInvariant.prototype.toString = function toString() {\n  return this.message;\n};\n\nfunction invariant(condition, message) {\n  if (condition) {\n    return;\n  }\n\n  if (isProduction$1) {\n    throw new RbdInvariant(prefix);\n  } else {\n    throw new RbdInvariant(prefix + \": \" + (message || ''));\n  }\n}\n\nvar ErrorBoundary = function (_React$Component) {\n  _inheritsLoose(ErrorBoundary, _React$Component);\n\n  function ErrorBoundary() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _React$Component.call.apply(_React$Component, [this].concat(args)) || this;\n    _this.callbacks = null;\n    _this.unbind = noop;\n\n    _this.onWindowError = function (event) {\n      var callbacks = _this.getCallbacks();\n\n      if (callbacks.isDragging()) {\n        callbacks.tryAbort();\n        process.env.NODE_ENV !== \"production\" ? warning(\"\\n        An error was caught by our window 'error' event listener while a drag was occurring.\\n        The active drag has been aborted.\\n      \") : void 0;\n      }\n\n      var err = event.error;\n\n      if (err instanceof RbdInvariant) {\n        event.preventDefault();\n\n        if (process.env.NODE_ENV !== 'production') {\n          error(err.message);\n        }\n      }\n    };\n\n    _this.getCallbacks = function () {\n      if (!_this.callbacks) {\n        throw new Error('Unable to find AppCallbacks in <ErrorBoundary/>');\n      }\n\n      return _this.callbacks;\n    };\n\n    _this.setCallbacks = function (callbacks) {\n      _this.callbacks = callbacks;\n    };\n\n    return _this;\n  }\n\n  var _proto = ErrorBoundary.prototype;\n\n  _proto.componentDidMount = function componentDidMount() {\n    this.unbind = bindEvents(window, [{\n      eventName: 'error',\n      fn: this.onWindowError\n    }]);\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    this.unbind();\n  };\n\n  _proto.componentDidCatch = function componentDidCatch(err) {\n    if (err instanceof RbdInvariant) {\n      if (process.env.NODE_ENV !== 'production') {\n        error(err.message);\n      }\n\n      this.setState({});\n      return;\n    }\n\n    throw err;\n  };\n\n  _proto.render = function render() {\n    return this.props.children(this.setCallbacks);\n  };\n\n  return ErrorBoundary;\n}(React.Component);\n\nvar liftInstruction = \"Draggable item. Ensure your screen reader is not in browse mode and then press space bar to lift.\";\n\nvar position = function position(index) {\n  return index + 1;\n};\n\nvar onDragStart = function onDragStart(start) {\n  return \"\\n  You have lifted an item in position \" + position(start.source.index) + \".\\n  Use the arrow keys to move, space bar to drop, and escape to cancel.\\n\";\n};\n\nvar withLocation = function withLocation(source, destination) {\n  var isInHomeList = source.droppableId === destination.droppableId;\n  var startPosition = position(source.index);\n  var endPosition = position(destination.index);\n\n  if (isInHomeList) {\n    return \"\\n      You have moved the item from position \" + startPosition + \"\\n      to position \" + endPosition + \"\\n    \";\n  }\n\n  return \"\\n    You have moved the item from position \" + startPosition + \"\\n    in list \" + source.droppableId + \"\\n    to list \" + destination.droppableId + \"\\n    in position \" + endPosition + \"\\n  \";\n};\n\nvar withCombine = function withCombine(id, source, combine) {\n  var inHomeList = source.droppableId === combine.droppableId;\n\n  if (inHomeList) {\n    return \"\\n      The item \" + id + \"\\n      has been combined with \" + combine.draggableId;\n  }\n\n  return \"\\n      The item \" + id + \"\\n      in list \" + source.droppableId + \"\\n      has been combined with \" + combine.draggableId + \"\\n      in list \" + combine.droppableId + \"\\n    \";\n};\n\nvar onDragUpdate = function onDragUpdate(update) {\n  var location = update.destination;\n\n  if (location) {\n    return withLocation(update.source, location);\n  }\n\n  var combine = update.combine;\n\n  if (combine) {\n    return withCombine(update.draggableId, update.source, combine);\n  }\n\n  return 'You are over an area that cannot be dropped on';\n};\n\nvar returnedToStart = function returnedToStart(source) {\n  return \"\\n  The item has returned to its starting position\\n  of \" + position(source.index) + \"\\n\";\n};\n\nvar onDragEnd = function onDragEnd(result) {\n  if (result.reason === 'CANCEL') {\n    return \"\\n      Movement cancelled.\\n      \" + returnedToStart(result.source) + \"\\n    \";\n  }\n\n  var location = result.destination;\n  var combine = result.combine;\n\n  if (location) {\n    return \"\\n      You have dropped the item.\\n      \" + withLocation(result.source, location) + \"\\n    \";\n  }\n\n  if (combine) {\n    return \"\\n      You have dropped the item.\\n      \" + withCombine(result.draggableId, result.source, combine) + \"\\n    \";\n  }\n\n  return \"\\n    The item has been dropped while not over a drop area.\\n    \" + returnedToStart(result.source) + \"\\n  \";\n};\n\nvar preset = {\n  liftInstruction: liftInstruction,\n  onDragStart: onDragStart,\n  onDragUpdate: onDragUpdate,\n  onDragEnd: onDragEnd\n};\nvar origin = {\n  x: 0,\n  y: 0\n};\n\nvar add = function add(point1, point2) {\n  return {\n    x: point1.x + point2.x,\n    y: point1.y + point2.y\n  };\n};\n\nvar subtract = function subtract(point1, point2) {\n  return {\n    x: point1.x - point2.x,\n    y: point1.y - point2.y\n  };\n};\n\nvar isEqual = function isEqual(point1, point2) {\n  return point1.x === point2.x && point1.y === point2.y;\n};\n\nvar negate = function negate(point) {\n  return {\n    x: point.x !== 0 ? -point.x : 0,\n    y: point.y !== 0 ? -point.y : 0\n  };\n};\n\nvar patch = function patch(line, value, otherValue) {\n  var _ref;\n\n  if (otherValue === void 0) {\n    otherValue = 0;\n  }\n\n  return _ref = {}, _ref[line] = value, _ref[line === 'x' ? 'y' : 'x'] = otherValue, _ref;\n};\n\nvar distance = function distance(point1, point2) {\n  return Math.sqrt(Math.pow(point2.x - point1.x, 2) + Math.pow(point2.y - point1.y, 2));\n};\n\nvar closest = function closest(target, points) {\n  return Math.min.apply(Math, points.map(function (point) {\n    return distance(target, point);\n  }));\n};\n\nvar apply = function apply(fn) {\n  return function (point) {\n    return {\n      x: fn(point.x),\n      y: fn(point.y)\n    };\n  };\n};\n\nvar executeClip = function (frame, subject) {\n  var result = getRect({\n    top: Math.max(subject.top, frame.top),\n    right: Math.min(subject.right, frame.right),\n    bottom: Math.min(subject.bottom, frame.bottom),\n    left: Math.max(subject.left, frame.left)\n  });\n\n  if (result.width <= 0 || result.height <= 0) {\n    return null;\n  }\n\n  return result;\n};\n\nvar offsetByPosition = function offsetByPosition(spacing, point) {\n  return {\n    top: spacing.top + point.y,\n    left: spacing.left + point.x,\n    bottom: spacing.bottom + point.y,\n    right: spacing.right + point.x\n  };\n};\n\nvar getCorners = function getCorners(spacing) {\n  return [{\n    x: spacing.left,\n    y: spacing.top\n  }, {\n    x: spacing.right,\n    y: spacing.top\n  }, {\n    x: spacing.left,\n    y: spacing.bottom\n  }, {\n    x: spacing.right,\n    y: spacing.bottom\n  }];\n};\n\nvar noSpacing = {\n  top: 0,\n  right: 0,\n  bottom: 0,\n  left: 0\n};\n\nvar scroll = function scroll(target, frame) {\n  if (!frame) {\n    return target;\n  }\n\n  return offsetByPosition(target, frame.scroll.diff.displacement);\n};\n\nvar increase = function increase(target, axis, withPlaceholder) {\n  if (withPlaceholder && withPlaceholder.increasedBy) {\n    var _extends2;\n\n    return _extends({}, target, (_extends2 = {}, _extends2[axis.end] = target[axis.end] + withPlaceholder.increasedBy[axis.line], _extends2));\n  }\n\n  return target;\n};\n\nvar clip = function clip(target, frame) {\n  if (frame && frame.shouldClipSubject) {\n    return executeClip(frame.pageMarginBox, target);\n  }\n\n  return getRect(target);\n};\n\nvar getSubject = function (_ref) {\n  var page = _ref.page,\n      withPlaceholder = _ref.withPlaceholder,\n      axis = _ref.axis,\n      frame = _ref.frame;\n  var scrolled = scroll(page.marginBox, frame);\n  var increased = increase(scrolled, axis, withPlaceholder);\n  var clipped = clip(increased, frame);\n  return {\n    page: page,\n    withPlaceholder: withPlaceholder,\n    active: clipped\n  };\n};\n\nvar scrollDroppable = function (droppable, newScroll) {\n  !droppable.frame ? process.env.NODE_ENV !== \"production\" ? invariant(false) : invariant(false) : void 0;\n  var scrollable = droppable.frame;\n  var scrollDiff = subtract(newScroll, scrollable.scroll.initial);\n  var scrollDisplacement = negate(scrollDiff);\n\n  var frame = _extends({}, scrollable, {\n    scroll: {\n      initial: scrollable.scroll.initial,\n      current: newScroll,\n      diff: {\n        value: scrollDiff,\n        displacement: scrollDisplacement\n      },\n      max: scrollable.scroll.max\n    }\n  });\n\n  var subject = getSubject({\n    page: droppable.subject.page,\n    withPlaceholder: droppable.subject.withPlaceholder,\n    axis: droppable.axis,\n    frame: frame\n  });\n\n  var result = _extends({}, droppable, {\n    frame: frame,\n    subject: subject\n  });\n\n  return result;\n};\n\nfunction values(map) {\n  return _Object$values(map);\n}\n\nfunction findIndex(list, predicate) {\n  if (list.findIndex) {\n    return list.findIndex(predicate);\n  }\n\n  for (var i = 0; i < list.length; i++) {\n    if (predicate(list[i])) {\n      return i;\n    }\n  }\n\n  return -1;\n}\n\nfunction find(list, predicate) {\n  if (list.find) {\n    return list.find(predicate);\n  }\n\n  var index = findIndex(list, predicate);\n\n  if (index !== -1) {\n    return list[index];\n  }\n\n  return undefined;\n}\n\nfunction toArray(list) {\n  return Array.prototype.slice.call(list);\n}\n\nvar toDroppableMap = memoizeOne(function (droppables) {\n  return droppables.reduce(function (previous, current) {\n    previous[current.descriptor.id] = current;\n    return previous;\n  }, {});\n});\nvar toDraggableMap = memoizeOne(function (draggables) {\n  return draggables.reduce(function (previous, current) {\n    previous[current.descriptor.id] = current;\n    return previous;\n  }, {});\n});\nvar toDroppableList = memoizeOne(function (droppables) {\n  return values(droppables);\n});\nvar toDraggableList = memoizeOne(function (draggables) {\n  return values(draggables);\n});\nvar getDraggablesInsideDroppable = memoizeOne(function (droppableId, draggables) {\n  var result = toDraggableList(draggables).filter(function (draggable) {\n    return droppableId === draggable.descriptor.droppableId;\n  }).sort(function (a, b) {\n    return a.descriptor.index - b.descriptor.index;\n  });\n  return result;\n});\n\nfunction tryGetDestination(impact) {\n  if (impact.at && impact.at.type === 'REORDER') {\n    return impact.at.destination;\n  }\n\n  return null;\n}\n\nfunction tryGetCombine(impact) {\n  if (impact.at && impact.at.type === 'COMBINE') {\n    return impact.at.combine;\n  }\n\n  return null;\n}\n\nvar removeDraggableFromList = memoizeOne(function (remove, list) {\n  return list.filter(function (item) {\n    return item.descriptor.id !== remove.descriptor.id;\n  });\n});\n\nvar moveToNextCombine = function (_ref) {\n  var isMovingForward = _ref.isMovingForward,\n      draggable = _ref.draggable,\n      destination = _ref.destination,\n      insideDestination = _ref.insideDestination,\n      previousImpact = _ref.previousImpact;\n\n  if (!destination.isCombineEnabled) {\n    return null;\n  }\n\n  var location = tryGetDestination(previousImpact);\n\n  if (!location) {\n    return null;\n  }\n\n  function getImpact(target) {\n    var at = {\n      type: 'COMBINE',\n      combine: {\n        draggableId: target,\n        droppableId: destination.descriptor.id\n      }\n    };\n    return _extends({}, previousImpact, {\n      at: at\n    });\n  }\n\n  var all = previousImpact.displaced.all;\n  var closestId = all.length ? all[0] : null;\n\n  if (isMovingForward) {\n    return closestId ? getImpact(closestId) : null;\n  }\n\n  var withoutDraggable = removeDraggableFromList(draggable, insideDestination);\n\n  if (!closestId) {\n    if (!withoutDraggable.length) {\n      return null;\n    }\n\n    var last = withoutDraggable[withoutDraggable.length - 1];\n    return getImpact(last.descriptor.id);\n  }\n\n  var indexOfClosest = findIndex(withoutDraggable, function (d) {\n    return d.descriptor.id === closestId;\n  });\n  !(indexOfClosest !== -1) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Could not find displaced item in set') : invariant(false) : void 0;\n  var proposedIndex = indexOfClosest - 1;\n\n  if (proposedIndex < 0) {\n    return null;\n  }\n\n  var before = withoutDraggable[proposedIndex];\n  return getImpact(before.descriptor.id);\n};\n\nvar isHomeOf = function (draggable, destination) {\n  return draggable.descriptor.droppableId === destination.descriptor.id;\n};\n\nvar noDisplacedBy = {\n  point: origin,\n  value: 0\n};\nvar emptyGroups = {\n  invisible: {},\n  visible: {},\n  all: []\n};\nvar noImpact = {\n  displaced: emptyGroups,\n  displacedBy: noDisplacedBy,\n  at: null\n};\n\nvar isWithin = function (lowerBound, upperBound) {\n  return function (value) {\n    return lowerBound <= value && value <= upperBound;\n  };\n};\n\nvar isPartiallyVisibleThroughFrame = function (frame) {\n  var isWithinVertical = isWithin(frame.top, frame.bottom);\n  var isWithinHorizontal = isWithin(frame.left, frame.right);\n  return function (subject) {\n    var isContained = isWithinVertical(subject.top) && isWithinVertical(subject.bottom) && isWithinHorizontal(subject.left) && isWithinHorizontal(subject.right);\n\n    if (isContained) {\n      return true;\n    }\n\n    var isPartiallyVisibleVertically = isWithinVertical(subject.top) || isWithinVertical(subject.bottom);\n    var isPartiallyVisibleHorizontally = isWithinHorizontal(subject.left) || isWithinHorizontal(subject.right);\n    var isPartiallyContained = isPartiallyVisibleVertically && isPartiallyVisibleHorizontally;\n\n    if (isPartiallyContained) {\n      return true;\n    }\n\n    var isBiggerVertically = subject.top < frame.top && subject.bottom > frame.bottom;\n    var isBiggerHorizontally = subject.left < frame.left && subject.right > frame.right;\n    var isTargetBiggerThanFrame = isBiggerVertically && isBiggerHorizontally;\n\n    if (isTargetBiggerThanFrame) {\n      return true;\n    }\n\n    var isTargetBiggerOnOneAxis = isBiggerVertically && isPartiallyVisibleHorizontally || isBiggerHorizontally && isPartiallyVisibleVertically;\n    return isTargetBiggerOnOneAxis;\n  };\n};\n\nvar isTotallyVisibleThroughFrame = function (frame) {\n  var isWithinVertical = isWithin(frame.top, frame.bottom);\n  var isWithinHorizontal = isWithin(frame.left, frame.right);\n  return function (subject) {\n    var isContained = isWithinVertical(subject.top) && isWithinVertical(subject.bottom) && isWithinHorizontal(subject.left) && isWithinHorizontal(subject.right);\n    return isContained;\n  };\n};\n\nvar vertical = {\n  direction: 'vertical',\n  line: 'y',\n  crossAxisLine: 'x',\n  start: 'top',\n  end: 'bottom',\n  size: 'height',\n  crossAxisStart: 'left',\n  crossAxisEnd: 'right',\n  crossAxisSize: 'width'\n};\nvar horizontal = {\n  direction: 'horizontal',\n  line: 'x',\n  crossAxisLine: 'y',\n  start: 'left',\n  end: 'right',\n  size: 'width',\n  crossAxisStart: 'top',\n  crossAxisEnd: 'bottom',\n  crossAxisSize: 'height'\n};\n\nvar isTotallyVisibleThroughFrameOnAxis = function (axis) {\n  return function (frame) {\n    var isWithinVertical = isWithin(frame.top, frame.bottom);\n    var isWithinHorizontal = isWithin(frame.left, frame.right);\n    return function (subject) {\n      if (axis === vertical) {\n        return isWithinVertical(subject.top) && isWithinVertical(subject.bottom);\n      }\n\n      return isWithinHorizontal(subject.left) && isWithinHorizontal(subject.right);\n    };\n  };\n};\n\nvar getDroppableDisplaced = function getDroppableDisplaced(target, destination) {\n  var displacement = destination.frame ? destination.frame.scroll.diff.displacement : origin;\n  return offsetByPosition(target, displacement);\n};\n\nvar isVisibleInDroppable = function isVisibleInDroppable(target, destination, isVisibleThroughFrameFn) {\n  if (!destination.subject.active) {\n    return false;\n  }\n\n  return isVisibleThroughFrameFn(destination.subject.active)(target);\n};\n\nvar isVisibleInViewport = function isVisibleInViewport(target, viewport, isVisibleThroughFrameFn) {\n  return isVisibleThroughFrameFn(viewport)(target);\n};\n\nvar isVisible = function isVisible(_ref) {\n  var toBeDisplaced = _ref.target,\n      destination = _ref.destination,\n      viewport = _ref.viewport,\n      withDroppableDisplacement = _ref.withDroppableDisplacement,\n      isVisibleThroughFrameFn = _ref.isVisibleThroughFrameFn;\n  var displacedTarget = withDroppableDisplacement ? getDroppableDisplaced(toBeDisplaced, destination) : toBeDisplaced;\n  return isVisibleInDroppable(displacedTarget, destination, isVisibleThroughFrameFn) && isVisibleInViewport(displacedTarget, viewport, isVisibleThroughFrameFn);\n};\n\nvar isPartiallyVisible = function isPartiallyVisible(args) {\n  return isVisible(_extends({}, args, {\n    isVisibleThroughFrameFn: isPartiallyVisibleThroughFrame\n  }));\n};\n\nvar isTotallyVisible = function isTotallyVisible(args) {\n  return isVisible(_extends({}, args, {\n    isVisibleThroughFrameFn: isTotallyVisibleThroughFrame\n  }));\n};\n\nvar isTotallyVisibleOnAxis = function isTotallyVisibleOnAxis(args) {\n  return isVisible(_extends({}, args, {\n    isVisibleThroughFrameFn: isTotallyVisibleThroughFrameOnAxis(args.destination.axis)\n  }));\n};\n\nvar getShouldAnimate = function getShouldAnimate(id, last, forceShouldAnimate) {\n  if (typeof forceShouldAnimate === 'boolean') {\n    return forceShouldAnimate;\n  }\n\n  if (!last) {\n    return true;\n  }\n\n  var invisible = last.invisible,\n      visible = last.visible;\n\n  if (invisible[id]) {\n    return false;\n  }\n\n  var previous = visible[id];\n  return previous ? previous.shouldAnimate : true;\n};\n\nfunction getTarget(draggable, displacedBy) {\n  var marginBox = draggable.page.marginBox;\n  var expandBy = {\n    top: displacedBy.point.y,\n    right: 0,\n    bottom: 0,\n    left: displacedBy.point.x\n  };\n  return getRect(expand(marginBox, expandBy));\n}\n\nfunction getDisplacementGroups(_ref) {\n  var afterDragging = _ref.afterDragging,\n      destination = _ref.destination,\n      displacedBy = _ref.displacedBy,\n      viewport = _ref.viewport,\n      forceShouldAnimate = _ref.forceShouldAnimate,\n      last = _ref.last;\n  return afterDragging.reduce(function process(groups, draggable) {\n    var target = getTarget(draggable, displacedBy);\n    var id = draggable.descriptor.id;\n    groups.all.push(id);\n    var isVisible = isPartiallyVisible({\n      target: target,\n      destination: destination,\n      viewport: viewport,\n      withDroppableDisplacement: true\n    });\n\n    if (!isVisible) {\n      groups.invisible[draggable.descriptor.id] = true;\n      return groups;\n    }\n\n    var shouldAnimate = getShouldAnimate(id, last, forceShouldAnimate);\n    var displacement = {\n      draggableId: id,\n      shouldAnimate: shouldAnimate\n    };\n    groups.visible[id] = displacement;\n    return groups;\n  }, {\n    all: [],\n    visible: {},\n    invisible: {}\n  });\n}\n\nfunction getIndexOfLastItem(draggables, options) {\n  if (!draggables.length) {\n    return 0;\n  }\n\n  var indexOfLastItem = draggables[draggables.length - 1].descriptor.index;\n  return options.inHomeList ? indexOfLastItem : indexOfLastItem + 1;\n}\n\nfunction goAtEnd(_ref) {\n  var insideDestination = _ref.insideDestination,\n      inHomeList = _ref.inHomeList,\n      displacedBy = _ref.displacedBy,\n      destination = _ref.destination;\n  var newIndex = getIndexOfLastItem(insideDestination, {\n    inHomeList: inHomeList\n  });\n  return {\n    displaced: emptyGroups,\n    displacedBy: displacedBy,\n    at: {\n      type: 'REORDER',\n      destination: {\n        droppableId: destination.descriptor.id,\n        index: newIndex\n      }\n    }\n  };\n}\n\nfunction calculateReorderImpact(_ref2) {\n  var draggable = _ref2.draggable,\n      insideDestination = _ref2.insideDestination,\n      destination = _ref2.destination,\n      viewport = _ref2.viewport,\n      displacedBy = _ref2.displacedBy,\n      last = _ref2.last,\n      index = _ref2.index,\n      forceShouldAnimate = _ref2.forceShouldAnimate;\n  var inHomeList = isHomeOf(draggable, destination);\n\n  if (index == null) {\n    return goAtEnd({\n      insideDestination: insideDestination,\n      inHomeList: inHomeList,\n      displacedBy: displacedBy,\n      destination: destination\n    });\n  }\n\n  var match = find(insideDestination, function (item) {\n    return item.descriptor.index === index;\n  });\n\n  if (!match) {\n    return goAtEnd({\n      insideDestination: insideDestination,\n      inHomeList: inHomeList,\n      displacedBy: displacedBy,\n      destination: destination\n    });\n  }\n\n  var withoutDragging = removeDraggableFromList(draggable, insideDestination);\n  var sliceFrom = insideDestination.indexOf(match);\n  var impacted = withoutDragging.slice(sliceFrom);\n  var displaced = getDisplacementGroups({\n    afterDragging: impacted,\n    destination: destination,\n    displacedBy: displacedBy,\n    last: last,\n    viewport: viewport.frame,\n    forceShouldAnimate: forceShouldAnimate\n  });\n  return {\n    displaced: displaced,\n    displacedBy: displacedBy,\n    at: {\n      type: 'REORDER',\n      destination: {\n        droppableId: destination.descriptor.id,\n        index: index\n      }\n    }\n  };\n}\n\nfunction didStartAfterCritical(draggableId, afterCritical) {\n  return Boolean(afterCritical.effected[draggableId]);\n}\n\nvar fromCombine = function (_ref) {\n  var isMovingForward = _ref.isMovingForward,\n      destination = _ref.destination,\n      draggables = _ref.draggables,\n      combine = _ref.combine,\n      afterCritical = _ref.afterCritical;\n\n  if (!destination.isCombineEnabled) {\n    return null;\n  }\n\n  var combineId = combine.draggableId;\n  var combineWith = draggables[combineId];\n  var combineWithIndex = combineWith.descriptor.index;\n  var didCombineWithStartAfterCritical = didStartAfterCritical(combineId, afterCritical);\n\n  if (didCombineWithStartAfterCritical) {\n    if (isMovingForward) {\n      return combineWithIndex;\n    }\n\n    return combineWithIndex - 1;\n  }\n\n  if (isMovingForward) {\n    return combineWithIndex + 1;\n  }\n\n  return combineWithIndex;\n};\n\nvar fromReorder = function (_ref) {\n  var isMovingForward = _ref.isMovingForward,\n      isInHomeList = _ref.isInHomeList,\n      insideDestination = _ref.insideDestination,\n      location = _ref.location;\n\n  if (!insideDestination.length) {\n    return null;\n  }\n\n  var currentIndex = location.index;\n  var proposedIndex = isMovingForward ? currentIndex + 1 : currentIndex - 1;\n  var firstIndex = insideDestination[0].descriptor.index;\n  var lastIndex = insideDestination[insideDestination.length - 1].descriptor.index;\n  var upperBound = isInHomeList ? lastIndex : lastIndex + 1;\n\n  if (proposedIndex < firstIndex) {\n    return null;\n  }\n\n  if (proposedIndex > upperBound) {\n    return null;\n  }\n\n  return proposedIndex;\n};\n\nvar moveToNextIndex = function (_ref) {\n  var isMovingForward = _ref.isMovingForward,\n      isInHomeList = _ref.isInHomeList,\n      draggable = _ref.draggable,\n      draggables = _ref.draggables,\n      destination = _ref.destination,\n      insideDestination = _ref.insideDestination,\n      previousImpact = _ref.previousImpact,\n      viewport = _ref.viewport,\n      afterCritical = _ref.afterCritical;\n  var wasAt = previousImpact.at;\n  !wasAt ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot move in direction without previous impact location') : invariant(false) : void 0;\n\n  if (wasAt.type === 'REORDER') {\n    var _newIndex = fromReorder({\n      isMovingForward: isMovingForward,\n      isInHomeList: isInHomeList,\n      location: wasAt.destination,\n      insideDestination: insideDestination\n    });\n\n    if (_newIndex == null) {\n      return null;\n    }\n\n    return calculateReorderImpact({\n      draggable: draggable,\n      insideDestination: insideDestination,\n      destination: destination,\n      viewport: viewport,\n      last: previousImpact.displaced,\n      displacedBy: previousImpact.displacedBy,\n      index: _newIndex\n    });\n  }\n\n  var newIndex = fromCombine({\n    isMovingForward: isMovingForward,\n    destination: destination,\n    displaced: previousImpact.displaced,\n    draggables: draggables,\n    combine: wasAt.combine,\n    afterCritical: afterCritical\n  });\n\n  if (newIndex == null) {\n    return null;\n  }\n\n  return calculateReorderImpact({\n    draggable: draggable,\n    insideDestination: insideDestination,\n    destination: destination,\n    viewport: viewport,\n    last: previousImpact.displaced,\n    displacedBy: previousImpact.displacedBy,\n    index: newIndex\n  });\n};\n\nvar getCombinedItemDisplacement = function (_ref) {\n  var displaced = _ref.displaced,\n      afterCritical = _ref.afterCritical,\n      combineWith = _ref.combineWith,\n      displacedBy = _ref.displacedBy;\n  var isDisplaced = Boolean(displaced.visible[combineWith] || displaced.invisible[combineWith]);\n\n  if (didStartAfterCritical(combineWith, afterCritical)) {\n    return isDisplaced ? origin : negate(displacedBy.point);\n  }\n\n  return isDisplaced ? displacedBy.point : origin;\n};\n\nvar whenCombining = function (_ref) {\n  var afterCritical = _ref.afterCritical,\n      impact = _ref.impact,\n      draggables = _ref.draggables;\n  var combine = tryGetCombine(impact);\n  !combine ? process.env.NODE_ENV !== \"production\" ? invariant(false) : invariant(false) : void 0;\n  var combineWith = combine.draggableId;\n  var center = draggables[combineWith].page.borderBox.center;\n  var displaceBy = getCombinedItemDisplacement({\n    displaced: impact.displaced,\n    afterCritical: afterCritical,\n    combineWith: combineWith,\n    displacedBy: impact.displacedBy\n  });\n  return add(center, displaceBy);\n};\n\nvar distanceFromStartToBorderBoxCenter = function distanceFromStartToBorderBoxCenter(axis, box) {\n  return box.margin[axis.start] + box.borderBox[axis.size] / 2;\n};\n\nvar distanceFromEndToBorderBoxCenter = function distanceFromEndToBorderBoxCenter(axis, box) {\n  return box.margin[axis.end] + box.borderBox[axis.size] / 2;\n};\n\nvar getCrossAxisBorderBoxCenter = function getCrossAxisBorderBoxCenter(axis, target, isMoving) {\n  return target[axis.crossAxisStart] + isMoving.margin[axis.crossAxisStart] + isMoving.borderBox[axis.crossAxisSize] / 2;\n};\n\nvar goAfter = function goAfter(_ref) {\n  var axis = _ref.axis,\n      moveRelativeTo = _ref.moveRelativeTo,\n      isMoving = _ref.isMoving;\n  return patch(axis.line, moveRelativeTo.marginBox[axis.end] + distanceFromStartToBorderBoxCenter(axis, isMoving), getCrossAxisBorderBoxCenter(axis, moveRelativeTo.marginBox, isMoving));\n};\n\nvar goBefore = function goBefore(_ref2) {\n  var axis = _ref2.axis,\n      moveRelativeTo = _ref2.moveRelativeTo,\n      isMoving = _ref2.isMoving;\n  return patch(axis.line, moveRelativeTo.marginBox[axis.start] - distanceFromEndToBorderBoxCenter(axis, isMoving), getCrossAxisBorderBoxCenter(axis, moveRelativeTo.marginBox, isMoving));\n};\n\nvar goIntoStart = function goIntoStart(_ref3) {\n  var axis = _ref3.axis,\n      moveInto = _ref3.moveInto,\n      isMoving = _ref3.isMoving;\n  return patch(axis.line, moveInto.contentBox[axis.start] + distanceFromStartToBorderBoxCenter(axis, isMoving), getCrossAxisBorderBoxCenter(axis, moveInto.contentBox, isMoving));\n};\n\nvar whenReordering = function (_ref) {\n  var impact = _ref.impact,\n      draggable = _ref.draggable,\n      draggables = _ref.draggables,\n      droppable = _ref.droppable,\n      afterCritical = _ref.afterCritical;\n  var insideDestination = getDraggablesInsideDroppable(droppable.descriptor.id, draggables);\n  var draggablePage = draggable.page;\n  var axis = droppable.axis;\n\n  if (!insideDestination.length) {\n    return goIntoStart({\n      axis: axis,\n      moveInto: droppable.page,\n      isMoving: draggablePage\n    });\n  }\n\n  var displaced = impact.displaced,\n      displacedBy = impact.displacedBy;\n  var closestAfter = displaced.all[0];\n\n  if (closestAfter) {\n    var closest = draggables[closestAfter];\n\n    if (didStartAfterCritical(closestAfter, afterCritical)) {\n      return goBefore({\n        axis: axis,\n        moveRelativeTo: closest.page,\n        isMoving: draggablePage\n      });\n    }\n\n    var withDisplacement = offset(closest.page, displacedBy.point);\n    return goBefore({\n      axis: axis,\n      moveRelativeTo: withDisplacement,\n      isMoving: draggablePage\n    });\n  }\n\n  var last = insideDestination[insideDestination.length - 1];\n\n  if (last.descriptor.id === draggable.descriptor.id) {\n    return draggablePage.borderBox.center;\n  }\n\n  if (didStartAfterCritical(last.descriptor.id, afterCritical)) {\n    var page = offset(last.page, negate(afterCritical.displacedBy.point));\n    return goAfter({\n      axis: axis,\n      moveRelativeTo: page,\n      isMoving: draggablePage\n    });\n  }\n\n  return goAfter({\n    axis: axis,\n    moveRelativeTo: last.page,\n    isMoving: draggablePage\n  });\n};\n\nvar withDroppableDisplacement = function (droppable, point) {\n  var frame = droppable.frame;\n\n  if (!frame) {\n    return point;\n  }\n\n  return add(point, frame.scroll.diff.displacement);\n};\n\nvar getResultWithoutDroppableDisplacement = function getResultWithoutDroppableDisplacement(_ref) {\n  var impact = _ref.impact,\n      draggable = _ref.draggable,\n      droppable = _ref.droppable,\n      draggables = _ref.draggables,\n      afterCritical = _ref.afterCritical;\n  var original = draggable.page.borderBox.center;\n  var at = impact.at;\n\n  if (!droppable) {\n    return original;\n  }\n\n  if (!at) {\n    return original;\n  }\n\n  if (at.type === 'REORDER') {\n    return whenReordering({\n      impact: impact,\n      draggable: draggable,\n      draggables: draggables,\n      droppable: droppable,\n      afterCritical: afterCritical\n    });\n  }\n\n  return whenCombining({\n    impact: impact,\n    draggables: draggables,\n    afterCritical: afterCritical\n  });\n};\n\nvar getPageBorderBoxCenterFromImpact = function (args) {\n  var withoutDisplacement = getResultWithoutDroppableDisplacement(args);\n  var droppable = args.droppable;\n  var withDisplacement = droppable ? withDroppableDisplacement(droppable, withoutDisplacement) : withoutDisplacement;\n  return withDisplacement;\n};\n\nvar scrollViewport = function (viewport, newScroll) {\n  var diff = subtract(newScroll, viewport.scroll.initial);\n  var displacement = negate(diff);\n  var frame = getRect({\n    top: newScroll.y,\n    bottom: newScroll.y + viewport.frame.height,\n    left: newScroll.x,\n    right: newScroll.x + viewport.frame.width\n  });\n  var updated = {\n    frame: frame,\n    scroll: {\n      initial: viewport.scroll.initial,\n      max: viewport.scroll.max,\n      current: newScroll,\n      diff: {\n        value: diff,\n        displacement: displacement\n      }\n    }\n  };\n  return updated;\n};\n\nfunction getDraggables(ids, draggables) {\n  return ids.map(function (id) {\n    return draggables[id];\n  });\n}\n\nfunction tryGetVisible(id, groups) {\n  for (var i = 0; i < groups.length; i++) {\n    var displacement = groups[i].visible[id];\n\n    if (displacement) {\n      return displacement;\n    }\n  }\n\n  return null;\n}\n\nvar speculativelyIncrease = function (_ref) {\n  var impact = _ref.impact,\n      viewport = _ref.viewport,\n      destination = _ref.destination,\n      draggables = _ref.draggables,\n      maxScrollChange = _ref.maxScrollChange;\n  var scrolledViewport = scrollViewport(viewport, add(viewport.scroll.current, maxScrollChange));\n  var scrolledDroppable = destination.frame ? scrollDroppable(destination, add(destination.frame.scroll.current, maxScrollChange)) : destination;\n  var last = impact.displaced;\n  var withViewportScroll = getDisplacementGroups({\n    afterDragging: getDraggables(last.all, draggables),\n    destination: destination,\n    displacedBy: impact.displacedBy,\n    viewport: scrolledViewport.frame,\n    last: last,\n    forceShouldAnimate: false\n  });\n  var withDroppableScroll = getDisplacementGroups({\n    afterDragging: getDraggables(last.all, draggables),\n    destination: scrolledDroppable,\n    displacedBy: impact.displacedBy,\n    viewport: viewport.frame,\n    last: last,\n    forceShouldAnimate: false\n  });\n  var invisible = {};\n  var visible = {};\n  var groups = [last, withViewportScroll, withDroppableScroll];\n  last.all.forEach(function (id) {\n    var displacement = tryGetVisible(id, groups);\n\n    if (displacement) {\n      visible[id] = displacement;\n      return;\n    }\n\n    invisible[id] = true;\n  });\n\n  var newImpact = _extends({}, impact, {\n    displaced: {\n      all: last.all,\n      invisible: invisible,\n      visible: visible\n    }\n  });\n\n  return newImpact;\n};\n\nvar withViewportDisplacement = function (viewport, point) {\n  return add(viewport.scroll.diff.displacement, point);\n};\n\nvar getClientFromPageBorderBoxCenter = function (_ref) {\n  var pageBorderBoxCenter = _ref.pageBorderBoxCenter,\n      draggable = _ref.draggable,\n      viewport = _ref.viewport;\n  var withoutPageScrollChange = withViewportDisplacement(viewport, pageBorderBoxCenter);\n  var offset = subtract(withoutPageScrollChange, draggable.page.borderBox.center);\n  return add(draggable.client.borderBox.center, offset);\n};\n\nvar isTotallyVisibleInNewLocation = function (_ref) {\n  var draggable = _ref.draggable,\n      destination = _ref.destination,\n      newPageBorderBoxCenter = _ref.newPageBorderBoxCenter,\n      viewport = _ref.viewport,\n      withDroppableDisplacement = _ref.withDroppableDisplacement,\n      _ref$onlyOnMainAxis = _ref.onlyOnMainAxis,\n      onlyOnMainAxis = _ref$onlyOnMainAxis === void 0 ? false : _ref$onlyOnMainAxis;\n  var changeNeeded = subtract(newPageBorderBoxCenter, draggable.page.borderBox.center);\n  var shifted = offsetByPosition(draggable.page.borderBox, changeNeeded);\n  var args = {\n    target: shifted,\n    destination: destination,\n    withDroppableDisplacement: withDroppableDisplacement,\n    viewport: viewport\n  };\n  return onlyOnMainAxis ? isTotallyVisibleOnAxis(args) : isTotallyVisible(args);\n};\n\nvar moveToNextPlace = function (_ref) {\n  var isMovingForward = _ref.isMovingForward,\n      draggable = _ref.draggable,\n      destination = _ref.destination,\n      draggables = _ref.draggables,\n      previousImpact = _ref.previousImpact,\n      viewport = _ref.viewport,\n      previousPageBorderBoxCenter = _ref.previousPageBorderBoxCenter,\n      previousClientSelection = _ref.previousClientSelection,\n      afterCritical = _ref.afterCritical;\n\n  if (!destination.isEnabled) {\n    return null;\n  }\n\n  var insideDestination = getDraggablesInsideDroppable(destination.descriptor.id, draggables);\n  var isInHomeList = isHomeOf(draggable, destination);\n  var impact = moveToNextCombine({\n    isMovingForward: isMovingForward,\n    draggable: draggable,\n    destination: destination,\n    insideDestination: insideDestination,\n    previousImpact: previousImpact\n  }) || moveToNextIndex({\n    isMovingForward: isMovingForward,\n    isInHomeList: isInHomeList,\n    draggable: draggable,\n    draggables: draggables,\n    destination: destination,\n    insideDestination: insideDestination,\n    previousImpact: previousImpact,\n    viewport: viewport,\n    afterCritical: afterCritical\n  });\n\n  if (!impact) {\n    return null;\n  }\n\n  var pageBorderBoxCenter = getPageBorderBoxCenterFromImpact({\n    impact: impact,\n    draggable: draggable,\n    droppable: destination,\n    draggables: draggables,\n    afterCritical: afterCritical\n  });\n  var isVisibleInNewLocation = isTotallyVisibleInNewLocation({\n    draggable: draggable,\n    destination: destination,\n    newPageBorderBoxCenter: pageBorderBoxCenter,\n    viewport: viewport.frame,\n    withDroppableDisplacement: false,\n    onlyOnMainAxis: true\n  });\n\n  if (isVisibleInNewLocation) {\n    var clientSelection = getClientFromPageBorderBoxCenter({\n      pageBorderBoxCenter: pageBorderBoxCenter,\n      draggable: draggable,\n      viewport: viewport\n    });\n    return {\n      clientSelection: clientSelection,\n      impact: impact,\n      scrollJumpRequest: null\n    };\n  }\n\n  var distance = subtract(pageBorderBoxCenter, previousPageBorderBoxCenter);\n  var cautious = speculativelyIncrease({\n    impact: impact,\n    viewport: viewport,\n    destination: destination,\n    draggables: draggables,\n    maxScrollChange: distance\n  });\n  return {\n    clientSelection: previousClientSelection,\n    impact: cautious,\n    scrollJumpRequest: distance\n  };\n};\n\nvar getKnownActive = function getKnownActive(droppable) {\n  var rect = droppable.subject.active;\n  !rect ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot get clipped area from droppable') : invariant(false) : void 0;\n  return rect;\n};\n\nvar getBestCrossAxisDroppable = function (_ref) {\n  var isMovingForward = _ref.isMovingForward,\n      pageBorderBoxCenter = _ref.pageBorderBoxCenter,\n      source = _ref.source,\n      droppables = _ref.droppables,\n      viewport = _ref.viewport;\n  var active = source.subject.active;\n\n  if (!active) {\n    return null;\n  }\n\n  var axis = source.axis;\n  var isBetweenSourceClipped = isWithin(active[axis.start], active[axis.end]);\n  var candidates = toDroppableList(droppables).filter(function (droppable) {\n    return droppable !== source;\n  }).filter(function (droppable) {\n    return droppable.isEnabled;\n  }).filter(function (droppable) {\n    return Boolean(droppable.subject.active);\n  }).filter(function (droppable) {\n    return isPartiallyVisibleThroughFrame(viewport.frame)(getKnownActive(droppable));\n  }).filter(function (droppable) {\n    var activeOfTarget = getKnownActive(droppable);\n\n    if (isMovingForward) {\n      return active[axis.crossAxisEnd] < activeOfTarget[axis.crossAxisEnd];\n    }\n\n    return activeOfTarget[axis.crossAxisStart] < active[axis.crossAxisStart];\n  }).filter(function (droppable) {\n    var activeOfTarget = getKnownActive(droppable);\n    var isBetweenDestinationClipped = isWithin(activeOfTarget[axis.start], activeOfTarget[axis.end]);\n    return isBetweenSourceClipped(activeOfTarget[axis.start]) || isBetweenSourceClipped(activeOfTarget[axis.end]) || isBetweenDestinationClipped(active[axis.start]) || isBetweenDestinationClipped(active[axis.end]);\n  }).sort(function (a, b) {\n    var first = getKnownActive(a)[axis.crossAxisStart];\n    var second = getKnownActive(b)[axis.crossAxisStart];\n\n    if (isMovingForward) {\n      return first - second;\n    }\n\n    return second - first;\n  }).filter(function (droppable, index, array) {\n    return getKnownActive(droppable)[axis.crossAxisStart] === getKnownActive(array[0])[axis.crossAxisStart];\n  });\n\n  if (!candidates.length) {\n    return null;\n  }\n\n  if (candidates.length === 1) {\n    return candidates[0];\n  }\n\n  var contains = candidates.filter(function (droppable) {\n    var isWithinDroppable = isWithin(getKnownActive(droppable)[axis.start], getKnownActive(droppable)[axis.end]);\n    return isWithinDroppable(pageBorderBoxCenter[axis.line]);\n  });\n\n  if (contains.length === 1) {\n    return contains[0];\n  }\n\n  if (contains.length > 1) {\n    return contains.sort(function (a, b) {\n      return getKnownActive(a)[axis.start] - getKnownActive(b)[axis.start];\n    })[0];\n  }\n\n  return candidates.sort(function (a, b) {\n    var first = closest(pageBorderBoxCenter, getCorners(getKnownActive(a)));\n    var second = closest(pageBorderBoxCenter, getCorners(getKnownActive(b)));\n\n    if (first !== second) {\n      return first - second;\n    }\n\n    return getKnownActive(a)[axis.start] - getKnownActive(b)[axis.start];\n  })[0];\n};\n\nvar getCurrentPageBorderBoxCenter = function getCurrentPageBorderBoxCenter(draggable, afterCritical) {\n  var original = draggable.page.borderBox.center;\n  return didStartAfterCritical(draggable.descriptor.id, afterCritical) ? subtract(original, afterCritical.displacedBy.point) : original;\n};\n\nvar getCurrentPageBorderBox = function getCurrentPageBorderBox(draggable, afterCritical) {\n  var original = draggable.page.borderBox;\n  return didStartAfterCritical(draggable.descriptor.id, afterCritical) ? offsetByPosition(original, negate(afterCritical.displacedBy.point)) : original;\n};\n\nvar getClosestDraggable = function (_ref) {\n  var pageBorderBoxCenter = _ref.pageBorderBoxCenter,\n      viewport = _ref.viewport,\n      destination = _ref.destination,\n      insideDestination = _ref.insideDestination,\n      afterCritical = _ref.afterCritical;\n  var sorted = insideDestination.filter(function (draggable) {\n    return isTotallyVisible({\n      target: getCurrentPageBorderBox(draggable, afterCritical),\n      destination: destination,\n      viewport: viewport.frame,\n      withDroppableDisplacement: true\n    });\n  }).sort(function (a, b) {\n    var distanceToA = distance(pageBorderBoxCenter, withDroppableDisplacement(destination, getCurrentPageBorderBoxCenter(a, afterCritical)));\n    var distanceToB = distance(pageBorderBoxCenter, withDroppableDisplacement(destination, getCurrentPageBorderBoxCenter(b, afterCritical)));\n\n    if (distanceToA < distanceToB) {\n      return -1;\n    }\n\n    if (distanceToB < distanceToA) {\n      return 1;\n    }\n\n    return a.descriptor.index - b.descriptor.index;\n  });\n  return sorted[0] || null;\n};\n\nvar getDisplacedBy = memoizeOne(function getDisplacedBy(axis, displaceBy) {\n  var displacement = displaceBy[axis.line];\n  return {\n    value: displacement,\n    point: patch(axis.line, displacement)\n  };\n});\n\nvar getRequiredGrowthForPlaceholder = function getRequiredGrowthForPlaceholder(droppable, placeholderSize, draggables) {\n  var axis = droppable.axis;\n\n  if (droppable.descriptor.mode === 'virtual') {\n    return patch(axis.line, placeholderSize[axis.line]);\n  }\n\n  var availableSpace = droppable.subject.page.contentBox[axis.size];\n  var insideDroppable = getDraggablesInsideDroppable(droppable.descriptor.id, draggables);\n  var spaceUsed = insideDroppable.reduce(function (sum, dimension) {\n    return sum + dimension.client.marginBox[axis.size];\n  }, 0);\n  var requiredSpace = spaceUsed + placeholderSize[axis.line];\n  var needsToGrowBy = requiredSpace - availableSpace;\n\n  if (needsToGrowBy <= 0) {\n    return null;\n  }\n\n  return patch(axis.line, needsToGrowBy);\n};\n\nvar withMaxScroll = function withMaxScroll(frame, max) {\n  return _extends({}, frame, {\n    scroll: _extends({}, frame.scroll, {\n      max: max\n    })\n  });\n};\n\nvar addPlaceholder = function addPlaceholder(droppable, draggable, draggables) {\n  var frame = droppable.frame;\n  !!isHomeOf(draggable, droppable) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Should not add placeholder space to home list') : invariant(false) : void 0;\n  !!droppable.subject.withPlaceholder ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot add placeholder size to a subject when it already has one') : invariant(false) : void 0;\n  var placeholderSize = getDisplacedBy(droppable.axis, draggable.displaceBy).point;\n  var requiredGrowth = getRequiredGrowthForPlaceholder(droppable, placeholderSize, draggables);\n  var added = {\n    placeholderSize: placeholderSize,\n    increasedBy: requiredGrowth,\n    oldFrameMaxScroll: droppable.frame ? droppable.frame.scroll.max : null\n  };\n\n  if (!frame) {\n    var _subject = getSubject({\n      page: droppable.subject.page,\n      withPlaceholder: added,\n      axis: droppable.axis,\n      frame: droppable.frame\n    });\n\n    return _extends({}, droppable, {\n      subject: _subject\n    });\n  }\n\n  var maxScroll = requiredGrowth ? add(frame.scroll.max, requiredGrowth) : frame.scroll.max;\n  var newFrame = withMaxScroll(frame, maxScroll);\n  var subject = getSubject({\n    page: droppable.subject.page,\n    withPlaceholder: added,\n    axis: droppable.axis,\n    frame: newFrame\n  });\n  return _extends({}, droppable, {\n    subject: subject,\n    frame: newFrame\n  });\n};\n\nvar removePlaceholder = function removePlaceholder(droppable) {\n  var added = droppable.subject.withPlaceholder;\n  !added ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot remove placeholder form subject when there was none') : invariant(false) : void 0;\n  var frame = droppable.frame;\n\n  if (!frame) {\n    var _subject2 = getSubject({\n      page: droppable.subject.page,\n      axis: droppable.axis,\n      frame: null,\n      withPlaceholder: null\n    });\n\n    return _extends({}, droppable, {\n      subject: _subject2\n    });\n  }\n\n  var oldMaxScroll = added.oldFrameMaxScroll;\n  !oldMaxScroll ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Expected droppable with frame to have old max frame scroll when removing placeholder') : invariant(false) : void 0;\n  var newFrame = withMaxScroll(frame, oldMaxScroll);\n  var subject = getSubject({\n    page: droppable.subject.page,\n    axis: droppable.axis,\n    frame: newFrame,\n    withPlaceholder: null\n  });\n  return _extends({}, droppable, {\n    subject: subject,\n    frame: newFrame\n  });\n};\n\nvar moveToNewDroppable = function (_ref) {\n  var previousPageBorderBoxCenter = _ref.previousPageBorderBoxCenter,\n      moveRelativeTo = _ref.moveRelativeTo,\n      insideDestination = _ref.insideDestination,\n      draggable = _ref.draggable,\n      draggables = _ref.draggables,\n      destination = _ref.destination,\n      viewport = _ref.viewport,\n      afterCritical = _ref.afterCritical;\n\n  if (!moveRelativeTo) {\n    if (insideDestination.length) {\n      return null;\n    }\n\n    var proposed = {\n      displaced: emptyGroups,\n      displacedBy: noDisplacedBy,\n      at: {\n        type: 'REORDER',\n        destination: {\n          droppableId: destination.descriptor.id,\n          index: 0\n        }\n      }\n    };\n    var proposedPageBorderBoxCenter = getPageBorderBoxCenterFromImpact({\n      impact: proposed,\n      draggable: draggable,\n      droppable: destination,\n      draggables: draggables,\n      afterCritical: afterCritical\n    });\n    var withPlaceholder = isHomeOf(draggable, destination) ? destination : addPlaceholder(destination, draggable, draggables);\n    var isVisibleInNewLocation = isTotallyVisibleInNewLocation({\n      draggable: draggable,\n      destination: withPlaceholder,\n      newPageBorderBoxCenter: proposedPageBorderBoxCenter,\n      viewport: viewport.frame,\n      withDroppableDisplacement: false,\n      onlyOnMainAxis: true\n    });\n    return isVisibleInNewLocation ? proposed : null;\n  }\n\n  var isGoingBeforeTarget = Boolean(previousPageBorderBoxCenter[destination.axis.line] <= moveRelativeTo.page.borderBox.center[destination.axis.line]);\n\n  var proposedIndex = function () {\n    var relativeTo = moveRelativeTo.descriptor.index;\n\n    if (moveRelativeTo.descriptor.id === draggable.descriptor.id) {\n      return relativeTo;\n    }\n\n    if (isGoingBeforeTarget) {\n      return relativeTo;\n    }\n\n    return relativeTo + 1;\n  }();\n\n  var displacedBy = getDisplacedBy(destination.axis, draggable.displaceBy);\n  return calculateReorderImpact({\n    draggable: draggable,\n    insideDestination: insideDestination,\n    destination: destination,\n    viewport: viewport,\n    displacedBy: displacedBy,\n    last: emptyGroups,\n    index: proposedIndex\n  });\n};\n\nvar moveCrossAxis = function (_ref) {\n  var isMovingForward = _ref.isMovingForward,\n      previousPageBorderBoxCenter = _ref.previousPageBorderBoxCenter,\n      draggable = _ref.draggable,\n      isOver = _ref.isOver,\n      draggables = _ref.draggables,\n      droppables = _ref.droppables,\n      viewport = _ref.viewport,\n      afterCritical = _ref.afterCritical;\n  var destination = getBestCrossAxisDroppable({\n    isMovingForward: isMovingForward,\n    pageBorderBoxCenter: previousPageBorderBoxCenter,\n    source: isOver,\n    droppables: droppables,\n    viewport: viewport\n  });\n\n  if (!destination) {\n    return null;\n  }\n\n  var insideDestination = getDraggablesInsideDroppable(destination.descriptor.id, draggables);\n  var moveRelativeTo = getClosestDraggable({\n    pageBorderBoxCenter: previousPageBorderBoxCenter,\n    viewport: viewport,\n    destination: destination,\n    insideDestination: insideDestination,\n    afterCritical: afterCritical\n  });\n  var impact = moveToNewDroppable({\n    previousPageBorderBoxCenter: previousPageBorderBoxCenter,\n    destination: destination,\n    draggable: draggable,\n    draggables: draggables,\n    moveRelativeTo: moveRelativeTo,\n    insideDestination: insideDestination,\n    viewport: viewport,\n    afterCritical: afterCritical\n  });\n\n  if (!impact) {\n    return null;\n  }\n\n  var pageBorderBoxCenter = getPageBorderBoxCenterFromImpact({\n    impact: impact,\n    draggable: draggable,\n    droppable: destination,\n    draggables: draggables,\n    afterCritical: afterCritical\n  });\n  var clientSelection = getClientFromPageBorderBoxCenter({\n    pageBorderBoxCenter: pageBorderBoxCenter,\n    draggable: draggable,\n    viewport: viewport\n  });\n  return {\n    clientSelection: clientSelection,\n    impact: impact,\n    scrollJumpRequest: null\n  };\n};\n\nvar whatIsDraggedOver = function (impact) {\n  var at = impact.at;\n\n  if (!at) {\n    return null;\n  }\n\n  if (at.type === 'REORDER') {\n    return at.destination.droppableId;\n  }\n\n  return at.combine.droppableId;\n};\n\nvar getDroppableOver = function getDroppableOver(impact, droppables) {\n  var id = whatIsDraggedOver(impact);\n  return id ? droppables[id] : null;\n};\n\nvar moveInDirection = function (_ref) {\n  var state = _ref.state,\n      type = _ref.type;\n  var isActuallyOver = getDroppableOver(state.impact, state.dimensions.droppables);\n  var isMainAxisMovementAllowed = Boolean(isActuallyOver);\n  var home = state.dimensions.droppables[state.critical.droppable.id];\n  var isOver = isActuallyOver || home;\n  var direction = isOver.axis.direction;\n  var isMovingOnMainAxis = direction === 'vertical' && (type === 'MOVE_UP' || type === 'MOVE_DOWN') || direction === 'horizontal' && (type === 'MOVE_LEFT' || type === 'MOVE_RIGHT');\n\n  if (isMovingOnMainAxis && !isMainAxisMovementAllowed) {\n    return null;\n  }\n\n  var isMovingForward = type === 'MOVE_DOWN' || type === 'MOVE_RIGHT';\n  var draggable = state.dimensions.draggables[state.critical.draggable.id];\n  var previousPageBorderBoxCenter = state.current.page.borderBoxCenter;\n  var _state$dimensions = state.dimensions,\n      draggables = _state$dimensions.draggables,\n      droppables = _state$dimensions.droppables;\n  return isMovingOnMainAxis ? moveToNextPlace({\n    isMovingForward: isMovingForward,\n    previousPageBorderBoxCenter: previousPageBorderBoxCenter,\n    draggable: draggable,\n    destination: isOver,\n    draggables: draggables,\n    viewport: state.viewport,\n    previousClientSelection: state.current.client.selection,\n    previousImpact: state.impact,\n    afterCritical: state.afterCritical\n  }) : moveCrossAxis({\n    isMovingForward: isMovingForward,\n    previousPageBorderBoxCenter: previousPageBorderBoxCenter,\n    draggable: draggable,\n    isOver: isOver,\n    draggables: draggables,\n    droppables: droppables,\n    viewport: state.viewport,\n    afterCritical: state.afterCritical\n  });\n};\n\nfunction isMovementAllowed(state) {\n  return state.phase === 'DRAGGING' || state.phase === 'COLLECTING';\n}\n\nfunction isPositionInFrame(frame) {\n  var isWithinVertical = isWithin(frame.top, frame.bottom);\n  var isWithinHorizontal = isWithin(frame.left, frame.right);\n  return function run(point) {\n    return isWithinVertical(point.y) && isWithinHorizontal(point.x);\n  };\n}\n\nfunction getHasOverlap(first, second) {\n  return first.left < second.right && first.right > second.left && first.top < second.bottom && first.bottom > second.top;\n}\n\nfunction getFurthestAway(_ref) {\n  var pageBorderBox = _ref.pageBorderBox,\n      draggable = _ref.draggable,\n      candidates = _ref.candidates;\n  var startCenter = draggable.page.borderBox.center;\n  var sorted = candidates.map(function (candidate) {\n    var axis = candidate.axis;\n    var target = patch(candidate.axis.line, pageBorderBox.center[axis.line], candidate.page.borderBox.center[axis.crossAxisLine]);\n    return {\n      id: candidate.descriptor.id,\n      distance: distance(startCenter, target)\n    };\n  }).sort(function (a, b) {\n    return b.distance - a.distance;\n  });\n  return sorted[0] ? sorted[0].id : null;\n}\n\nfunction getDroppableOver$1(_ref2) {\n  var pageBorderBox = _ref2.pageBorderBox,\n      draggable = _ref2.draggable,\n      droppables = _ref2.droppables;\n  var candidates = toDroppableList(droppables).filter(function (item) {\n    if (!item.isEnabled) {\n      return false;\n    }\n\n    var active = item.subject.active;\n\n    if (!active) {\n      return false;\n    }\n\n    if (!getHasOverlap(pageBorderBox, active)) {\n      return false;\n    }\n\n    if (isPositionInFrame(active)(pageBorderBox.center)) {\n      return true;\n    }\n\n    var axis = item.axis;\n    var childCenter = active.center[axis.crossAxisLine];\n    var crossAxisStart = pageBorderBox[axis.crossAxisStart];\n    var crossAxisEnd = pageBorderBox[axis.crossAxisEnd];\n    var isContained = isWithin(active[axis.crossAxisStart], active[axis.crossAxisEnd]);\n    var isStartContained = isContained(crossAxisStart);\n    var isEndContained = isContained(crossAxisEnd);\n\n    if (!isStartContained && !isEndContained) {\n      return true;\n    }\n\n    if (isStartContained) {\n      return crossAxisStart < childCenter;\n    }\n\n    return crossAxisEnd > childCenter;\n  });\n\n  if (!candidates.length) {\n    return null;\n  }\n\n  if (candidates.length === 1) {\n    return candidates[0].descriptor.id;\n  }\n\n  return getFurthestAway({\n    pageBorderBox: pageBorderBox,\n    draggable: draggable,\n    candidates: candidates\n  });\n}\n\nvar offsetRectByPosition = function offsetRectByPosition(rect, point) {\n  return getRect(offsetByPosition(rect, point));\n};\n\nvar withDroppableScroll = function (droppable, area) {\n  var frame = droppable.frame;\n\n  if (!frame) {\n    return area;\n  }\n\n  return offsetRectByPosition(area, frame.scroll.diff.value);\n};\n\nfunction getIsDisplaced(_ref) {\n  var displaced = _ref.displaced,\n      id = _ref.id;\n  return Boolean(displaced.visible[id] || displaced.invisible[id]);\n}\n\nfunction atIndex(_ref) {\n  var draggable = _ref.draggable,\n      closest = _ref.closest,\n      inHomeList = _ref.inHomeList;\n\n  if (!closest) {\n    return null;\n  }\n\n  if (!inHomeList) {\n    return closest.descriptor.index;\n  }\n\n  if (closest.descriptor.index > draggable.descriptor.index) {\n    return closest.descriptor.index - 1;\n  }\n\n  return closest.descriptor.index;\n}\n\nvar getReorderImpact = function (_ref2) {\n  var targetRect = _ref2.pageBorderBoxWithDroppableScroll,\n      draggable = _ref2.draggable,\n      destination = _ref2.destination,\n      insideDestination = _ref2.insideDestination,\n      last = _ref2.last,\n      viewport = _ref2.viewport,\n      afterCritical = _ref2.afterCritical;\n  var axis = destination.axis;\n  var displacedBy = getDisplacedBy(destination.axis, draggable.displaceBy);\n  var displacement = displacedBy.value;\n  var targetStart = targetRect[axis.start];\n  var targetEnd = targetRect[axis.end];\n  var withoutDragging = removeDraggableFromList(draggable, insideDestination);\n  var closest = find(withoutDragging, function (child) {\n    var id = child.descriptor.id;\n    var childCenter = child.page.borderBox.center[axis.line];\n    var didStartAfterCritical$1 = didStartAfterCritical(id, afterCritical);\n    var isDisplaced = getIsDisplaced({\n      displaced: last,\n      id: id\n    });\n\n    if (didStartAfterCritical$1) {\n      if (isDisplaced) {\n        return targetEnd <= childCenter;\n      }\n\n      return targetStart < childCenter - displacement;\n    }\n\n    if (isDisplaced) {\n      return targetEnd <= childCenter + displacement;\n    }\n\n    return targetStart < childCenter;\n  });\n  var newIndex = atIndex({\n    draggable: draggable,\n    closest: closest,\n    inHomeList: isHomeOf(draggable, destination)\n  });\n  return calculateReorderImpact({\n    draggable: draggable,\n    insideDestination: insideDestination,\n    destination: destination,\n    viewport: viewport,\n    last: last,\n    displacedBy: displacedBy,\n    index: newIndex\n  });\n};\n\nvar combineThresholdDivisor = 4;\n\nvar getCombineImpact = function (_ref) {\n  var draggable = _ref.draggable,\n      targetRect = _ref.pageBorderBoxWithDroppableScroll,\n      previousImpact = _ref.previousImpact,\n      destination = _ref.destination,\n      insideDestination = _ref.insideDestination,\n      afterCritical = _ref.afterCritical;\n\n  if (!destination.isCombineEnabled) {\n    return null;\n  }\n\n  var axis = destination.axis;\n  var displacedBy = getDisplacedBy(destination.axis, draggable.displaceBy);\n  var displacement = displacedBy.value;\n  var targetStart = targetRect[axis.start];\n  var targetEnd = targetRect[axis.end];\n  var withoutDragging = removeDraggableFromList(draggable, insideDestination);\n  var combineWith = find(withoutDragging, function (child) {\n    var id = child.descriptor.id;\n    var childRect = child.page.borderBox;\n    var childSize = childRect[axis.size];\n    var threshold = childSize / combineThresholdDivisor;\n    var didStartAfterCritical$1 = didStartAfterCritical(id, afterCritical);\n    var isDisplaced = getIsDisplaced({\n      displaced: previousImpact.displaced,\n      id: id\n    });\n\n    if (didStartAfterCritical$1) {\n      if (isDisplaced) {\n        return targetEnd > childRect[axis.start] + threshold && targetEnd < childRect[axis.end] - threshold;\n      }\n\n      return targetStart > childRect[axis.start] - displacement + threshold && targetStart < childRect[axis.end] - displacement - threshold;\n    }\n\n    if (isDisplaced) {\n      return targetEnd > childRect[axis.start] + displacement + threshold && targetEnd < childRect[axis.end] + displacement - threshold;\n    }\n\n    return targetStart > childRect[axis.start] + threshold && targetStart < childRect[axis.end] - threshold;\n  });\n\n  if (!combineWith) {\n    return null;\n  }\n\n  var impact = {\n    displacedBy: displacedBy,\n    displaced: previousImpact.displaced,\n    at: {\n      type: 'COMBINE',\n      combine: {\n        draggableId: combineWith.descriptor.id,\n        droppableId: destination.descriptor.id\n      }\n    }\n  };\n  return impact;\n};\n\nvar getDragImpact = function (_ref) {\n  var pageOffset = _ref.pageOffset,\n      draggable = _ref.draggable,\n      draggables = _ref.draggables,\n      droppables = _ref.droppables,\n      previousImpact = _ref.previousImpact,\n      viewport = _ref.viewport,\n      afterCritical = _ref.afterCritical;\n  var pageBorderBox = offsetRectByPosition(draggable.page.borderBox, pageOffset);\n  var destinationId = getDroppableOver$1({\n    pageBorderBox: pageBorderBox,\n    draggable: draggable,\n    droppables: droppables\n  });\n\n  if (!destinationId) {\n    return noImpact;\n  }\n\n  var destination = droppables[destinationId];\n  var insideDestination = getDraggablesInsideDroppable(destination.descriptor.id, draggables);\n  var pageBorderBoxWithDroppableScroll = withDroppableScroll(destination, pageBorderBox);\n  return getCombineImpact({\n    pageBorderBoxWithDroppableScroll: pageBorderBoxWithDroppableScroll,\n    draggable: draggable,\n    previousImpact: previousImpact,\n    destination: destination,\n    insideDestination: insideDestination,\n    afterCritical: afterCritical\n  }) || getReorderImpact({\n    pageBorderBoxWithDroppableScroll: pageBorderBoxWithDroppableScroll,\n    draggable: draggable,\n    destination: destination,\n    insideDestination: insideDestination,\n    last: previousImpact.displaced,\n    viewport: viewport,\n    afterCritical: afterCritical\n  });\n};\n\nvar patchDroppableMap = function (droppables, updated) {\n  var _extends2;\n\n  return _extends({}, droppables, (_extends2 = {}, _extends2[updated.descriptor.id] = updated, _extends2));\n};\n\nvar clearUnusedPlaceholder = function clearUnusedPlaceholder(_ref) {\n  var previousImpact = _ref.previousImpact,\n      impact = _ref.impact,\n      droppables = _ref.droppables;\n  var last = whatIsDraggedOver(previousImpact);\n  var now = whatIsDraggedOver(impact);\n\n  if (!last) {\n    return droppables;\n  }\n\n  if (last === now) {\n    return droppables;\n  }\n\n  var lastDroppable = droppables[last];\n\n  if (!lastDroppable.subject.withPlaceholder) {\n    return droppables;\n  }\n\n  var updated = removePlaceholder(lastDroppable);\n  return patchDroppableMap(droppables, updated);\n};\n\nvar recomputePlaceholders = function (_ref2) {\n  var draggable = _ref2.draggable,\n      draggables = _ref2.draggables,\n      droppables = _ref2.droppables,\n      previousImpact = _ref2.previousImpact,\n      impact = _ref2.impact;\n  var cleaned = clearUnusedPlaceholder({\n    previousImpact: previousImpact,\n    impact: impact,\n    droppables: droppables\n  });\n  var isOver = whatIsDraggedOver(impact);\n\n  if (!isOver) {\n    return cleaned;\n  }\n\n  var droppable = droppables[isOver];\n\n  if (isHomeOf(draggable, droppable)) {\n    return cleaned;\n  }\n\n  if (droppable.subject.withPlaceholder) {\n    return cleaned;\n  }\n\n  var patched = addPlaceholder(droppable, draggable, draggables);\n  return patchDroppableMap(cleaned, patched);\n};\n\nvar update = function (_ref) {\n  var state = _ref.state,\n      forcedClientSelection = _ref.clientSelection,\n      forcedDimensions = _ref.dimensions,\n      forcedViewport = _ref.viewport,\n      forcedImpact = _ref.impact,\n      scrollJumpRequest = _ref.scrollJumpRequest;\n  var viewport = forcedViewport || state.viewport;\n  var dimensions = forcedDimensions || state.dimensions;\n  var clientSelection = forcedClientSelection || state.current.client.selection;\n  var offset = subtract(clientSelection, state.initial.client.selection);\n  var client = {\n    offset: offset,\n    selection: clientSelection,\n    borderBoxCenter: add(state.initial.client.borderBoxCenter, offset)\n  };\n  var page = {\n    selection: add(client.selection, viewport.scroll.current),\n    borderBoxCenter: add(client.borderBoxCenter, viewport.scroll.current),\n    offset: add(client.offset, viewport.scroll.diff.value)\n  };\n  var current = {\n    client: client,\n    page: page\n  };\n\n  if (state.phase === 'COLLECTING') {\n    return _extends({\n      phase: 'COLLECTING'\n    }, state, {\n      dimensions: dimensions,\n      viewport: viewport,\n      current: current\n    });\n  }\n\n  var draggable = dimensions.draggables[state.critical.draggable.id];\n  var newImpact = forcedImpact || getDragImpact({\n    pageOffset: page.offset,\n    draggable: draggable,\n    draggables: dimensions.draggables,\n    droppables: dimensions.droppables,\n    previousImpact: state.impact,\n    viewport: viewport,\n    afterCritical: state.afterCritical\n  });\n  var withUpdatedPlaceholders = recomputePlaceholders({\n    draggable: draggable,\n    impact: newImpact,\n    previousImpact: state.impact,\n    draggables: dimensions.draggables,\n    droppables: dimensions.droppables\n  });\n\n  var result = _extends({}, state, {\n    current: current,\n    dimensions: {\n      draggables: dimensions.draggables,\n      droppables: withUpdatedPlaceholders\n    },\n    impact: newImpact,\n    viewport: viewport,\n    scrollJumpRequest: scrollJumpRequest || null,\n    forceShouldAnimate: scrollJumpRequest ? false : null\n  });\n\n  return result;\n};\n\nfunction getDraggables$1(ids, draggables) {\n  return ids.map(function (id) {\n    return draggables[id];\n  });\n}\n\nvar recompute = function (_ref) {\n  var impact = _ref.impact,\n      viewport = _ref.viewport,\n      draggables = _ref.draggables,\n      destination = _ref.destination,\n      forceShouldAnimate = _ref.forceShouldAnimate;\n  var last = impact.displaced;\n  var afterDragging = getDraggables$1(last.all, draggables);\n  var displaced = getDisplacementGroups({\n    afterDragging: afterDragging,\n    destination: destination,\n    displacedBy: impact.displacedBy,\n    viewport: viewport.frame,\n    forceShouldAnimate: forceShouldAnimate,\n    last: last\n  });\n  return _extends({}, impact, {\n    displaced: displaced\n  });\n};\n\nvar getClientBorderBoxCenter = function (_ref) {\n  var impact = _ref.impact,\n      draggable = _ref.draggable,\n      droppable = _ref.droppable,\n      draggables = _ref.draggables,\n      viewport = _ref.viewport,\n      afterCritical = _ref.afterCritical;\n  var pageBorderBoxCenter = getPageBorderBoxCenterFromImpact({\n    impact: impact,\n    draggable: draggable,\n    draggables: draggables,\n    droppable: droppable,\n    afterCritical: afterCritical\n  });\n  return getClientFromPageBorderBoxCenter({\n    pageBorderBoxCenter: pageBorderBoxCenter,\n    draggable: draggable,\n    viewport: viewport\n  });\n};\n\nvar refreshSnap = function (_ref) {\n  var state = _ref.state,\n      forcedDimensions = _ref.dimensions,\n      forcedViewport = _ref.viewport;\n  !(state.movementMode === 'SNAP') ? process.env.NODE_ENV !== \"production\" ? invariant(false) : invariant(false) : void 0;\n  var needsVisibilityCheck = state.impact;\n  var viewport = forcedViewport || state.viewport;\n  var dimensions = forcedDimensions || state.dimensions;\n  var draggables = dimensions.draggables,\n      droppables = dimensions.droppables;\n  var draggable = draggables[state.critical.draggable.id];\n  var isOver = whatIsDraggedOver(needsVisibilityCheck);\n  !isOver ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Must be over a destination in SNAP movement mode') : invariant(false) : void 0;\n  var destination = droppables[isOver];\n  var impact = recompute({\n    impact: needsVisibilityCheck,\n    viewport: viewport,\n    destination: destination,\n    draggables: draggables\n  });\n  var clientSelection = getClientBorderBoxCenter({\n    impact: impact,\n    draggable: draggable,\n    droppable: destination,\n    draggables: draggables,\n    viewport: viewport,\n    afterCritical: state.afterCritical\n  });\n  return update({\n    impact: impact,\n    clientSelection: clientSelection,\n    state: state,\n    dimensions: dimensions,\n    viewport: viewport\n  });\n};\n\nvar getHomeLocation = function (descriptor) {\n  return {\n    index: descriptor.index,\n    droppableId: descriptor.droppableId\n  };\n};\n\nvar getLiftEffect = function (_ref) {\n  var draggable = _ref.draggable,\n      home = _ref.home,\n      draggables = _ref.draggables,\n      viewport = _ref.viewport;\n  var displacedBy = getDisplacedBy(home.axis, draggable.displaceBy);\n  var insideHome = getDraggablesInsideDroppable(home.descriptor.id, draggables);\n  var rawIndex = insideHome.indexOf(draggable);\n  !(rawIndex !== -1) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Expected draggable to be inside home list') : invariant(false) : void 0;\n  var afterDragging = insideHome.slice(rawIndex + 1);\n  var effected = afterDragging.reduce(function (previous, item) {\n    previous[item.descriptor.id] = true;\n    return previous;\n  }, {});\n  var afterCritical = {\n    inVirtualList: home.descriptor.mode === 'virtual',\n    displacedBy: displacedBy,\n    effected: effected\n  };\n  var displaced = getDisplacementGroups({\n    afterDragging: afterDragging,\n    destination: home,\n    displacedBy: displacedBy,\n    last: null,\n    viewport: viewport.frame,\n    forceShouldAnimate: false\n  });\n  var impact = {\n    displaced: displaced,\n    displacedBy: displacedBy,\n    at: {\n      type: 'REORDER',\n      destination: getHomeLocation(draggable.descriptor)\n    }\n  };\n  return {\n    impact: impact,\n    afterCritical: afterCritical\n  };\n};\n\nvar patchDimensionMap = function (dimensions, updated) {\n  return {\n    draggables: dimensions.draggables,\n    droppables: patchDroppableMap(dimensions.droppables, updated)\n  };\n};\n\nvar records = {};\nvar isEnabled = false;\n\nvar isTimingsEnabled = function isTimingsEnabled() {\n  return isEnabled;\n};\n\nvar start = function start(key) {\n  if (process.env.NODE_ENV !== 'production') {\n    if (!isTimingsEnabled()) {\n      return;\n    }\n\n    var now = performance.now();\n    records[key] = now;\n  }\n};\n\nvar finish = function finish(key) {\n  if (process.env.NODE_ENV !== 'production') {\n    if (!isTimingsEnabled()) {\n      return;\n    }\n\n    var now = performance.now();\n    var previous = records[key];\n\n    if (!previous) {\n      console.warn('cannot finish timing as no previous time found', key);\n      return;\n    }\n\n    var result = now - previous;\n    var rounded = result.toFixed(2);\n\n    var style = function () {\n      if (result < 12) {\n        return {\n          textColor: 'green',\n          symbol: '✅'\n        };\n      }\n\n      if (result < 40) {\n        return {\n          textColor: 'orange',\n          symbol: '⚠️'\n        };\n      }\n\n      return {\n        textColor: 'red',\n        symbol: '❌'\n      };\n    }();\n\n    console.log(style.symbol + \" %cTiming %c\" + rounded + \" %cms %c\" + key, 'color: blue; font-weight: bold;', \"color: \" + style.textColor + \"; font-size: 1.1em;\", 'color: grey;', 'color: purple; font-weight: bold;');\n  }\n};\n\nvar offsetDraggable = function (_ref) {\n  var draggable = _ref.draggable,\n      offset$1 = _ref.offset,\n      initialWindowScroll = _ref.initialWindowScroll;\n  var client = offset(draggable.client, offset$1);\n  var page = withScroll(client, initialWindowScroll);\n\n  var moved = _extends({}, draggable, {\n    placeholder: _extends({}, draggable.placeholder, {\n      client: client\n    }),\n    client: client,\n    page: page\n  });\n\n  return moved;\n};\n\nvar getFrame = function (droppable) {\n  var frame = droppable.frame;\n  !frame ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Expected Droppable to have a frame') : invariant(false) : void 0;\n  return frame;\n};\n\nvar adjustAdditionsForScrollChanges = function (_ref) {\n  var additions = _ref.additions,\n      updatedDroppables = _ref.updatedDroppables,\n      viewport = _ref.viewport;\n  var windowScrollChange = viewport.scroll.diff.value;\n  return additions.map(function (draggable) {\n    var droppableId = draggable.descriptor.droppableId;\n    var modified = updatedDroppables[droppableId];\n    var frame = getFrame(modified);\n    var droppableScrollChange = frame.scroll.diff.value;\n    var totalChange = add(windowScrollChange, droppableScrollChange);\n    var moved = offsetDraggable({\n      draggable: draggable,\n      offset: totalChange,\n      initialWindowScroll: viewport.scroll.initial\n    });\n    return moved;\n  });\n};\n\nvar timingsKey = 'Processing dynamic changes';\n\nvar publishWhileDraggingInVirtual = function (_ref) {\n  var _extends2, _extends3;\n\n  var state = _ref.state,\n      published = _ref.published;\n  start(timingsKey);\n  var withScrollChange = published.modified.map(function (update) {\n    var existing = state.dimensions.droppables[update.droppableId];\n    var scrolled = scrollDroppable(existing, update.scroll);\n    return scrolled;\n  });\n\n  var droppables = _extends({}, state.dimensions.droppables, toDroppableMap(withScrollChange));\n\n  var updatedAdditions = toDraggableMap(adjustAdditionsForScrollChanges({\n    additions: published.additions,\n    updatedDroppables: droppables,\n    viewport: state.viewport\n  }));\n\n  var draggables = _extends({}, state.dimensions.draggables, updatedAdditions);\n\n  published.removals.forEach(function (id) {\n    delete draggables[id];\n  });\n  var dimensions = {\n    droppables: droppables,\n    draggables: draggables\n  };\n  var wasOverId = whatIsDraggedOver(state.impact);\n  var wasOver = wasOverId ? dimensions.droppables[wasOverId] : null;\n  var draggable = dimensions.draggables[state.critical.draggable.id];\n  var home = dimensions.droppables[state.critical.droppable.id];\n\n  var _getLiftEffect = getLiftEffect({\n    draggable: draggable,\n    home: home,\n    draggables: draggables,\n    viewport: state.viewport\n  }),\n      onLiftImpact = _getLiftEffect.impact,\n      afterCritical = _getLiftEffect.afterCritical;\n\n  var previousImpact = wasOver && wasOver.isCombineEnabled ? state.impact : onLiftImpact;\n  var impact = getDragImpact({\n    pageOffset: state.current.page.offset,\n    draggable: dimensions.draggables[state.critical.draggable.id],\n    draggables: dimensions.draggables,\n    droppables: dimensions.droppables,\n    previousImpact: previousImpact,\n    viewport: state.viewport,\n    afterCritical: afterCritical\n  });\n  finish(timingsKey);\n\n  var draggingState = _extends({\n    phase: 'DRAGGING'\n  }, state, (_extends2 = {}, _extends2[\"phase\"] = 'DRAGGING', _extends2.impact = impact, _extends2.onLiftImpact = onLiftImpact, _extends2.dimensions = dimensions, _extends2.afterCritical = afterCritical, _extends2.forceShouldAnimate = false, _extends2));\n\n  if (state.phase === 'COLLECTING') {\n    return draggingState;\n  }\n\n  var dropPending = _extends({\n    phase: 'DROP_PENDING'\n  }, draggingState, (_extends3 = {}, _extends3[\"phase\"] = 'DROP_PENDING', _extends3.reason = state.reason, _extends3.isWaiting = false, _extends3));\n\n  return dropPending;\n};\n\nvar isSnapping = function isSnapping(state) {\n  return state.movementMode === 'SNAP';\n};\n\nvar postDroppableChange = function postDroppableChange(state, updated, isEnabledChanging) {\n  var dimensions = patchDimensionMap(state.dimensions, updated);\n\n  if (!isSnapping(state) || isEnabledChanging) {\n    return update({\n      state: state,\n      dimensions: dimensions\n    });\n  }\n\n  return refreshSnap({\n    state: state,\n    dimensions: dimensions\n  });\n};\n\nfunction removeScrollJumpRequest(state) {\n  if (state.isDragging && state.movementMode === 'SNAP') {\n    return _extends({\n      phase: 'DRAGGING'\n    }, state, {\n      scrollJumpRequest: null\n    });\n  }\n\n  return state;\n}\n\nvar idle = {\n  phase: 'IDLE',\n  completed: null,\n  shouldFlush: false\n};\n\nvar reducer = function (state, action) {\n  if (state === void 0) {\n    state = idle;\n  }\n\n  if (action.type === 'FLUSH') {\n    return _extends({}, idle, {\n      shouldFlush: true\n    });\n  }\n\n  if (action.type === 'INITIAL_PUBLISH') {\n    !(state.phase === 'IDLE') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'INITIAL_PUBLISH must come after a IDLE phase') : invariant(false) : void 0;\n    var _action$payload = action.payload,\n        critical = _action$payload.critical,\n        clientSelection = _action$payload.clientSelection,\n        viewport = _action$payload.viewport,\n        dimensions = _action$payload.dimensions,\n        movementMode = _action$payload.movementMode;\n    var draggable = dimensions.draggables[critical.draggable.id];\n    var home = dimensions.droppables[critical.droppable.id];\n    var client = {\n      selection: clientSelection,\n      borderBoxCenter: draggable.client.borderBox.center,\n      offset: origin\n    };\n    var initial = {\n      client: client,\n      page: {\n        selection: add(client.selection, viewport.scroll.initial),\n        borderBoxCenter: add(client.selection, viewport.scroll.initial),\n        offset: add(client.selection, viewport.scroll.diff.value)\n      }\n    };\n    var isWindowScrollAllowed = toDroppableList(dimensions.droppables).every(function (item) {\n      return !item.isFixedOnPage;\n    });\n\n    var _getLiftEffect = getLiftEffect({\n      draggable: draggable,\n      home: home,\n      draggables: dimensions.draggables,\n      viewport: viewport\n    }),\n        impact = _getLiftEffect.impact,\n        afterCritical = _getLiftEffect.afterCritical;\n\n    var result = {\n      phase: 'DRAGGING',\n      isDragging: true,\n      critical: critical,\n      movementMode: movementMode,\n      dimensions: dimensions,\n      initial: initial,\n      current: initial,\n      isWindowScrollAllowed: isWindowScrollAllowed,\n      impact: impact,\n      afterCritical: afterCritical,\n      onLiftImpact: impact,\n      viewport: viewport,\n      scrollJumpRequest: null,\n      forceShouldAnimate: null\n    };\n    return result;\n  }\n\n  if (action.type === 'COLLECTION_STARTING') {\n    var _extends2;\n\n    if (state.phase === 'COLLECTING' || state.phase === 'DROP_PENDING') {\n      return state;\n    }\n\n    !(state.phase === 'DRAGGING') ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Collection cannot start from phase \" + state.phase) : invariant(false) : void 0;\n\n    var _result = _extends({\n      phase: 'COLLECTING'\n    }, state, (_extends2 = {}, _extends2[\"phase\"] = 'COLLECTING', _extends2));\n\n    return _result;\n  }\n\n  if (action.type === 'PUBLISH_WHILE_DRAGGING') {\n    !(state.phase === 'COLLECTING' || state.phase === 'DROP_PENDING') ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Unexpected \" + action.type + \" received in phase \" + state.phase) : invariant(false) : void 0;\n    return publishWhileDraggingInVirtual({\n      state: state,\n      published: action.payload\n    });\n  }\n\n  if (action.type === 'MOVE') {\n    if (state.phase === 'DROP_PENDING') {\n      return state;\n    }\n\n    !isMovementAllowed(state) ? process.env.NODE_ENV !== \"production\" ? invariant(false, action.type + \" not permitted in phase \" + state.phase) : invariant(false) : void 0;\n    var _clientSelection = action.payload.client;\n\n    if (isEqual(_clientSelection, state.current.client.selection)) {\n      return state;\n    }\n\n    return update({\n      state: state,\n      clientSelection: _clientSelection,\n      impact: isSnapping(state) ? state.impact : null\n    });\n  }\n\n  if (action.type === 'UPDATE_DROPPABLE_SCROLL') {\n    if (state.phase === 'DROP_PENDING') {\n      return removeScrollJumpRequest(state);\n    }\n\n    if (state.phase === 'COLLECTING') {\n      return removeScrollJumpRequest(state);\n    }\n\n    !isMovementAllowed(state) ? process.env.NODE_ENV !== \"production\" ? invariant(false, action.type + \" not permitted in phase \" + state.phase) : invariant(false) : void 0;\n    var _action$payload2 = action.payload,\n        id = _action$payload2.id,\n        newScroll = _action$payload2.newScroll;\n    var target = state.dimensions.droppables[id];\n\n    if (!target) {\n      return state;\n    }\n\n    var scrolled = scrollDroppable(target, newScroll);\n    return postDroppableChange(state, scrolled, false);\n  }\n\n  if (action.type === 'UPDATE_DROPPABLE_IS_ENABLED') {\n    if (state.phase === 'DROP_PENDING') {\n      return state;\n    }\n\n    !isMovementAllowed(state) ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Attempting to move in an unsupported phase \" + state.phase) : invariant(false) : void 0;\n    var _action$payload3 = action.payload,\n        _id = _action$payload3.id,\n        isEnabled = _action$payload3.isEnabled;\n    var _target = state.dimensions.droppables[_id];\n    !_target ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Cannot find Droppable[id: \" + _id + \"] to toggle its enabled state\") : invariant(false) : void 0;\n    !(_target.isEnabled !== isEnabled) ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Trying to set droppable isEnabled to \" + String(isEnabled) + \"\\n      but it is already \" + String(_target.isEnabled)) : invariant(false) : void 0;\n\n    var updated = _extends({}, _target, {\n      isEnabled: isEnabled\n    });\n\n    return postDroppableChange(state, updated, true);\n  }\n\n  if (action.type === 'UPDATE_DROPPABLE_IS_COMBINE_ENABLED') {\n    if (state.phase === 'DROP_PENDING') {\n      return state;\n    }\n\n    !isMovementAllowed(state) ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Attempting to move in an unsupported phase \" + state.phase) : invariant(false) : void 0;\n    var _action$payload4 = action.payload,\n        _id2 = _action$payload4.id,\n        isCombineEnabled = _action$payload4.isCombineEnabled;\n    var _target2 = state.dimensions.droppables[_id2];\n    !_target2 ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Cannot find Droppable[id: \" + _id2 + \"] to toggle its isCombineEnabled state\") : invariant(false) : void 0;\n    !(_target2.isCombineEnabled !== isCombineEnabled) ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Trying to set droppable isCombineEnabled to \" + String(isCombineEnabled) + \"\\n      but it is already \" + String(_target2.isCombineEnabled)) : invariant(false) : void 0;\n\n    var _updated = _extends({}, _target2, {\n      isCombineEnabled: isCombineEnabled\n    });\n\n    return postDroppableChange(state, _updated, true);\n  }\n\n  if (action.type === 'MOVE_BY_WINDOW_SCROLL') {\n    if (state.phase === 'DROP_PENDING' || state.phase === 'DROP_ANIMATING') {\n      return state;\n    }\n\n    !isMovementAllowed(state) ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Cannot move by window in phase \" + state.phase) : invariant(false) : void 0;\n    !state.isWindowScrollAllowed ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Window scrolling is currently not supported for fixed lists') : invariant(false) : void 0;\n    var _newScroll = action.payload.newScroll;\n\n    if (isEqual(state.viewport.scroll.current, _newScroll)) {\n      return removeScrollJumpRequest(state);\n    }\n\n    var _viewport = scrollViewport(state.viewport, _newScroll);\n\n    if (isSnapping(state)) {\n      return refreshSnap({\n        state: state,\n        viewport: _viewport\n      });\n    }\n\n    return update({\n      state: state,\n      viewport: _viewport\n    });\n  }\n\n  if (action.type === 'UPDATE_VIEWPORT_MAX_SCROLL') {\n    if (!isMovementAllowed(state)) {\n      return state;\n    }\n\n    var maxScroll = action.payload.maxScroll;\n\n    if (isEqual(maxScroll, state.viewport.scroll.max)) {\n      return state;\n    }\n\n    var withMaxScroll = _extends({}, state.viewport, {\n      scroll: _extends({}, state.viewport.scroll, {\n        max: maxScroll\n      })\n    });\n\n    return _extends({\n      phase: 'DRAGGING'\n    }, state, {\n      viewport: withMaxScroll\n    });\n  }\n\n  if (action.type === 'MOVE_UP' || action.type === 'MOVE_DOWN' || action.type === 'MOVE_LEFT' || action.type === 'MOVE_RIGHT') {\n    if (state.phase === 'COLLECTING' || state.phase === 'DROP_PENDING') {\n      return state;\n    }\n\n    !(state.phase === 'DRAGGING') ? process.env.NODE_ENV !== \"production\" ? invariant(false, action.type + \" received while not in DRAGGING phase\") : invariant(false) : void 0;\n\n    var _result2 = moveInDirection({\n      state: state,\n      type: action.type\n    });\n\n    if (!_result2) {\n      return state;\n    }\n\n    return update({\n      state: state,\n      impact: _result2.impact,\n      clientSelection: _result2.clientSelection,\n      scrollJumpRequest: _result2.scrollJumpRequest\n    });\n  }\n\n  if (action.type === 'DROP_PENDING') {\n    var _extends3;\n\n    var reason = action.payload.reason;\n    !(state.phase === 'COLLECTING') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Can only move into the DROP_PENDING phase from the COLLECTING phase') : invariant(false) : void 0;\n\n    var newState = _extends({\n      phase: 'DROP_PENDING'\n    }, state, (_extends3 = {}, _extends3[\"phase\"] = 'DROP_PENDING', _extends3.isWaiting = true, _extends3.reason = reason, _extends3));\n\n    return newState;\n  }\n\n  if (action.type === 'DROP_ANIMATE') {\n    var _action$payload5 = action.payload,\n        completed = _action$payload5.completed,\n        dropDuration = _action$payload5.dropDuration,\n        newHomeClientOffset = _action$payload5.newHomeClientOffset;\n    !(state.phase === 'DRAGGING' || state.phase === 'DROP_PENDING') ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Cannot animate drop from phase \" + state.phase) : invariant(false) : void 0;\n    var _result3 = {\n      phase: 'DROP_ANIMATING',\n      completed: completed,\n      dropDuration: dropDuration,\n      newHomeClientOffset: newHomeClientOffset,\n      dimensions: state.dimensions\n    };\n    return _result3;\n  }\n\n  if (action.type === 'DROP_COMPLETE') {\n    var _completed = action.payload.completed;\n    return {\n      phase: 'IDLE',\n      completed: _completed,\n      shouldFlush: false\n    };\n  }\n\n  return state;\n};\n\nvar beforeInitialCapture = function beforeInitialCapture(args) {\n  return {\n    type: 'BEFORE_INITIAL_CAPTURE',\n    payload: args\n  };\n};\n\nvar lift = function lift(args) {\n  return {\n    type: 'LIFT',\n    payload: args\n  };\n};\n\nvar initialPublish = function initialPublish(args) {\n  return {\n    type: 'INITIAL_PUBLISH',\n    payload: args\n  };\n};\n\nvar publishWhileDragging = function publishWhileDragging(args) {\n  return {\n    type: 'PUBLISH_WHILE_DRAGGING',\n    payload: args\n  };\n};\n\nvar collectionStarting = function collectionStarting() {\n  return {\n    type: 'COLLECTION_STARTING',\n    payload: null\n  };\n};\n\nvar updateDroppableScroll = function updateDroppableScroll(args) {\n  return {\n    type: 'UPDATE_DROPPABLE_SCROLL',\n    payload: args\n  };\n};\n\nvar updateDroppableIsEnabled = function updateDroppableIsEnabled(args) {\n  return {\n    type: 'UPDATE_DROPPABLE_IS_ENABLED',\n    payload: args\n  };\n};\n\nvar updateDroppableIsCombineEnabled = function updateDroppableIsCombineEnabled(args) {\n  return {\n    type: 'UPDATE_DROPPABLE_IS_COMBINE_ENABLED',\n    payload: args\n  };\n};\n\nvar move = function move(args) {\n  return {\n    type: 'MOVE',\n    payload: args\n  };\n};\n\nvar moveByWindowScroll = function moveByWindowScroll(args) {\n  return {\n    type: 'MOVE_BY_WINDOW_SCROLL',\n    payload: args\n  };\n};\n\nvar updateViewportMaxScroll = function updateViewportMaxScroll(args) {\n  return {\n    type: 'UPDATE_VIEWPORT_MAX_SCROLL',\n    payload: args\n  };\n};\n\nvar moveUp = function moveUp() {\n  return {\n    type: 'MOVE_UP',\n    payload: null\n  };\n};\n\nvar moveDown = function moveDown() {\n  return {\n    type: 'MOVE_DOWN',\n    payload: null\n  };\n};\n\nvar moveRight = function moveRight() {\n  return {\n    type: 'MOVE_RIGHT',\n    payload: null\n  };\n};\n\nvar moveLeft = function moveLeft() {\n  return {\n    type: 'MOVE_LEFT',\n    payload: null\n  };\n};\n\nvar flush = function flush() {\n  return {\n    type: 'FLUSH',\n    payload: null\n  };\n};\n\nvar animateDrop = function animateDrop(args) {\n  return {\n    type: 'DROP_ANIMATE',\n    payload: args\n  };\n};\n\nvar completeDrop = function completeDrop(args) {\n  return {\n    type: 'DROP_COMPLETE',\n    payload: args\n  };\n};\n\nvar drop = function drop(args) {\n  return {\n    type: 'DROP',\n    payload: args\n  };\n};\n\nvar dropPending = function dropPending(args) {\n  return {\n    type: 'DROP_PENDING',\n    payload: args\n  };\n};\n\nvar dropAnimationFinished = function dropAnimationFinished() {\n  return {\n    type: 'DROP_ANIMATION_FINISHED',\n    payload: null\n  };\n};\n\nfunction checkIndexes(insideDestination) {\n  if (insideDestination.length <= 1) {\n    return;\n  }\n\n  var indexes = insideDestination.map(function (d) {\n    return d.descriptor.index;\n  });\n  var errors = {};\n\n  for (var i = 1; i < indexes.length; i++) {\n    var current = indexes[i];\n    var previous = indexes[i - 1];\n\n    if (current !== previous + 1) {\n      errors[current] = true;\n    }\n  }\n\n  if (!_Object$keys(errors).length) {\n    return;\n  }\n\n  var formatted = indexes.map(function (index) {\n    var hasError = Boolean(errors[index]);\n    return hasError ? \"[\\uD83D\\uDD25\" + index + \"]\" : \"\" + index;\n  }).join(', ');\n  process.env.NODE_ENV !== \"production\" ? warning(\"\\n    Detected non-consecutive <Draggable /> indexes.\\n\\n    (This can cause unexpected bugs)\\n\\n    \" + formatted + \"\\n  \") : void 0;\n}\n\nfunction validateDimensions(critical, dimensions) {\n  if (process.env.NODE_ENV !== 'production') {\n    var insideDestination = getDraggablesInsideDroppable(critical.droppable.id, dimensions.draggables);\n    checkIndexes(insideDestination);\n  }\n}\n\nvar lift$1 = function (marshal) {\n  return function (_ref) {\n    var getState = _ref.getState,\n        dispatch = _ref.dispatch;\n    return function (next) {\n      return function (action) {\n        if (action.type !== 'LIFT') {\n          next(action);\n          return;\n        }\n\n        var _action$payload = action.payload,\n            id = _action$payload.id,\n            clientSelection = _action$payload.clientSelection,\n            movementMode = _action$payload.movementMode;\n        var initial = getState();\n\n        if (initial.phase === 'DROP_ANIMATING') {\n          dispatch(completeDrop({\n            completed: initial.completed\n          }));\n        }\n\n        !(getState().phase === 'IDLE') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Unexpected phase to start a drag') : invariant(false) : void 0;\n        dispatch(flush());\n        dispatch(beforeInitialCapture({\n          draggableId: id,\n          movementMode: movementMode\n        }));\n        var scrollOptions = {\n          shouldPublishImmediately: movementMode === 'SNAP'\n        };\n        var request = {\n          draggableId: id,\n          scrollOptions: scrollOptions\n        };\n\n        var _marshal$startPublish = marshal.startPublishing(request),\n            critical = _marshal$startPublish.critical,\n            dimensions = _marshal$startPublish.dimensions,\n            viewport = _marshal$startPublish.viewport;\n\n        validateDimensions(critical, dimensions);\n        dispatch(initialPublish({\n          critical: critical,\n          dimensions: dimensions,\n          clientSelection: clientSelection,\n          movementMode: movementMode,\n          viewport: viewport\n        }));\n      };\n    };\n  };\n};\n\nvar style = function (marshal) {\n  return function () {\n    return function (next) {\n      return function (action) {\n        if (action.type === 'INITIAL_PUBLISH') {\n          marshal.dragging();\n        }\n\n        if (action.type === 'DROP_ANIMATE') {\n          marshal.dropping(action.payload.completed.result.reason);\n        }\n\n        if (action.type === 'FLUSH' || action.type === 'DROP_COMPLETE') {\n          marshal.resting();\n        }\n\n        next(action);\n      };\n    };\n  };\n};\n\nvar curves = {\n  outOfTheWay: 'cubic-bezier(0.2, 0, 0, 1)',\n  drop: 'cubic-bezier(.2,1,.1,1)'\n};\nvar combine = {\n  opacity: {\n    drop: 0,\n    combining: 0.7\n  },\n  scale: {\n    drop: 0.75\n  }\n};\nvar timings = {\n  outOfTheWay: 0.2,\n  minDropTime: 0.33,\n  maxDropTime: 0.55\n};\nvar outOfTheWayTiming = timings.outOfTheWay + \"s \" + curves.outOfTheWay;\nvar transitions = {\n  fluid: \"opacity \" + outOfTheWayTiming,\n  snap: \"transform \" + outOfTheWayTiming + \", opacity \" + outOfTheWayTiming,\n  drop: function drop(duration) {\n    var timing = duration + \"s \" + curves.drop;\n    return \"transform \" + timing + \", opacity \" + timing;\n  },\n  outOfTheWay: \"transform \" + outOfTheWayTiming,\n  placeholder: \"height \" + outOfTheWayTiming + \", width \" + outOfTheWayTiming + \", margin \" + outOfTheWayTiming\n};\n\nvar moveTo = function moveTo(offset) {\n  return isEqual(offset, origin) ? null : \"translate(\" + offset.x + \"px, \" + offset.y + \"px)\";\n};\n\nvar transforms = {\n  moveTo: moveTo,\n  drop: function drop(offset, isCombining) {\n    var translate = moveTo(offset);\n\n    if (!translate) {\n      return null;\n    }\n\n    if (!isCombining) {\n      return translate;\n    }\n\n    return translate + \" scale(\" + combine.scale.drop + \")\";\n  }\n};\nvar minDropTime = timings.minDropTime,\n    maxDropTime = timings.maxDropTime;\nvar dropTimeRange = maxDropTime - minDropTime;\nvar maxDropTimeAtDistance = 1500;\nvar cancelDropModifier = 0.6;\n\nvar getDropDuration = function (_ref) {\n  var current = _ref.current,\n      destination = _ref.destination,\n      reason = _ref.reason;\n  var distance$1 = distance(current, destination);\n\n  if (distance$1 <= 0) {\n    return minDropTime;\n  }\n\n  if (distance$1 >= maxDropTimeAtDistance) {\n    return maxDropTime;\n  }\n\n  var percentage = distance$1 / maxDropTimeAtDistance;\n  var duration = minDropTime + dropTimeRange * percentage;\n  var withDuration = reason === 'CANCEL' ? duration * cancelDropModifier : duration;\n  return Number(withDuration.toFixed(2));\n};\n\nvar getNewHomeClientOffset = function (_ref) {\n  var impact = _ref.impact,\n      draggable = _ref.draggable,\n      dimensions = _ref.dimensions,\n      viewport = _ref.viewport,\n      afterCritical = _ref.afterCritical;\n  var draggables = dimensions.draggables,\n      droppables = dimensions.droppables;\n  var droppableId = whatIsDraggedOver(impact);\n  var destination = droppableId ? droppables[droppableId] : null;\n  var home = droppables[draggable.descriptor.droppableId];\n  var newClientCenter = getClientBorderBoxCenter({\n    impact: impact,\n    draggable: draggable,\n    draggables: draggables,\n    afterCritical: afterCritical,\n    droppable: destination || home,\n    viewport: viewport\n  });\n  var offset = subtract(newClientCenter, draggable.client.borderBox.center);\n  return offset;\n};\n\nvar getDropImpact = function (_ref) {\n  var draggables = _ref.draggables,\n      reason = _ref.reason,\n      lastImpact = _ref.lastImpact,\n      home = _ref.home,\n      viewport = _ref.viewport,\n      onLiftImpact = _ref.onLiftImpact;\n\n  if (!lastImpact.at || reason !== 'DROP') {\n    var recomputedHomeImpact = recompute({\n      draggables: draggables,\n      impact: onLiftImpact,\n      destination: home,\n      viewport: viewport,\n      forceShouldAnimate: true\n    });\n    return {\n      impact: recomputedHomeImpact,\n      didDropInsideDroppable: false\n    };\n  }\n\n  if (lastImpact.at.type === 'REORDER') {\n    return {\n      impact: lastImpact,\n      didDropInsideDroppable: true\n    };\n  }\n\n  var withoutMovement = _extends({}, lastImpact, {\n    displaced: emptyGroups\n  });\n\n  return {\n    impact: withoutMovement,\n    didDropInsideDroppable: true\n  };\n};\n\nvar drop$1 = function (_ref) {\n  var getState = _ref.getState,\n      dispatch = _ref.dispatch;\n  return function (next) {\n    return function (action) {\n      if (action.type !== 'DROP') {\n        next(action);\n        return;\n      }\n\n      var state = getState();\n      var reason = action.payload.reason;\n\n      if (state.phase === 'COLLECTING') {\n        dispatch(dropPending({\n          reason: reason\n        }));\n        return;\n      }\n\n      if (state.phase === 'IDLE') {\n        return;\n      }\n\n      var isWaitingForDrop = state.phase === 'DROP_PENDING' && state.isWaiting;\n      !!isWaitingForDrop ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'A DROP action occurred while DROP_PENDING and still waiting') : invariant(false) : void 0;\n      !(state.phase === 'DRAGGING' || state.phase === 'DROP_PENDING') ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Cannot drop in phase: \" + state.phase) : invariant(false) : void 0;\n      var critical = state.critical;\n      var dimensions = state.dimensions;\n      var draggable = dimensions.draggables[state.critical.draggable.id];\n\n      var _getDropImpact = getDropImpact({\n        reason: reason,\n        lastImpact: state.impact,\n        afterCritical: state.afterCritical,\n        onLiftImpact: state.onLiftImpact,\n        home: state.dimensions.droppables[state.critical.droppable.id],\n        viewport: state.viewport,\n        draggables: state.dimensions.draggables\n      }),\n          impact = _getDropImpact.impact,\n          didDropInsideDroppable = _getDropImpact.didDropInsideDroppable;\n\n      var destination = didDropInsideDroppable ? tryGetDestination(impact) : null;\n      var combine = didDropInsideDroppable ? tryGetCombine(impact) : null;\n      var source = {\n        index: critical.draggable.index,\n        droppableId: critical.droppable.id\n      };\n      var result = {\n        draggableId: draggable.descriptor.id,\n        type: draggable.descriptor.type,\n        source: source,\n        reason: reason,\n        mode: state.movementMode,\n        destination: destination,\n        combine: combine\n      };\n      var newHomeClientOffset = getNewHomeClientOffset({\n        impact: impact,\n        draggable: draggable,\n        dimensions: dimensions,\n        viewport: state.viewport,\n        afterCritical: state.afterCritical\n      });\n      var completed = {\n        critical: state.critical,\n        afterCritical: state.afterCritical,\n        result: result,\n        impact: impact\n      };\n      var isAnimationRequired = !isEqual(state.current.client.offset, newHomeClientOffset) || Boolean(result.combine);\n\n      if (!isAnimationRequired) {\n        dispatch(completeDrop({\n          completed: completed\n        }));\n        return;\n      }\n\n      var dropDuration = getDropDuration({\n        current: state.current.client.offset,\n        destination: newHomeClientOffset,\n        reason: reason\n      });\n      var args = {\n        newHomeClientOffset: newHomeClientOffset,\n        dropDuration: dropDuration,\n        completed: completed\n      };\n      dispatch(animateDrop(args));\n    };\n  };\n};\n\nvar getWindowScroll = function () {\n  return {\n    x: window.pageXOffset,\n    y: window.pageYOffset\n  };\n};\n\nfunction getWindowScrollBinding(update) {\n  return {\n    eventName: 'scroll',\n    options: {\n      passive: true,\n      capture: false\n    },\n    fn: function fn(event) {\n      if (event.target !== window && event.target !== window.document) {\n        return;\n      }\n\n      update();\n    }\n  };\n}\n\nfunction getScrollListener(_ref) {\n  var onWindowScroll = _ref.onWindowScroll;\n\n  function updateScroll() {\n    onWindowScroll(getWindowScroll());\n  }\n\n  var scheduled = rafSchd(updateScroll);\n  var binding = getWindowScrollBinding(scheduled);\n  var unbind = noop;\n\n  function isActive() {\n    return unbind !== noop;\n  }\n\n  function start() {\n    !!isActive() ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot start scroll listener when already active') : invariant(false) : void 0;\n    unbind = bindEvents(window, [binding]);\n  }\n\n  function stop() {\n    !isActive() ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot stop scroll listener when not active') : invariant(false) : void 0;\n    scheduled.cancel();\n    unbind();\n    unbind = noop;\n  }\n\n  return {\n    start: start,\n    stop: stop,\n    isActive: isActive\n  };\n}\n\nvar shouldEnd = function shouldEnd(action) {\n  return action.type === 'DROP_COMPLETE' || action.type === 'DROP_ANIMATE' || action.type === 'FLUSH';\n};\n\nvar scrollListener = function (store) {\n  var listener = getScrollListener({\n    onWindowScroll: function onWindowScroll(newScroll) {\n      store.dispatch(moveByWindowScroll({\n        newScroll: newScroll\n      }));\n    }\n  });\n  return function (next) {\n    return function (action) {\n      if (!listener.isActive() && action.type === 'INITIAL_PUBLISH') {\n        listener.start();\n      }\n\n      if (listener.isActive() && shouldEnd(action)) {\n        listener.stop();\n      }\n\n      next(action);\n    };\n  };\n};\n\nvar getExpiringAnnounce = function (announce) {\n  var wasCalled = false;\n  var isExpired = false;\n  var timeoutId = setTimeout(function () {\n    isExpired = true;\n  });\n\n  var result = function result(message) {\n    if (wasCalled) {\n      process.env.NODE_ENV !== \"production\" ? warning('Announcement already made. Not making a second announcement') : void 0;\n      return;\n    }\n\n    if (isExpired) {\n      process.env.NODE_ENV !== \"production\" ? warning(\"\\n        Announcements cannot be made asynchronously.\\n        Default message has already been announced.\\n      \") : void 0;\n      return;\n    }\n\n    wasCalled = true;\n    announce(message);\n    clearTimeout(timeoutId);\n  };\n\n  result.wasCalled = function () {\n    return wasCalled;\n  };\n\n  return result;\n};\n\nvar getAsyncMarshal = function () {\n  var entries = [];\n\n  var execute = function execute(timerId) {\n    var index = findIndex(entries, function (item) {\n      return item.timerId === timerId;\n    });\n    !(index !== -1) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Could not find timer') : invariant(false) : void 0;\n\n    var _entries$splice = entries.splice(index, 1),\n        entry = _entries$splice[0];\n\n    entry.callback();\n  };\n\n  var add = function add(fn) {\n    var timerId = setTimeout(function () {\n      return execute(timerId);\n    });\n    var entry = {\n      timerId: timerId,\n      callback: fn\n    };\n    entries.push(entry);\n  };\n\n  var flush = function flush() {\n    if (!entries.length) {\n      return;\n    }\n\n    var shallow = [].concat(entries);\n    entries.length = 0;\n    shallow.forEach(function (entry) {\n      clearTimeout(entry.timerId);\n      entry.callback();\n    });\n  };\n\n  return {\n    add: add,\n    flush: flush\n  };\n};\n\nvar areLocationsEqual = function areLocationsEqual(first, second) {\n  if (first == null && second == null) {\n    return true;\n  }\n\n  if (first == null || second == null) {\n    return false;\n  }\n\n  return first.droppableId === second.droppableId && first.index === second.index;\n};\n\nvar isCombineEqual = function isCombineEqual(first, second) {\n  if (first == null && second == null) {\n    return true;\n  }\n\n  if (first == null || second == null) {\n    return false;\n  }\n\n  return first.draggableId === second.draggableId && first.droppableId === second.droppableId;\n};\n\nvar isCriticalEqual = function isCriticalEqual(first, second) {\n  if (first === second) {\n    return true;\n  }\n\n  var isDraggableEqual = first.draggable.id === second.draggable.id && first.draggable.droppableId === second.draggable.droppableId && first.draggable.type === second.draggable.type && first.draggable.index === second.draggable.index;\n  var isDroppableEqual = first.droppable.id === second.droppable.id && first.droppable.type === second.droppable.type;\n  return isDraggableEqual && isDroppableEqual;\n};\n\nvar withTimings = function withTimings(key, fn) {\n  start(key);\n  fn();\n  finish(key);\n};\n\nvar getDragStart = function getDragStart(critical, mode) {\n  return {\n    draggableId: critical.draggable.id,\n    type: critical.droppable.type,\n    source: {\n      droppableId: critical.droppable.id,\n      index: critical.draggable.index\n    },\n    mode: mode\n  };\n};\n\nvar execute = function execute(responder, data, announce, getDefaultMessage) {\n  if (!responder) {\n    announce(getDefaultMessage(data));\n    return;\n  }\n\n  var willExpire = getExpiringAnnounce(announce);\n  var provided = {\n    announce: willExpire\n  };\n  responder(data, provided);\n\n  if (!willExpire.wasCalled()) {\n    announce(getDefaultMessage(data));\n  }\n};\n\nvar getPublisher = function (getResponders, announce) {\n  var asyncMarshal = getAsyncMarshal();\n  var dragging = null;\n\n  var beforeCapture = function beforeCapture(draggableId, mode) {\n    !!dragging ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot fire onBeforeCapture as a drag start has already been published') : invariant(false) : void 0;\n    withTimings('onBeforeCapture', function () {\n      var fn = getResponders().onBeforeCapture;\n\n      if (fn) {\n        var before = {\n          draggableId: draggableId,\n          mode: mode\n        };\n        fn(before);\n      }\n    });\n  };\n\n  var beforeStart = function beforeStart(critical, mode) {\n    !!dragging ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot fire onBeforeDragStart as a drag start has already been published') : invariant(false) : void 0;\n    withTimings('onBeforeDragStart', function () {\n      var fn = getResponders().onBeforeDragStart;\n\n      if (fn) {\n        fn(getDragStart(critical, mode));\n      }\n    });\n  };\n\n  var start = function start(critical, mode) {\n    !!dragging ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot fire onBeforeDragStart as a drag start has already been published') : invariant(false) : void 0;\n    var data = getDragStart(critical, mode);\n    dragging = {\n      mode: mode,\n      lastCritical: critical,\n      lastLocation: data.source,\n      lastCombine: null\n    };\n    asyncMarshal.add(function () {\n      withTimings('onDragStart', function () {\n        return execute(getResponders().onDragStart, data, announce, preset.onDragStart);\n      });\n    });\n  };\n\n  var update = function update(critical, impact) {\n    var location = tryGetDestination(impact);\n    var combine = tryGetCombine(impact);\n    !dragging ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot fire onDragMove when onDragStart has not been called') : invariant(false) : void 0;\n    var hasCriticalChanged = !isCriticalEqual(critical, dragging.lastCritical);\n\n    if (hasCriticalChanged) {\n      dragging.lastCritical = critical;\n    }\n\n    var hasLocationChanged = !areLocationsEqual(dragging.lastLocation, location);\n\n    if (hasLocationChanged) {\n      dragging.lastLocation = location;\n    }\n\n    var hasGroupingChanged = !isCombineEqual(dragging.lastCombine, combine);\n\n    if (hasGroupingChanged) {\n      dragging.lastCombine = combine;\n    }\n\n    if (!hasCriticalChanged && !hasLocationChanged && !hasGroupingChanged) {\n      return;\n    }\n\n    var data = _extends({}, getDragStart(critical, dragging.mode), {\n      combine: combine,\n      destination: location\n    });\n\n    asyncMarshal.add(function () {\n      withTimings('onDragUpdate', function () {\n        return execute(getResponders().onDragUpdate, data, announce, preset.onDragUpdate);\n      });\n    });\n  };\n\n  var flush = function flush() {\n    !dragging ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Can only flush responders while dragging') : invariant(false) : void 0;\n    asyncMarshal.flush();\n  };\n\n  var drop = function drop(result) {\n    !dragging ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot fire onDragEnd when there is no matching onDragStart') : invariant(false) : void 0;\n    dragging = null;\n    withTimings('onDragEnd', function () {\n      return execute(getResponders().onDragEnd, result, announce, preset.onDragEnd);\n    });\n  };\n\n  var abort = function abort() {\n    if (!dragging) {\n      return;\n    }\n\n    var result = _extends({}, getDragStart(dragging.lastCritical, dragging.mode), {\n      combine: null,\n      destination: null,\n      reason: 'CANCEL'\n    });\n\n    drop(result);\n  };\n\n  return {\n    beforeCapture: beforeCapture,\n    beforeStart: beforeStart,\n    start: start,\n    update: update,\n    flush: flush,\n    drop: drop,\n    abort: abort\n  };\n};\n\nvar responders = function (getResponders, announce) {\n  var publisher = getPublisher(getResponders, announce);\n  return function (store) {\n    return function (next) {\n      return function (action) {\n        if (action.type === 'BEFORE_INITIAL_CAPTURE') {\n          publisher.beforeCapture(action.payload.draggableId, action.payload.movementMode);\n          return;\n        }\n\n        if (action.type === 'INITIAL_PUBLISH') {\n          var critical = action.payload.critical;\n          publisher.beforeStart(critical, action.payload.movementMode);\n          next(action);\n          publisher.start(critical, action.payload.movementMode);\n          return;\n        }\n\n        if (action.type === 'DROP_COMPLETE') {\n          var result = action.payload.completed.result;\n          publisher.flush();\n          next(action);\n          publisher.drop(result);\n          return;\n        }\n\n        next(action);\n\n        if (action.type === 'FLUSH') {\n          publisher.abort();\n          return;\n        }\n\n        var state = store.getState();\n\n        if (state.phase === 'DRAGGING') {\n          publisher.update(state.critical, state.impact);\n        }\n      };\n    };\n  };\n};\n\nvar dropAnimationFinish = function (store) {\n  return function (next) {\n    return function (action) {\n      if (action.type !== 'DROP_ANIMATION_FINISHED') {\n        next(action);\n        return;\n      }\n\n      var state = store.getState();\n      !(state.phase === 'DROP_ANIMATING') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot finish a drop animating when no drop is occurring') : invariant(false) : void 0;\n      store.dispatch(completeDrop({\n        completed: state.completed\n      }));\n    };\n  };\n};\n\nvar dropAnimationFlushOnScroll = function (store) {\n  var unbind = null;\n  var frameId = null;\n\n  function clear() {\n    if (frameId) {\n      cancelAnimationFrame(frameId);\n      frameId = null;\n    }\n\n    if (unbind) {\n      unbind();\n      unbind = null;\n    }\n  }\n\n  return function (next) {\n    return function (action) {\n      if (action.type === 'FLUSH' || action.type === 'DROP_COMPLETE' || action.type === 'DROP_ANIMATION_FINISHED') {\n        clear();\n      }\n\n      next(action);\n\n      if (action.type !== 'DROP_ANIMATE') {\n        return;\n      }\n\n      var binding = {\n        eventName: 'scroll',\n        options: {\n          capture: true,\n          passive: false,\n          once: true\n        },\n        fn: function flushDropAnimation() {\n          var state = store.getState();\n\n          if (state.phase === 'DROP_ANIMATING') {\n            store.dispatch(dropAnimationFinished());\n          }\n        }\n      };\n      frameId = requestAnimationFrame(function () {\n        frameId = null;\n        unbind = bindEvents(window, [binding]);\n      });\n    };\n  };\n};\n\nvar dimensionMarshalStopper = function (marshal) {\n  return function () {\n    return function (next) {\n      return function (action) {\n        if (action.type === 'DROP_COMPLETE' || action.type === 'FLUSH' || action.type === 'DROP_ANIMATE') {\n          marshal.stopPublishing();\n        }\n\n        next(action);\n      };\n    };\n  };\n};\n\nvar focus = function (marshal) {\n  var isWatching = false;\n  return function () {\n    return function (next) {\n      return function (action) {\n        if (action.type === 'INITIAL_PUBLISH') {\n          isWatching = true;\n          marshal.tryRecordFocus(action.payload.critical.draggable.id);\n          next(action);\n          marshal.tryRestoreFocusRecorded();\n          return;\n        }\n\n        next(action);\n\n        if (!isWatching) {\n          return;\n        }\n\n        if (action.type === 'FLUSH') {\n          isWatching = false;\n          marshal.tryRestoreFocusRecorded();\n          return;\n        }\n\n        if (action.type === 'DROP_COMPLETE') {\n          isWatching = false;\n          var result = action.payload.completed.result;\n\n          if (result.combine) {\n            marshal.tryShiftRecord(result.draggableId, result.combine.draggableId);\n          }\n\n          marshal.tryRestoreFocusRecorded();\n        }\n      };\n    };\n  };\n};\n\nvar shouldStop = function shouldStop(action) {\n  return action.type === 'DROP_COMPLETE' || action.type === 'DROP_ANIMATE' || action.type === 'FLUSH';\n};\n\nvar autoScroll = function (autoScroller) {\n  return function (store) {\n    return function (next) {\n      return function (action) {\n        if (shouldStop(action)) {\n          autoScroller.stop();\n          next(action);\n          return;\n        }\n\n        if (action.type === 'INITIAL_PUBLISH') {\n          next(action);\n          var state = store.getState();\n          !(state.phase === 'DRAGGING') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Expected phase to be DRAGGING after INITIAL_PUBLISH') : invariant(false) : void 0;\n          autoScroller.start(state);\n          return;\n        }\n\n        next(action);\n        autoScroller.scroll(store.getState());\n      };\n    };\n  };\n};\n\nvar pendingDrop = function (store) {\n  return function (next) {\n    return function (action) {\n      next(action);\n\n      if (action.type !== 'PUBLISH_WHILE_DRAGGING') {\n        return;\n      }\n\n      var postActionState = store.getState();\n\n      if (postActionState.phase !== 'DROP_PENDING') {\n        return;\n      }\n\n      if (postActionState.isWaiting) {\n        return;\n      }\n\n      store.dispatch(drop({\n        reason: postActionState.reason\n      }));\n    };\n  };\n};\n\nvar composeEnhancers = process.env.NODE_ENV !== 'production' && typeof window !== 'undefined' && window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ ? window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ : compose;\n\nvar createStore = function (_ref) {\n  var dimensionMarshal = _ref.dimensionMarshal,\n      focusMarshal = _ref.focusMarshal,\n      styleMarshal = _ref.styleMarshal,\n      getResponders = _ref.getResponders,\n      announce = _ref.announce,\n      autoScroller = _ref.autoScroller;\n  return createStore$1(reducer, composeEnhancers(applyMiddleware(style(styleMarshal), dimensionMarshalStopper(dimensionMarshal), lift$1(dimensionMarshal), drop$1, dropAnimationFinish, dropAnimationFlushOnScroll, pendingDrop, autoScroll(autoScroller), scrollListener, focus(focusMarshal), responders(getResponders, announce))));\n};\n\nvar clean$1 = function clean() {\n  return {\n    additions: {},\n    removals: {},\n    modified: {}\n  };\n};\n\nvar timingKey = 'Publish collection from DOM';\n\nfunction createPublisher(_ref) {\n  var registry = _ref.registry,\n      callbacks = _ref.callbacks;\n  var staging = clean$1();\n  var frameId = null;\n\n  var collect = function collect() {\n    if (frameId) {\n      return;\n    }\n\n    callbacks.collectionStarting();\n    frameId = requestAnimationFrame(function () {\n      frameId = null;\n      start(timingKey);\n      var _staging = staging,\n          additions = _staging.additions,\n          removals = _staging.removals,\n          modified = _staging.modified;\n\n      var added = _Object$keys(additions).map(function (id) {\n        return registry.draggable.getById(id).getDimension(origin);\n      }).sort(function (a, b) {\n        return a.descriptor.index - b.descriptor.index;\n      });\n\n      var updated = _Object$keys(modified).map(function (id) {\n        var entry = registry.droppable.getById(id);\n        var scroll = entry.callbacks.getScrollWhileDragging();\n        return {\n          droppableId: id,\n          scroll: scroll\n        };\n      });\n\n      var result = {\n        additions: added,\n        removals: _Object$keys(removals),\n        modified: updated\n      };\n      staging = clean$1();\n      finish(timingKey);\n      callbacks.publish(result);\n    });\n  };\n\n  var add = function add(entry) {\n    var id = entry.descriptor.id;\n    staging.additions[id] = entry;\n    staging.modified[entry.descriptor.droppableId] = true;\n\n    if (staging.removals[id]) {\n      delete staging.removals[id];\n    }\n\n    collect();\n  };\n\n  var remove = function remove(entry) {\n    var descriptor = entry.descriptor;\n    staging.removals[descriptor.id] = true;\n    staging.modified[descriptor.droppableId] = true;\n\n    if (staging.additions[descriptor.id]) {\n      delete staging.additions[descriptor.id];\n    }\n\n    collect();\n  };\n\n  var stop = function stop() {\n    if (!frameId) {\n      return;\n    }\n\n    cancelAnimationFrame(frameId);\n    frameId = null;\n    staging = clean$1();\n  };\n\n  return {\n    add: add,\n    remove: remove,\n    stop: stop\n  };\n}\n\nvar getMaxScroll = function (_ref) {\n  var scrollHeight = _ref.scrollHeight,\n      scrollWidth = _ref.scrollWidth,\n      height = _ref.height,\n      width = _ref.width;\n  var maxScroll = subtract({\n    x: scrollWidth,\n    y: scrollHeight\n  }, {\n    x: width,\n    y: height\n  });\n  var adjustedMaxScroll = {\n    x: Math.max(0, maxScroll.x),\n    y: Math.max(0, maxScroll.y)\n  };\n  return adjustedMaxScroll;\n};\n\nvar getDocumentElement = function () {\n  var doc = document.documentElement;\n  !doc ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot find document.documentElement') : invariant(false) : void 0;\n  return doc;\n};\n\nvar getMaxWindowScroll = function () {\n  var doc = getDocumentElement();\n  var maxScroll = getMaxScroll({\n    scrollHeight: doc.scrollHeight,\n    scrollWidth: doc.scrollWidth,\n    width: doc.clientWidth,\n    height: doc.clientHeight\n  });\n  return maxScroll;\n};\n\nvar getViewport = function () {\n  var scroll = getWindowScroll();\n  var maxScroll = getMaxWindowScroll();\n  var top = scroll.y;\n  var left = scroll.x;\n  var doc = getDocumentElement();\n  var width = doc.clientWidth;\n  var height = doc.clientHeight;\n  var right = left + width;\n  var bottom = top + height;\n  var frame = getRect({\n    top: top,\n    left: left,\n    right: right,\n    bottom: bottom\n  });\n  var viewport = {\n    frame: frame,\n    scroll: {\n      initial: scroll,\n      current: scroll,\n      max: maxScroll,\n      diff: {\n        value: origin,\n        displacement: origin\n      }\n    }\n  };\n  return viewport;\n};\n\nvar getInitialPublish = function (_ref) {\n  var critical = _ref.critical,\n      scrollOptions = _ref.scrollOptions,\n      registry = _ref.registry;\n  var timingKey = 'Initial collection from DOM';\n  start(timingKey);\n  var viewport = getViewport();\n  var windowScroll = viewport.scroll.current;\n  var home = critical.droppable;\n  var droppables = registry.droppable.getAllByType(home.type).map(function (entry) {\n    return entry.callbacks.getDimensionAndWatchScroll(windowScroll, scrollOptions);\n  });\n  var draggables = registry.draggable.getAllByType(critical.draggable.type).map(function (entry) {\n    return entry.getDimension(windowScroll);\n  });\n  var dimensions = {\n    draggables: toDraggableMap(draggables),\n    droppables: toDroppableMap(droppables)\n  };\n  finish(timingKey);\n  var result = {\n    dimensions: dimensions,\n    critical: critical,\n    viewport: viewport\n  };\n  return result;\n};\n\nfunction shouldPublishUpdate(registry, dragging, entry) {\n  if (entry.descriptor.id === dragging.id) {\n    return false;\n  }\n\n  if (entry.descriptor.type !== dragging.type) {\n    return false;\n  }\n\n  var home = registry.droppable.getById(entry.descriptor.droppableId);\n\n  if (home.descriptor.mode !== 'virtual') {\n    process.env.NODE_ENV !== \"production\" ? warning(\"\\n      You are attempting to add or remove a Draggable [id: \" + entry.descriptor.id + \"]\\n      while a drag is occurring. This is only supported for virtual lists.\\n\\n      See https://github.com/atlassian/react-beautiful-dnd/blob/master/docs/patterns/virtual-lists.md\\n    \") : void 0;\n    return false;\n  }\n\n  return true;\n}\n\nvar createDimensionMarshal = function (registry, callbacks) {\n  var collection = null;\n  var publisher = createPublisher({\n    callbacks: {\n      publish: callbacks.publishWhileDragging,\n      collectionStarting: callbacks.collectionStarting\n    },\n    registry: registry\n  });\n\n  var updateDroppableIsEnabled = function updateDroppableIsEnabled(id, isEnabled) {\n    !registry.droppable.exists(id) ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Cannot update is enabled flag of Droppable \" + id + \" as it is not registered\") : invariant(false) : void 0;\n\n    if (!collection) {\n      return;\n    }\n\n    callbacks.updateDroppableIsEnabled({\n      id: id,\n      isEnabled: isEnabled\n    });\n  };\n\n  var updateDroppableIsCombineEnabled = function updateDroppableIsCombineEnabled(id, isCombineEnabled) {\n    if (!collection) {\n      return;\n    }\n\n    !registry.droppable.exists(id) ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Cannot update isCombineEnabled flag of Droppable \" + id + \" as it is not registered\") : invariant(false) : void 0;\n    callbacks.updateDroppableIsCombineEnabled({\n      id: id,\n      isCombineEnabled: isCombineEnabled\n    });\n  };\n\n  var updateDroppableScroll = function updateDroppableScroll(id, newScroll) {\n    if (!collection) {\n      return;\n    }\n\n    !registry.droppable.exists(id) ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Cannot update the scroll on Droppable \" + id + \" as it is not registered\") : invariant(false) : void 0;\n    callbacks.updateDroppableScroll({\n      id: id,\n      newScroll: newScroll\n    });\n  };\n\n  var scrollDroppable = function scrollDroppable(id, change) {\n    if (!collection) {\n      return;\n    }\n\n    registry.droppable.getById(id).callbacks.scroll(change);\n  };\n\n  var stopPublishing = function stopPublishing() {\n    if (!collection) {\n      return;\n    }\n\n    publisher.stop();\n    var home = collection.critical.droppable;\n    registry.droppable.getAllByType(home.type).forEach(function (entry) {\n      return entry.callbacks.dragStopped();\n    });\n    collection.unsubscribe();\n    collection = null;\n  };\n\n  var subscriber = function subscriber(event) {\n    !collection ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Should only be subscribed when a collection is occurring') : invariant(false) : void 0;\n    var dragging = collection.critical.draggable;\n\n    if (event.type === 'ADDITION') {\n      if (shouldPublishUpdate(registry, dragging, event.value)) {\n        publisher.add(event.value);\n      }\n    }\n\n    if (event.type === 'REMOVAL') {\n      if (shouldPublishUpdate(registry, dragging, event.value)) {\n        publisher.remove(event.value);\n      }\n    }\n  };\n\n  var startPublishing = function startPublishing(request) {\n    !!collection ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot start capturing critical dimensions as there is already a collection') : invariant(false) : void 0;\n    var entry = registry.draggable.getById(request.draggableId);\n    var home = registry.droppable.getById(entry.descriptor.droppableId);\n    var critical = {\n      draggable: entry.descriptor,\n      droppable: home.descriptor\n    };\n    var unsubscribe = registry.subscribe(subscriber);\n    collection = {\n      critical: critical,\n      unsubscribe: unsubscribe\n    };\n    return getInitialPublish({\n      critical: critical,\n      registry: registry,\n      scrollOptions: request.scrollOptions\n    });\n  };\n\n  var marshal = {\n    updateDroppableIsEnabled: updateDroppableIsEnabled,\n    updateDroppableIsCombineEnabled: updateDroppableIsCombineEnabled,\n    scrollDroppable: scrollDroppable,\n    updateDroppableScroll: updateDroppableScroll,\n    startPublishing: startPublishing,\n    stopPublishing: stopPublishing\n  };\n  return marshal;\n};\n\nvar canStartDrag = function (state, id) {\n  if (state.phase === 'IDLE') {\n    return true;\n  }\n\n  if (state.phase !== 'DROP_ANIMATING') {\n    return false;\n  }\n\n  if (state.completed.result.draggableId === id) {\n    return false;\n  }\n\n  return state.completed.result.reason === 'DROP';\n};\n\nvar scrollWindow = function (change) {\n  window.scrollBy(change.x, change.y);\n};\n\nvar getScrollableDroppables = memoizeOne(function (droppables) {\n  return toDroppableList(droppables).filter(function (droppable) {\n    if (!droppable.isEnabled) {\n      return false;\n    }\n\n    if (!droppable.frame) {\n      return false;\n    }\n\n    return true;\n  });\n});\n\nvar getScrollableDroppableOver = function getScrollableDroppableOver(target, droppables) {\n  var maybe = find(getScrollableDroppables(droppables), function (droppable) {\n    !droppable.frame ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Invalid result') : invariant(false) : void 0;\n    return isPositionInFrame(droppable.frame.pageMarginBox)(target);\n  });\n  return maybe;\n};\n\nvar getBestScrollableDroppable = function (_ref) {\n  var center = _ref.center,\n      destination = _ref.destination,\n      droppables = _ref.droppables;\n\n  if (destination) {\n    var _dimension = droppables[destination];\n\n    if (!_dimension.frame) {\n      return null;\n    }\n\n    return _dimension;\n  }\n\n  var dimension = getScrollableDroppableOver(center, droppables);\n  return dimension;\n};\n\nvar config = {\n  startFromPercentage: 0.25,\n  maxScrollAtPercentage: 0.05,\n  maxPixelScroll: 28,\n  ease: function ease(percentage) {\n    return Math.pow(percentage, 2);\n  },\n  durationDampening: {\n    stopDampeningAt: 1200,\n    accelerateAt: 360\n  }\n};\n\nvar getDistanceThresholds = function (container, axis) {\n  var startScrollingFrom = container[axis.size] * config.startFromPercentage;\n  var maxScrollValueAt = container[axis.size] * config.maxScrollAtPercentage;\n  var thresholds = {\n    startScrollingFrom: startScrollingFrom,\n    maxScrollValueAt: maxScrollValueAt\n  };\n  return thresholds;\n};\n\nvar getPercentage = function (_ref) {\n  var startOfRange = _ref.startOfRange,\n      endOfRange = _ref.endOfRange,\n      current = _ref.current;\n  var range = endOfRange - startOfRange;\n\n  if (range === 0) {\n    process.env.NODE_ENV !== \"production\" ? warning(\"\\n      Detected distance range of 0 in the fluid auto scroller\\n      This is unexpected and would cause a divide by 0 issue.\\n      Not allowing an auto scroll\\n    \") : void 0;\n    return 0;\n  }\n\n  var currentInRange = current - startOfRange;\n  var percentage = currentInRange / range;\n  return percentage;\n};\n\nvar minScroll = 1;\n\nvar getValueFromDistance = function (distanceToEdge, thresholds) {\n  if (distanceToEdge > thresholds.startScrollingFrom) {\n    return 0;\n  }\n\n  if (distanceToEdge <= thresholds.maxScrollValueAt) {\n    return config.maxPixelScroll;\n  }\n\n  if (distanceToEdge === thresholds.startScrollingFrom) {\n    return minScroll;\n  }\n\n  var percentageFromMaxScrollValueAt = getPercentage({\n    startOfRange: thresholds.maxScrollValueAt,\n    endOfRange: thresholds.startScrollingFrom,\n    current: distanceToEdge\n  });\n  var percentageFromStartScrollingFrom = 1 - percentageFromMaxScrollValueAt;\n  var scroll = config.maxPixelScroll * config.ease(percentageFromStartScrollingFrom);\n  return Math.ceil(scroll);\n};\n\nvar accelerateAt = config.durationDampening.accelerateAt;\nvar stopAt = config.durationDampening.stopDampeningAt;\n\nvar dampenValueByTime = function (proposedScroll, dragStartTime) {\n  var startOfRange = dragStartTime;\n  var endOfRange = stopAt;\n\n  var now = _Date$now();\n\n  var runTime = now - startOfRange;\n\n  if (runTime >= stopAt) {\n    return proposedScroll;\n  }\n\n  if (runTime < accelerateAt) {\n    return minScroll;\n  }\n\n  var betweenAccelerateAtAndStopAtPercentage = getPercentage({\n    startOfRange: accelerateAt,\n    endOfRange: endOfRange,\n    current: runTime\n  });\n  var scroll = proposedScroll * config.ease(betweenAccelerateAtAndStopAtPercentage);\n  return Math.ceil(scroll);\n};\n\nvar getValue = function (_ref) {\n  var distanceToEdge = _ref.distanceToEdge,\n      thresholds = _ref.thresholds,\n      dragStartTime = _ref.dragStartTime,\n      shouldUseTimeDampening = _ref.shouldUseTimeDampening;\n  var scroll = getValueFromDistance(distanceToEdge, thresholds);\n\n  if (scroll === 0) {\n    return 0;\n  }\n\n  if (!shouldUseTimeDampening) {\n    return scroll;\n  }\n\n  return Math.max(dampenValueByTime(scroll, dragStartTime), minScroll);\n};\n\nvar getScrollOnAxis = function (_ref) {\n  var container = _ref.container,\n      distanceToEdges = _ref.distanceToEdges,\n      dragStartTime = _ref.dragStartTime,\n      axis = _ref.axis,\n      shouldUseTimeDampening = _ref.shouldUseTimeDampening;\n  var thresholds = getDistanceThresholds(container, axis);\n  var isCloserToEnd = distanceToEdges[axis.end] < distanceToEdges[axis.start];\n\n  if (isCloserToEnd) {\n    return getValue({\n      distanceToEdge: distanceToEdges[axis.end],\n      thresholds: thresholds,\n      dragStartTime: dragStartTime,\n      shouldUseTimeDampening: shouldUseTimeDampening\n    });\n  }\n\n  return -1 * getValue({\n    distanceToEdge: distanceToEdges[axis.start],\n    thresholds: thresholds,\n    dragStartTime: dragStartTime,\n    shouldUseTimeDampening: shouldUseTimeDampening\n  });\n};\n\nvar adjustForSizeLimits = function (_ref) {\n  var container = _ref.container,\n      subject = _ref.subject,\n      proposedScroll = _ref.proposedScroll;\n  var isTooBigVertically = subject.height > container.height;\n  var isTooBigHorizontally = subject.width > container.width;\n\n  if (!isTooBigHorizontally && !isTooBigVertically) {\n    return proposedScroll;\n  }\n\n  if (isTooBigHorizontally && isTooBigVertically) {\n    return null;\n  }\n\n  return {\n    x: isTooBigHorizontally ? 0 : proposedScroll.x,\n    y: isTooBigVertically ? 0 : proposedScroll.y\n  };\n};\n\nvar clean$2 = apply(function (value) {\n  return value === 0 ? 0 : value;\n});\n\nvar getScroll = function (_ref) {\n  var dragStartTime = _ref.dragStartTime,\n      container = _ref.container,\n      subject = _ref.subject,\n      center = _ref.center,\n      shouldUseTimeDampening = _ref.shouldUseTimeDampening;\n  var distanceToEdges = {\n    top: center.y - container.top,\n    right: container.right - center.x,\n    bottom: container.bottom - center.y,\n    left: center.x - container.left\n  };\n  var y = getScrollOnAxis({\n    container: container,\n    distanceToEdges: distanceToEdges,\n    dragStartTime: dragStartTime,\n    axis: vertical,\n    shouldUseTimeDampening: shouldUseTimeDampening\n  });\n  var x = getScrollOnAxis({\n    container: container,\n    distanceToEdges: distanceToEdges,\n    dragStartTime: dragStartTime,\n    axis: horizontal,\n    shouldUseTimeDampening: shouldUseTimeDampening\n  });\n  var required = clean$2({\n    x: x,\n    y: y\n  });\n\n  if (isEqual(required, origin)) {\n    return null;\n  }\n\n  var limited = adjustForSizeLimits({\n    container: container,\n    subject: subject,\n    proposedScroll: required\n  });\n\n  if (!limited) {\n    return null;\n  }\n\n  return isEqual(limited, origin) ? null : limited;\n};\n\nvar smallestSigned = apply(function (value) {\n  if (value === 0) {\n    return 0;\n  }\n\n  return value > 0 ? 1 : -1;\n});\n\nvar getOverlap = function () {\n  var getRemainder = function getRemainder(target, max) {\n    if (target < 0) {\n      return target;\n    }\n\n    if (target > max) {\n      return target - max;\n    }\n\n    return 0;\n  };\n\n  return function (_ref) {\n    var current = _ref.current,\n        max = _ref.max,\n        change = _ref.change;\n    var targetScroll = add(current, change);\n    var overlap = {\n      x: getRemainder(targetScroll.x, max.x),\n      y: getRemainder(targetScroll.y, max.y)\n    };\n\n    if (isEqual(overlap, origin)) {\n      return null;\n    }\n\n    return overlap;\n  };\n}();\n\nvar canPartiallyScroll = function canPartiallyScroll(_ref2) {\n  var rawMax = _ref2.max,\n      current = _ref2.current,\n      change = _ref2.change;\n  var max = {\n    x: Math.max(current.x, rawMax.x),\n    y: Math.max(current.y, rawMax.y)\n  };\n  var smallestChange = smallestSigned(change);\n  var overlap = getOverlap({\n    max: max,\n    current: current,\n    change: smallestChange\n  });\n\n  if (!overlap) {\n    return true;\n  }\n\n  if (smallestChange.x !== 0 && overlap.x === 0) {\n    return true;\n  }\n\n  if (smallestChange.y !== 0 && overlap.y === 0) {\n    return true;\n  }\n\n  return false;\n};\n\nvar canScrollWindow = function canScrollWindow(viewport, change) {\n  return canPartiallyScroll({\n    current: viewport.scroll.current,\n    max: viewport.scroll.max,\n    change: change\n  });\n};\n\nvar getWindowOverlap = function getWindowOverlap(viewport, change) {\n  if (!canScrollWindow(viewport, change)) {\n    return null;\n  }\n\n  var max = viewport.scroll.max;\n  var current = viewport.scroll.current;\n  return getOverlap({\n    current: current,\n    max: max,\n    change: change\n  });\n};\n\nvar canScrollDroppable = function canScrollDroppable(droppable, change) {\n  var frame = droppable.frame;\n\n  if (!frame) {\n    return false;\n  }\n\n  return canPartiallyScroll({\n    current: frame.scroll.current,\n    max: frame.scroll.max,\n    change: change\n  });\n};\n\nvar getDroppableOverlap = function getDroppableOverlap(droppable, change) {\n  var frame = droppable.frame;\n\n  if (!frame) {\n    return null;\n  }\n\n  if (!canScrollDroppable(droppable, change)) {\n    return null;\n  }\n\n  return getOverlap({\n    current: frame.scroll.current,\n    max: frame.scroll.max,\n    change: change\n  });\n};\n\nvar getWindowScrollChange = function (_ref) {\n  var viewport = _ref.viewport,\n      subject = _ref.subject,\n      center = _ref.center,\n      dragStartTime = _ref.dragStartTime,\n      shouldUseTimeDampening = _ref.shouldUseTimeDampening;\n  var scroll = getScroll({\n    dragStartTime: dragStartTime,\n    container: viewport.frame,\n    subject: subject,\n    center: center,\n    shouldUseTimeDampening: shouldUseTimeDampening\n  });\n  return scroll && canScrollWindow(viewport, scroll) ? scroll : null;\n};\n\nvar getDroppableScrollChange = function (_ref) {\n  var droppable = _ref.droppable,\n      subject = _ref.subject,\n      center = _ref.center,\n      dragStartTime = _ref.dragStartTime,\n      shouldUseTimeDampening = _ref.shouldUseTimeDampening;\n  var frame = droppable.frame;\n\n  if (!frame) {\n    return null;\n  }\n\n  var scroll = getScroll({\n    dragStartTime: dragStartTime,\n    container: frame.pageMarginBox,\n    subject: subject,\n    center: center,\n    shouldUseTimeDampening: shouldUseTimeDampening\n  });\n  return scroll && canScrollDroppable(droppable, scroll) ? scroll : null;\n};\n\nvar scroll$1 = function (_ref) {\n  var state = _ref.state,\n      dragStartTime = _ref.dragStartTime,\n      shouldUseTimeDampening = _ref.shouldUseTimeDampening,\n      scrollWindow = _ref.scrollWindow,\n      scrollDroppable = _ref.scrollDroppable;\n  var center = state.current.page.borderBoxCenter;\n  var draggable = state.dimensions.draggables[state.critical.draggable.id];\n  var subject = draggable.page.marginBox;\n\n  if (state.isWindowScrollAllowed) {\n    var viewport = state.viewport;\n\n    var _change = getWindowScrollChange({\n      dragStartTime: dragStartTime,\n      viewport: viewport,\n      subject: subject,\n      center: center,\n      shouldUseTimeDampening: shouldUseTimeDampening\n    });\n\n    if (_change) {\n      scrollWindow(_change);\n      return;\n    }\n  }\n\n  var droppable = getBestScrollableDroppable({\n    center: center,\n    destination: whatIsDraggedOver(state.impact),\n    droppables: state.dimensions.droppables\n  });\n\n  if (!droppable) {\n    return;\n  }\n\n  var change = getDroppableScrollChange({\n    dragStartTime: dragStartTime,\n    droppable: droppable,\n    subject: subject,\n    center: center,\n    shouldUseTimeDampening: shouldUseTimeDampening\n  });\n\n  if (change) {\n    scrollDroppable(droppable.descriptor.id, change);\n  }\n};\n\nvar createFluidScroller = function (_ref) {\n  var scrollWindow = _ref.scrollWindow,\n      scrollDroppable = _ref.scrollDroppable;\n  var scheduleWindowScroll = rafSchd(scrollWindow);\n  var scheduleDroppableScroll = rafSchd(scrollDroppable);\n  var dragging = null;\n\n  var tryScroll = function tryScroll(state) {\n    !dragging ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot fluid scroll if not dragging') : invariant(false) : void 0;\n    var _dragging = dragging,\n        shouldUseTimeDampening = _dragging.shouldUseTimeDampening,\n        dragStartTime = _dragging.dragStartTime;\n    scroll$1({\n      state: state,\n      scrollWindow: scheduleWindowScroll,\n      scrollDroppable: scheduleDroppableScroll,\n      dragStartTime: dragStartTime,\n      shouldUseTimeDampening: shouldUseTimeDampening\n    });\n  };\n\n  var start$1 = function start$1(state) {\n    start('starting fluid scroller');\n    !!dragging ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot start auto scrolling when already started') : invariant(false) : void 0;\n\n    var dragStartTime = _Date$now();\n\n    var wasScrollNeeded = false;\n\n    var fakeScrollCallback = function fakeScrollCallback() {\n      wasScrollNeeded = true;\n    };\n\n    scroll$1({\n      state: state,\n      dragStartTime: 0,\n      shouldUseTimeDampening: false,\n      scrollWindow: fakeScrollCallback,\n      scrollDroppable: fakeScrollCallback\n    });\n    dragging = {\n      dragStartTime: dragStartTime,\n      shouldUseTimeDampening: wasScrollNeeded\n    };\n    finish('starting fluid scroller');\n\n    if (wasScrollNeeded) {\n      tryScroll(state);\n    }\n  };\n\n  var stop = function stop() {\n    if (!dragging) {\n      return;\n    }\n\n    scheduleWindowScroll.cancel();\n    scheduleDroppableScroll.cancel();\n    dragging = null;\n  };\n\n  return {\n    start: start$1,\n    stop: stop,\n    scroll: tryScroll\n  };\n};\n\nvar createJumpScroller = function (_ref) {\n  var move = _ref.move,\n      scrollDroppable = _ref.scrollDroppable,\n      scrollWindow = _ref.scrollWindow;\n\n  var moveByOffset = function moveByOffset(state, offset) {\n    var client = add(state.current.client.selection, offset);\n    move({\n      client: client\n    });\n  };\n\n  var scrollDroppableAsMuchAsItCan = function scrollDroppableAsMuchAsItCan(droppable, change) {\n    if (!canScrollDroppable(droppable, change)) {\n      return change;\n    }\n\n    var overlap = getDroppableOverlap(droppable, change);\n\n    if (!overlap) {\n      scrollDroppable(droppable.descriptor.id, change);\n      return null;\n    }\n\n    var whatTheDroppableCanScroll = subtract(change, overlap);\n    scrollDroppable(droppable.descriptor.id, whatTheDroppableCanScroll);\n    var remainder = subtract(change, whatTheDroppableCanScroll);\n    return remainder;\n  };\n\n  var scrollWindowAsMuchAsItCan = function scrollWindowAsMuchAsItCan(isWindowScrollAllowed, viewport, change) {\n    if (!isWindowScrollAllowed) {\n      return change;\n    }\n\n    if (!canScrollWindow(viewport, change)) {\n      return change;\n    }\n\n    var overlap = getWindowOverlap(viewport, change);\n\n    if (!overlap) {\n      scrollWindow(change);\n      return null;\n    }\n\n    var whatTheWindowCanScroll = subtract(change, overlap);\n    scrollWindow(whatTheWindowCanScroll);\n    var remainder = subtract(change, whatTheWindowCanScroll);\n    return remainder;\n  };\n\n  var jumpScroller = function jumpScroller(state) {\n    var request = state.scrollJumpRequest;\n\n    if (!request) {\n      return;\n    }\n\n    var destination = whatIsDraggedOver(state.impact);\n    !destination ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot perform a jump scroll when there is no destination') : invariant(false) : void 0;\n    var droppableRemainder = scrollDroppableAsMuchAsItCan(state.dimensions.droppables[destination], request);\n\n    if (!droppableRemainder) {\n      return;\n    }\n\n    var viewport = state.viewport;\n    var windowRemainder = scrollWindowAsMuchAsItCan(state.isWindowScrollAllowed, viewport, droppableRemainder);\n\n    if (!windowRemainder) {\n      return;\n    }\n\n    moveByOffset(state, windowRemainder);\n  };\n\n  return jumpScroller;\n};\n\nvar createAutoScroller = function (_ref) {\n  var scrollDroppable = _ref.scrollDroppable,\n      scrollWindow = _ref.scrollWindow,\n      move = _ref.move;\n  var fluidScroller = createFluidScroller({\n    scrollWindow: scrollWindow,\n    scrollDroppable: scrollDroppable\n  });\n  var jumpScroll = createJumpScroller({\n    move: move,\n    scrollWindow: scrollWindow,\n    scrollDroppable: scrollDroppable\n  });\n\n  var scroll = function scroll(state) {\n    if (state.phase !== 'DRAGGING') {\n      return;\n    }\n\n    if (state.movementMode === 'FLUID') {\n      fluidScroller.scroll(state);\n      return;\n    }\n\n    if (!state.scrollJumpRequest) {\n      return;\n    }\n\n    jumpScroll(state);\n  };\n\n  var scroller = {\n    scroll: scroll,\n    start: fluidScroller.start,\n    stop: fluidScroller.stop\n  };\n  return scroller;\n};\n\nvar prefix$1 = 'data-rbd';\n\nvar dragHandle = function () {\n  var base = prefix$1 + \"-drag-handle\";\n  return {\n    base: base,\n    draggableId: base + \"-draggable-id\",\n    contextId: base + \"-context-id\"\n  };\n}();\n\nvar draggable = function () {\n  var base = prefix$1 + \"-draggable\";\n  return {\n    base: base,\n    contextId: base + \"-context-id\",\n    id: base + \"-id\"\n  };\n}();\n\nvar droppable = function () {\n  var base = prefix$1 + \"-droppable\";\n  return {\n    base: base,\n    contextId: base + \"-context-id\",\n    id: base + \"-id\"\n  };\n}();\n\nvar scrollContainer = {\n  contextId: prefix$1 + \"-scroll-container-context-id\"\n};\n\nvar makeGetSelector = function makeGetSelector(context) {\n  return function (attribute) {\n    return \"[\" + attribute + \"=\\\"\" + context + \"\\\"]\";\n  };\n};\n\nvar getStyles = function getStyles(rules, property) {\n  return rules.map(function (rule) {\n    var value = rule.styles[property];\n\n    if (!value) {\n      return '';\n    }\n\n    return rule.selector + \" { \" + value + \" }\";\n  }).join(' ');\n};\n\nvar noPointerEvents = 'pointer-events: none;';\n\nvar getStyles$1 = function (contextId) {\n  var getSelector = makeGetSelector(contextId);\n\n  var dragHandle$1 = function () {\n    var grabCursor = \"\\n      cursor: -webkit-grab;\\n      cursor: grab;\\n    \";\n    return {\n      selector: getSelector(dragHandle.contextId),\n      styles: {\n        always: \"\\n          -webkit-touch-callout: none;\\n          -webkit-tap-highlight-color: rgba(0,0,0,0);\\n          touch-action: manipulation;\\n        \",\n        resting: grabCursor,\n        dragging: noPointerEvents,\n        dropAnimating: grabCursor\n      }\n    };\n  }();\n\n  var draggable$1 = function () {\n    var transition = \"\\n      transition: \" + transitions.outOfTheWay + \";\\n    \";\n    return {\n      selector: getSelector(draggable.contextId),\n      styles: {\n        dragging: transition,\n        dropAnimating: transition,\n        userCancel: transition\n      }\n    };\n  }();\n\n  var droppable$1 = {\n    selector: getSelector(droppable.contextId),\n    styles: {\n      always: \"overflow-anchor: none;\"\n    }\n  };\n  var body = {\n    selector: 'body',\n    styles: {\n      dragging: \"\\n        cursor: grabbing;\\n        cursor: -webkit-grabbing;\\n        user-select: none;\\n        -webkit-user-select: none;\\n        -moz-user-select: none;\\n        -ms-user-select: none;\\n        overflow-anchor: none;\\n      \"\n    }\n  };\n  var rules = [draggable$1, dragHandle$1, droppable$1, body];\n  return {\n    always: getStyles(rules, 'always'),\n    resting: getStyles(rules, 'resting'),\n    dragging: getStyles(rules, 'dragging'),\n    dropAnimating: getStyles(rules, 'dropAnimating'),\n    userCancel: getStyles(rules, 'userCancel')\n  };\n};\n\nvar useIsomorphicLayoutEffect = typeof window !== 'undefined' && typeof window.document !== 'undefined' && typeof window.document.createElement !== 'undefined' ? useLayoutEffect : useEffect;\n\nvar getHead = function getHead() {\n  var head = document.querySelector('head');\n  !head ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot find the head to append a style to') : invariant(false) : void 0;\n  return head;\n};\n\nvar createStyleEl = function createStyleEl(nonce) {\n  var el = document.createElement('style');\n\n  if (nonce) {\n    el.setAttribute('nonce', nonce);\n  }\n\n  el.type = 'text/css';\n  return el;\n};\n\nfunction useStyleMarshal(contextId, nonce) {\n  var styles = useMemo(function () {\n    return getStyles$1(contextId);\n  }, [contextId]);\n  var alwaysRef = useRef(null);\n  var dynamicRef = useRef(null);\n  var setDynamicStyle = useCallback(memoizeOne(function (proposed) {\n    var el = dynamicRef.current;\n    !el ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot set dynamic style element if it is not set') : invariant(false) : void 0;\n    el.textContent = proposed;\n  }), []);\n  var setAlwaysStyle = useCallback(function (proposed) {\n    var el = alwaysRef.current;\n    !el ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot set dynamic style element if it is not set') : invariant(false) : void 0;\n    el.textContent = proposed;\n  }, []);\n  useIsomorphicLayoutEffect(function () {\n    !(!alwaysRef.current && !dynamicRef.current) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'style elements already mounted') : invariant(false) : void 0;\n    var always = createStyleEl(nonce);\n    var dynamic = createStyleEl(nonce);\n    alwaysRef.current = always;\n    dynamicRef.current = dynamic;\n    always.setAttribute(prefix$1 + \"-always\", contextId);\n    dynamic.setAttribute(prefix$1 + \"-dynamic\", contextId);\n    getHead().appendChild(always);\n    getHead().appendChild(dynamic);\n    setAlwaysStyle(styles.always);\n    setDynamicStyle(styles.resting);\n    return function () {\n      var remove = function remove(ref) {\n        var current = ref.current;\n        !current ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot unmount ref as it is not set') : invariant(false) : void 0;\n        getHead().removeChild(current);\n        ref.current = null;\n      };\n\n      remove(alwaysRef);\n      remove(dynamicRef);\n    };\n  }, [nonce, setAlwaysStyle, setDynamicStyle, styles.always, styles.resting, contextId]);\n  var dragging = useCallback(function () {\n    return setDynamicStyle(styles.dragging);\n  }, [setDynamicStyle, styles.dragging]);\n  var dropping = useCallback(function (reason) {\n    if (reason === 'DROP') {\n      setDynamicStyle(styles.dropAnimating);\n      return;\n    }\n\n    setDynamicStyle(styles.userCancel);\n  }, [setDynamicStyle, styles.dropAnimating, styles.userCancel]);\n  var resting = useCallback(function () {\n    if (!dynamicRef.current) {\n      return;\n    }\n\n    setDynamicStyle(styles.resting);\n  }, [setDynamicStyle, styles.resting]);\n  var marshal = useMemo(function () {\n    return {\n      dragging: dragging,\n      dropping: dropping,\n      resting: resting\n    };\n  }, [dragging, dropping, resting]);\n  return marshal;\n}\n\nvar getWindowFromEl = function (el) {\n  return el && el.ownerDocument ? el.ownerDocument.defaultView : window;\n};\n\nfunction isHtmlElement(el) {\n  return el instanceof getWindowFromEl(el).HTMLElement;\n}\n\nfunction findDragHandle(contextId, draggableId) {\n  var selector = \"[\" + dragHandle.contextId + \"=\\\"\" + contextId + \"\\\"]\";\n  var possible = toArray(document.querySelectorAll(selector));\n\n  if (!possible.length) {\n    process.env.NODE_ENV !== \"production\" ? warning(\"Unable to find any drag handles in the context \\\"\" + contextId + \"\\\"\") : void 0;\n    return null;\n  }\n\n  var handle = find(possible, function (el) {\n    return el.getAttribute(dragHandle.draggableId) === draggableId;\n  });\n\n  if (!handle) {\n    process.env.NODE_ENV !== \"production\" ? warning(\"Unable to find drag handle with id \\\"\" + draggableId + \"\\\" as no handle with a matching id was found\") : void 0;\n    return null;\n  }\n\n  if (!isHtmlElement(handle)) {\n    process.env.NODE_ENV !== \"production\" ? warning('drag handle needs to be a HTMLElement') : void 0;\n    return null;\n  }\n\n  return handle;\n}\n\nfunction useFocusMarshal(contextId) {\n  var entriesRef = useRef({});\n  var recordRef = useRef(null);\n  var restoreFocusFrameRef = useRef(null);\n  var isMountedRef = useRef(false);\n  var register = useCallback(function register(id, focus) {\n    var entry = {\n      id: id,\n      focus: focus\n    };\n    entriesRef.current[id] = entry;\n    return function unregister() {\n      var entries = entriesRef.current;\n      var current = entries[id];\n\n      if (current !== entry) {\n        delete entries[id];\n      }\n    };\n  }, []);\n  var tryGiveFocus = useCallback(function tryGiveFocus(tryGiveFocusTo) {\n    var handle = findDragHandle(contextId, tryGiveFocusTo);\n\n    if (handle && handle !== document.activeElement) {\n      handle.focus();\n    }\n  }, [contextId]);\n  var tryShiftRecord = useCallback(function tryShiftRecord(previous, redirectTo) {\n    if (recordRef.current === previous) {\n      recordRef.current = redirectTo;\n    }\n  }, []);\n  var tryRestoreFocusRecorded = useCallback(function tryRestoreFocusRecorded() {\n    if (restoreFocusFrameRef.current) {\n      return;\n    }\n\n    if (!isMountedRef.current) {\n      return;\n    }\n\n    restoreFocusFrameRef.current = requestAnimationFrame(function () {\n      restoreFocusFrameRef.current = null;\n      var record = recordRef.current;\n\n      if (record) {\n        tryGiveFocus(record);\n      }\n    });\n  }, [tryGiveFocus]);\n  var tryRecordFocus = useCallback(function tryRecordFocus(id) {\n    recordRef.current = null;\n    var focused = document.activeElement;\n\n    if (!focused) {\n      return;\n    }\n\n    if (focused.getAttribute(dragHandle.draggableId) !== id) {\n      return;\n    }\n\n    recordRef.current = id;\n  }, []);\n  useIsomorphicLayoutEffect(function () {\n    isMountedRef.current = true;\n    return function clearFrameOnUnmount() {\n      isMountedRef.current = false;\n      var frameId = restoreFocusFrameRef.current;\n\n      if (frameId) {\n        cancelAnimationFrame(frameId);\n      }\n    };\n  }, []);\n  var marshal = useMemo(function () {\n    return {\n      register: register,\n      tryRecordFocus: tryRecordFocus,\n      tryRestoreFocusRecorded: tryRestoreFocusRecorded,\n      tryShiftRecord: tryShiftRecord\n    };\n  }, [register, tryRecordFocus, tryRestoreFocusRecorded, tryShiftRecord]);\n  return marshal;\n}\n\nfunction createRegistry() {\n  var entries = {\n    draggables: {},\n    droppables: {}\n  };\n  var subscribers = [];\n\n  function subscribe(cb) {\n    subscribers.push(cb);\n    return function unsubscribe() {\n      var index = subscribers.indexOf(cb);\n\n      if (index === -1) {\n        return;\n      }\n\n      subscribers.splice(index, 1);\n    };\n  }\n\n  function notify(event) {\n    if (subscribers.length) {\n      subscribers.forEach(function (cb) {\n        return cb(event);\n      });\n    }\n  }\n\n  function findDraggableById(id) {\n    return entries.draggables[id] || null;\n  }\n\n  function getDraggableById(id) {\n    var entry = findDraggableById(id);\n    !entry ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Cannot find draggable entry with id [\" + id + \"]\") : invariant(false) : void 0;\n    return entry;\n  }\n\n  var draggableAPI = {\n    register: function register(entry) {\n      entries.draggables[entry.descriptor.id] = entry;\n      notify({\n        type: 'ADDITION',\n        value: entry\n      });\n    },\n    update: function update(entry, last) {\n      var current = entries.draggables[last.descriptor.id];\n\n      if (!current) {\n        return;\n      }\n\n      if (current.uniqueId !== entry.uniqueId) {\n        return;\n      }\n\n      delete entries.draggables[last.descriptor.id];\n      entries.draggables[entry.descriptor.id] = entry;\n    },\n    unregister: function unregister(entry) {\n      var draggableId = entry.descriptor.id;\n      var current = findDraggableById(draggableId);\n\n      if (!current) {\n        return;\n      }\n\n      if (entry.uniqueId !== current.uniqueId) {\n        return;\n      }\n\n      delete entries.draggables[draggableId];\n      notify({\n        type: 'REMOVAL',\n        value: entry\n      });\n    },\n    getById: getDraggableById,\n    findById: findDraggableById,\n    exists: function exists(id) {\n      return Boolean(findDraggableById(id));\n    },\n    getAllByType: function getAllByType(type) {\n      return values(entries.draggables).filter(function (entry) {\n        return entry.descriptor.type === type;\n      });\n    }\n  };\n\n  function findDroppableById(id) {\n    return entries.droppables[id] || null;\n  }\n\n  function getDroppableById(id) {\n    var entry = findDroppableById(id);\n    !entry ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Cannot find droppable entry with id [\" + id + \"]\") : invariant(false) : void 0;\n    return entry;\n  }\n\n  var droppableAPI = {\n    register: function register(entry) {\n      entries.droppables[entry.descriptor.id] = entry;\n    },\n    unregister: function unregister(entry) {\n      var current = findDroppableById(entry.descriptor.id);\n\n      if (!current) {\n        return;\n      }\n\n      if (entry.uniqueId !== current.uniqueId) {\n        return;\n      }\n\n      delete entries.droppables[entry.descriptor.id];\n    },\n    getById: getDroppableById,\n    findById: findDroppableById,\n    exists: function exists(id) {\n      return Boolean(findDroppableById(id));\n    },\n    getAllByType: function getAllByType(type) {\n      return values(entries.droppables).filter(function (entry) {\n        return entry.descriptor.type === type;\n      });\n    }\n  };\n\n  function clean() {\n    entries.draggables = {};\n    entries.droppables = {};\n    subscribers.length = 0;\n  }\n\n  return {\n    draggable: draggableAPI,\n    droppable: droppableAPI,\n    subscribe: subscribe,\n    clean: clean\n  };\n}\n\nfunction useRegistry() {\n  var registry = useMemo(createRegistry, []);\n  useEffect(function () {\n    return function unmount() {\n      requestAnimationFrame(registry.clean);\n    };\n  }, [registry]);\n  return registry;\n}\n\nvar StoreContext = React.createContext(null);\n\nvar getBodyElement = function () {\n  var body = document.body;\n  !body ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot find document.body') : invariant(false) : void 0;\n  return body;\n};\n\nvar visuallyHidden = {\n  position: 'absolute',\n  width: '1px',\n  height: '1px',\n  margin: '-1px',\n  border: '0',\n  padding: '0',\n  overflow: 'hidden',\n  clip: 'rect(0 0 0 0)',\n  'clip-path': 'inset(100%)'\n};\n\nvar getId = function getId(contextId) {\n  return \"rbd-announcement-\" + contextId;\n};\n\nfunction useAnnouncer(contextId) {\n  var id = useMemo(function () {\n    return getId(contextId);\n  }, [contextId]);\n  var ref = useRef(null);\n  useEffect(function setup() {\n    var el = document.createElement('div');\n    ref.current = el;\n    el.id = id;\n    el.setAttribute('aria-live', 'assertive');\n    el.setAttribute('role', 'log');\n    el.setAttribute('aria-atomic', 'true');\n\n    _Object$assign(el.style, visuallyHidden);\n\n    getBodyElement().appendChild(el);\n    return function cleanup() {\n      setTimeout(function remove() {\n        getBodyElement().removeChild(el);\n\n        if (el === ref.current) {\n          ref.current = null;\n        }\n      });\n    };\n  }, [id]);\n  var announce = useCallback(function (message) {\n    var el = ref.current;\n\n    if (el) {\n      el.textContent = message;\n      return;\n    }\n\n    process.env.NODE_ENV !== \"production\" ? warning(\"\\n      A screen reader message was trying to be announced but it was unable to do so.\\n      This can occur if you unmount your <DragDropContext /> in your onDragEnd.\\n      Consider calling provided.announce() before the unmount so that the instruction will\\n      not be lost for users relying on a screen reader.\\n\\n      Message not passed to screen reader:\\n\\n      \\\"\" + message + \"\\\"\\n    \") : void 0;\n  }, []);\n  return announce;\n}\n\nvar getId$1 = function getId(contextId) {\n  return \"rbd-lift-instruction-\" + contextId;\n};\n\nfunction useLiftInstruction(contextId, liftInstruction) {\n  var id = useMemo(function () {\n    return getId$1(contextId);\n  }, [contextId]);\n  useEffect(function mount() {\n    var el = document.createElement('div');\n    el.id = id;\n    el.textContent = liftInstruction;\n\n    _Object$assign(el.style, {\n      display: 'none'\n    });\n\n    getBodyElement().appendChild(el);\n    return function unmount() {\n      getBodyElement().removeChild(el);\n    };\n  }, [id, liftInstruction]);\n  return id;\n}\n\nvar AppContext = React.createContext(null);\nvar peerDependencies = {\n  react: \"^16.8.5\",\n  \"react-dom\": \"^16.8.5\"\n};\nvar semver = /(\\d+)\\.(\\d+)\\.(\\d+)/;\n\nvar getVersion = function getVersion(value) {\n  var result = semver.exec(value);\n  !(result != null) ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Unable to parse React version \" + value) : invariant(false) : void 0;\n  var major = Number(result[1]);\n  var minor = Number(result[2]);\n  var patch = Number(result[3]);\n  return {\n    major: major,\n    minor: minor,\n    patch: patch,\n    raw: value\n  };\n};\n\nvar isSatisfied = function isSatisfied(expected, actual) {\n  if (actual.major > expected.major) {\n    return true;\n  }\n\n  if (actual.major < expected.major) {\n    return false;\n  }\n\n  if (actual.minor > expected.minor) {\n    return true;\n  }\n\n  if (actual.minor < expected.minor) {\n    return false;\n  }\n\n  return actual.patch >= expected.patch;\n};\n\nvar checkReactVersion = function (peerDepValue, actualValue) {\n  var peerDep = getVersion(peerDepValue);\n  var actual = getVersion(actualValue);\n\n  if (isSatisfied(peerDep, actual)) {\n    return;\n  }\n\n  process.env.NODE_ENV !== \"production\" ? warning(\"\\n    React version: [\" + actual.raw + \"]\\n    does not satisfy expected peer dependency version: [\" + peerDep.raw + \"]\\n\\n    This can result in run time bugs, and even fatal crashes\\n  \") : void 0;\n};\n\nvar suffix = \"\\n  We expect a html5 doctype: <!doctype html>\\n  This is to ensure consistent browser layout and measurement\\n\\n  More information: https://github.com/atlassian/react-beautiful-dnd/blob/master/docs/guides/doctype.md\\n\";\n\nvar checkDoctype = function (doc) {\n  var doctype = doc.doctype;\n\n  if (!doctype) {\n    process.env.NODE_ENV !== \"production\" ? warning(\"\\n      No <!doctype html> found.\\n\\n      \" + suffix + \"\\n    \") : void 0;\n    return;\n  }\n\n  if (doctype.name.toLowerCase() !== 'html') {\n    process.env.NODE_ENV !== \"production\" ? warning(\"\\n      Unexpected <!doctype> found: (\" + doctype.name + \")\\n\\n      \" + suffix + \"\\n    \") : void 0;\n  }\n\n  if (doctype.publicId !== '') {\n    process.env.NODE_ENV !== \"production\" ? warning(\"\\n      Unexpected <!doctype> publicId found: (\" + doctype.publicId + \")\\n      A html5 doctype does not have a publicId\\n\\n      \" + suffix + \"\\n    \") : void 0;\n  }\n};\n\nfunction useDev(useHook) {\n  if (process.env.NODE_ENV !== 'production') {\n    useHook();\n  }\n}\n\nfunction useDevSetupWarning(fn, inputs) {\n  useDev(function () {\n    useEffect(function () {\n      try {\n        fn();\n      } catch (e) {\n        error(\"\\n          A setup problem was encountered.\\n\\n          > \" + e.message + \"\\n        \");\n      }\n    }, inputs);\n  });\n}\n\nfunction useStartupValidation() {\n  useDevSetupWarning(function () {\n    checkReactVersion(peerDependencies.react, React.version);\n    checkDoctype(document);\n  }, []);\n}\n\nfunction usePrevious(current) {\n  var ref = useRef(current);\n  useEffect(function () {\n    ref.current = current;\n  });\n  return ref;\n}\n\nfunction create() {\n  var lock = null;\n\n  function isClaimed() {\n    return Boolean(lock);\n  }\n\n  function isActive(value) {\n    return value === lock;\n  }\n\n  function claim(abandon) {\n    !!lock ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot claim lock as it is already claimed') : invariant(false) : void 0;\n    var newLock = {\n      abandon: abandon\n    };\n    lock = newLock;\n    return newLock;\n  }\n\n  function release() {\n    !lock ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot release lock when there is no lock') : invariant(false) : void 0;\n    lock = null;\n  }\n\n  function tryAbandon() {\n    if (lock) {\n      lock.abandon();\n      release();\n    }\n  }\n\n  return {\n    isClaimed: isClaimed,\n    isActive: isActive,\n    claim: claim,\n    release: release,\n    tryAbandon: tryAbandon\n  };\n}\n\nvar tab = 9;\nvar enter = 13;\nvar escape = 27;\nvar space = 32;\nvar pageUp = 33;\nvar pageDown = 34;\nvar end = 35;\nvar home = 36;\nvar arrowLeft = 37;\nvar arrowUp = 38;\nvar arrowRight = 39;\nvar arrowDown = 40;\n\nvar _preventedKeys;\n\nvar preventedKeys = (_preventedKeys = {}, _preventedKeys[enter] = true, _preventedKeys[tab] = true, _preventedKeys);\n\nvar preventStandardKeyEvents = function (event) {\n  if (preventedKeys[event.keyCode]) {\n    event.preventDefault();\n  }\n};\n\nvar supportedEventName = function () {\n  var base = 'visibilitychange';\n\n  if (typeof document === 'undefined') {\n    return base;\n  }\n\n  var candidates = [base, \"ms\" + base, \"webkit\" + base, \"moz\" + base, \"o\" + base];\n  var supported = find(candidates, function (eventName) {\n    return \"on\" + eventName in document;\n  });\n  return supported || base;\n}();\n\nvar primaryButton = 0;\nvar sloppyClickThreshold = 5;\n\nfunction isSloppyClickThresholdExceeded(original, current) {\n  return Math.abs(current.x - original.x) >= sloppyClickThreshold || Math.abs(current.y - original.y) >= sloppyClickThreshold;\n}\n\nvar idle$1 = {\n  type: 'IDLE'\n};\n\nfunction getCaptureBindings(_ref) {\n  var cancel = _ref.cancel,\n      completed = _ref.completed,\n      getPhase = _ref.getPhase,\n      setPhase = _ref.setPhase;\n  return [{\n    eventName: 'mousemove',\n    fn: function fn(event) {\n      var button = event.button,\n          clientX = event.clientX,\n          clientY = event.clientY;\n\n      if (button !== primaryButton) {\n        return;\n      }\n\n      var point = {\n        x: clientX,\n        y: clientY\n      };\n      var phase = getPhase();\n\n      if (phase.type === 'DRAGGING') {\n        event.preventDefault();\n        phase.actions.move(point);\n        return;\n      }\n\n      !(phase.type === 'PENDING') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot be IDLE') : invariant(false) : void 0;\n      var pending = phase.point;\n\n      if (!isSloppyClickThresholdExceeded(pending, point)) {\n        return;\n      }\n\n      event.preventDefault();\n      var actions = phase.actions.fluidLift(point);\n      setPhase({\n        type: 'DRAGGING',\n        actions: actions\n      });\n    }\n  }, {\n    eventName: 'mouseup',\n    fn: function fn(event) {\n      var phase = getPhase();\n\n      if (phase.type !== 'DRAGGING') {\n        cancel();\n        return;\n      }\n\n      event.preventDefault();\n      phase.actions.drop({\n        shouldBlockNextClick: true\n      });\n      completed();\n    }\n  }, {\n    eventName: 'mousedown',\n    fn: function fn(event) {\n      if (getPhase().type === 'DRAGGING') {\n        event.preventDefault();\n      }\n\n      cancel();\n    }\n  }, {\n    eventName: 'keydown',\n    fn: function fn(event) {\n      var phase = getPhase();\n\n      if (phase.type === 'PENDING') {\n        cancel();\n        return;\n      }\n\n      if (event.keyCode === escape) {\n        event.preventDefault();\n        cancel();\n        return;\n      }\n\n      preventStandardKeyEvents(event);\n    }\n  }, {\n    eventName: 'resize',\n    fn: cancel\n  }, {\n    eventName: 'scroll',\n    options: {\n      passive: true,\n      capture: false\n    },\n    fn: function fn() {\n      if (getPhase().type === 'PENDING') {\n        cancel();\n      }\n    }\n  }, {\n    eventName: 'webkitmouseforcedown',\n    fn: function fn(event) {\n      var phase = getPhase();\n      !(phase.type !== 'IDLE') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Unexpected phase') : invariant(false) : void 0;\n\n      if (phase.actions.shouldRespectForcePress()) {\n        cancel();\n        return;\n      }\n\n      event.preventDefault();\n    }\n  }, {\n    eventName: supportedEventName,\n    fn: cancel\n  }];\n}\n\nfunction useMouseSensor(api) {\n  var phaseRef = useRef(idle$1);\n  var unbindEventsRef = useRef(noop);\n  var startCaptureBinding = useMemo(function () {\n    return {\n      eventName: 'mousedown',\n      fn: function onMouseDown(event) {\n        if (event.defaultPrevented) {\n          return;\n        }\n\n        if (event.button !== primaryButton) {\n          return;\n        }\n\n        if (event.ctrlKey || event.metaKey || event.shiftKey || event.altKey) {\n          return;\n        }\n\n        var draggableId = api.findClosestDraggableId(event);\n\n        if (!draggableId) {\n          return;\n        }\n\n        var actions = api.tryGetLock(draggableId, stop, {\n          sourceEvent: event\n        });\n\n        if (!actions) {\n          return;\n        }\n\n        event.preventDefault();\n        var point = {\n          x: event.clientX,\n          y: event.clientY\n        };\n        unbindEventsRef.current();\n        startPendingDrag(actions, point);\n      }\n    };\n  }, [api]);\n  var preventForcePressBinding = useMemo(function () {\n    return {\n      eventName: 'webkitmouseforcewillbegin',\n      fn: function fn(event) {\n        if (event.defaultPrevented) {\n          return;\n        }\n\n        var id = api.findClosestDraggableId(event);\n\n        if (!id) {\n          return;\n        }\n\n        var options = api.findOptionsForDraggable(id);\n\n        if (!options) {\n          return;\n        }\n\n        if (options.shouldRespectForcePress) {\n          return;\n        }\n\n        if (!api.canGetLock(id)) {\n          return;\n        }\n\n        event.preventDefault();\n      }\n    };\n  }, [api]);\n  var listenForCapture = useCallback(function listenForCapture() {\n    var options = {\n      passive: false,\n      capture: true\n    };\n    unbindEventsRef.current = bindEvents(window, [preventForcePressBinding, startCaptureBinding], options);\n  }, [preventForcePressBinding, startCaptureBinding]);\n  var stop = useCallback(function () {\n    var current = phaseRef.current;\n\n    if (current.type === 'IDLE') {\n      return;\n    }\n\n    phaseRef.current = idle$1;\n    unbindEventsRef.current();\n    listenForCapture();\n  }, [listenForCapture]);\n  var cancel = useCallback(function () {\n    var phase = phaseRef.current;\n    stop();\n\n    if (phase.type === 'DRAGGING') {\n      phase.actions.cancel({\n        shouldBlockNextClick: true\n      });\n    }\n\n    if (phase.type === 'PENDING') {\n      phase.actions.abort();\n    }\n  }, [stop]);\n  var bindCapturingEvents = useCallback(function bindCapturingEvents() {\n    var options = {\n      capture: true,\n      passive: false\n    };\n    var bindings = getCaptureBindings({\n      cancel: cancel,\n      completed: stop,\n      getPhase: function getPhase() {\n        return phaseRef.current;\n      },\n      setPhase: function setPhase(phase) {\n        phaseRef.current = phase;\n      }\n    });\n    unbindEventsRef.current = bindEvents(window, bindings, options);\n  }, [cancel, stop]);\n  var startPendingDrag = useCallback(function startPendingDrag(actions, point) {\n    !(phaseRef.current.type === 'IDLE') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Expected to move from IDLE to PENDING drag') : invariant(false) : void 0;\n    phaseRef.current = {\n      type: 'PENDING',\n      point: point,\n      actions: actions\n    };\n    bindCapturingEvents();\n  }, [bindCapturingEvents]);\n  useIsomorphicLayoutEffect(function mount() {\n    listenForCapture();\n    return function unmount() {\n      unbindEventsRef.current();\n    };\n  }, [listenForCapture]);\n}\n\nvar _scrollJumpKeys;\n\nfunction noop$1() {}\n\nvar scrollJumpKeys = (_scrollJumpKeys = {}, _scrollJumpKeys[pageDown] = true, _scrollJumpKeys[pageUp] = true, _scrollJumpKeys[home] = true, _scrollJumpKeys[end] = true, _scrollJumpKeys);\n\nfunction getDraggingBindings(actions, stop) {\n  function cancel() {\n    stop();\n    actions.cancel();\n  }\n\n  function drop() {\n    stop();\n    actions.drop();\n  }\n\n  return [{\n    eventName: 'keydown',\n    fn: function fn(event) {\n      if (event.keyCode === escape) {\n        event.preventDefault();\n        cancel();\n        return;\n      }\n\n      if (event.keyCode === space) {\n        event.preventDefault();\n        drop();\n        return;\n      }\n\n      if (event.keyCode === arrowDown) {\n        event.preventDefault();\n        actions.moveDown();\n        return;\n      }\n\n      if (event.keyCode === arrowUp) {\n        event.preventDefault();\n        actions.moveUp();\n        return;\n      }\n\n      if (event.keyCode === arrowRight) {\n        event.preventDefault();\n        actions.moveRight();\n        return;\n      }\n\n      if (event.keyCode === arrowLeft) {\n        event.preventDefault();\n        actions.moveLeft();\n        return;\n      }\n\n      if (scrollJumpKeys[event.keyCode]) {\n        event.preventDefault();\n        return;\n      }\n\n      preventStandardKeyEvents(event);\n    }\n  }, {\n    eventName: 'mousedown',\n    fn: cancel\n  }, {\n    eventName: 'mouseup',\n    fn: cancel\n  }, {\n    eventName: 'click',\n    fn: cancel\n  }, {\n    eventName: 'touchstart',\n    fn: cancel\n  }, {\n    eventName: 'resize',\n    fn: cancel\n  }, {\n    eventName: 'wheel',\n    fn: cancel,\n    options: {\n      passive: true\n    }\n  }, {\n    eventName: supportedEventName,\n    fn: cancel\n  }];\n}\n\nfunction useKeyboardSensor(api) {\n  var unbindEventsRef = useRef(noop$1);\n  var startCaptureBinding = useMemo(function () {\n    return {\n      eventName: 'keydown',\n      fn: function onKeyDown(event) {\n        if (event.defaultPrevented) {\n          return;\n        }\n\n        if (event.keyCode !== space) {\n          return;\n        }\n\n        var draggableId = api.findClosestDraggableId(event);\n\n        if (!draggableId) {\n          return;\n        }\n\n        var preDrag = api.tryGetLock(draggableId, stop, {\n          sourceEvent: event\n        });\n\n        if (!preDrag) {\n          return;\n        }\n\n        event.preventDefault();\n        var isCapturing = true;\n        var actions = preDrag.snapLift();\n        unbindEventsRef.current();\n\n        function stop() {\n          !isCapturing ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot stop capturing a keyboard drag when not capturing') : invariant(false) : void 0;\n          isCapturing = false;\n          unbindEventsRef.current();\n          listenForCapture();\n        }\n\n        unbindEventsRef.current = bindEvents(window, getDraggingBindings(actions, stop), {\n          capture: true,\n          passive: false\n        });\n      }\n    };\n  }, [api]);\n  var listenForCapture = useCallback(function tryStartCapture() {\n    var options = {\n      passive: false,\n      capture: true\n    };\n    unbindEventsRef.current = bindEvents(window, [startCaptureBinding], options);\n  }, [startCaptureBinding]);\n  useIsomorphicLayoutEffect(function mount() {\n    listenForCapture();\n    return function unmount() {\n      unbindEventsRef.current();\n    };\n  }, [listenForCapture]);\n}\n\nvar idle$2 = {\n  type: 'IDLE'\n};\nvar timeForLongPress = 120;\nvar forcePressThreshold = 0.15;\n\nfunction getWindowBindings(_ref) {\n  var cancel = _ref.cancel,\n      getPhase = _ref.getPhase;\n  return [{\n    eventName: 'orientationchange',\n    fn: cancel\n  }, {\n    eventName: 'resize',\n    fn: cancel\n  }, {\n    eventName: 'contextmenu',\n    fn: function fn(event) {\n      event.preventDefault();\n    }\n  }, {\n    eventName: 'keydown',\n    fn: function fn(event) {\n      if (getPhase().type !== 'DRAGGING') {\n        cancel();\n        return;\n      }\n\n      if (event.keyCode === escape) {\n        event.preventDefault();\n      }\n\n      cancel();\n    }\n  }, {\n    eventName: supportedEventName,\n    fn: cancel\n  }];\n}\n\nfunction getHandleBindings(_ref2) {\n  var cancel = _ref2.cancel,\n      completed = _ref2.completed,\n      getPhase = _ref2.getPhase;\n  return [{\n    eventName: 'touchmove',\n    options: {\n      capture: false\n    },\n    fn: function fn(event) {\n      var phase = getPhase();\n\n      if (phase.type !== 'DRAGGING') {\n        cancel();\n        return;\n      }\n\n      phase.hasMoved = true;\n      var _event$touches$ = event.touches[0],\n          clientX = _event$touches$.clientX,\n          clientY = _event$touches$.clientY;\n      var point = {\n        x: clientX,\n        y: clientY\n      };\n      event.preventDefault();\n      phase.actions.move(point);\n    }\n  }, {\n    eventName: 'touchend',\n    fn: function fn(event) {\n      var phase = getPhase();\n\n      if (phase.type !== 'DRAGGING') {\n        cancel();\n        return;\n      }\n\n      event.preventDefault();\n      phase.actions.drop({\n        shouldBlockNextClick: true\n      });\n      completed();\n    }\n  }, {\n    eventName: 'touchcancel',\n    fn: function fn(event) {\n      if (getPhase().type !== 'DRAGGING') {\n        cancel();\n        return;\n      }\n\n      event.preventDefault();\n      cancel();\n    }\n  }, {\n    eventName: 'touchforcechange',\n    fn: function fn(event) {\n      var phase = getPhase();\n      !(phase.type !== 'IDLE') ? process.env.NODE_ENV !== \"production\" ? invariant(false) : invariant(false) : void 0;\n      var touch = event.touches[0];\n\n      if (!touch) {\n        return;\n      }\n\n      var isForcePress = touch.force >= forcePressThreshold;\n\n      if (!isForcePress) {\n        return;\n      }\n\n      var shouldRespect = phase.actions.shouldRespectForcePress();\n\n      if (phase.type === 'PENDING') {\n        if (shouldRespect) {\n          cancel();\n        }\n\n        return;\n      }\n\n      if (shouldRespect) {\n        if (phase.hasMoved) {\n          event.preventDefault();\n          return;\n        }\n\n        cancel();\n        return;\n      }\n\n      event.preventDefault();\n    }\n  }, {\n    eventName: supportedEventName,\n    fn: cancel\n  }];\n}\n\nfunction useMouseSensor$1(api) {\n  var phaseRef = useRef(idle$2);\n  var unbindEventsRef = useRef(noop);\n  var getPhase = useCallback(function getPhase() {\n    return phaseRef.current;\n  }, []);\n  var setPhase = useCallback(function setPhase(phase) {\n    phaseRef.current = phase;\n  }, []);\n  var startCaptureBinding = useMemo(function () {\n    return {\n      eventName: 'touchstart',\n      fn: function onTouchStart(event) {\n        if (event.defaultPrevented) {\n          return;\n        }\n\n        var draggableId = api.findClosestDraggableId(event);\n\n        if (!draggableId) {\n          return;\n        }\n\n        var actions = api.tryGetLock(draggableId, stop, {\n          sourceEvent: event\n        });\n\n        if (!actions) {\n          return;\n        }\n\n        var touch = event.touches[0];\n        var clientX = touch.clientX,\n            clientY = touch.clientY;\n        var point = {\n          x: clientX,\n          y: clientY\n        };\n        unbindEventsRef.current();\n        startPendingDrag(actions, point);\n      }\n    };\n  }, [api]);\n  var listenForCapture = useCallback(function listenForCapture() {\n    var options = {\n      capture: true,\n      passive: false\n    };\n    unbindEventsRef.current = bindEvents(window, [startCaptureBinding], options);\n  }, [startCaptureBinding]);\n  var stop = useCallback(function () {\n    var current = phaseRef.current;\n\n    if (current.type === 'IDLE') {\n      return;\n    }\n\n    if (current.type === 'PENDING') {\n      clearTimeout(current.longPressTimerId);\n    }\n\n    setPhase(idle$2);\n    unbindEventsRef.current();\n    listenForCapture();\n  }, [listenForCapture, setPhase]);\n  var cancel = useCallback(function () {\n    var phase = phaseRef.current;\n    stop();\n\n    if (phase.type === 'DRAGGING') {\n      phase.actions.cancel({\n        shouldBlockNextClick: true\n      });\n    }\n\n    if (phase.type === 'PENDING') {\n      phase.actions.abort();\n    }\n  }, [stop]);\n  var bindCapturingEvents = useCallback(function bindCapturingEvents() {\n    var options = {\n      capture: true,\n      passive: false\n    };\n    var args = {\n      cancel: cancel,\n      completed: stop,\n      getPhase: getPhase\n    };\n    var unbindTarget = bindEvents(window, getHandleBindings(args), options);\n    var unbindWindow = bindEvents(window, getWindowBindings(args), options);\n\n    unbindEventsRef.current = function unbindAll() {\n      unbindTarget();\n      unbindWindow();\n    };\n  }, [cancel, getPhase, stop]);\n  var startDragging = useCallback(function startDragging() {\n    var phase = getPhase();\n    !(phase.type === 'PENDING') ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Cannot start dragging from phase \" + phase.type) : invariant(false) : void 0;\n    var actions = phase.actions.fluidLift(phase.point);\n    setPhase({\n      type: 'DRAGGING',\n      actions: actions,\n      hasMoved: false\n    });\n  }, [getPhase, setPhase]);\n  var startPendingDrag = useCallback(function startPendingDrag(actions, point) {\n    !(getPhase().type === 'IDLE') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Expected to move from IDLE to PENDING drag') : invariant(false) : void 0;\n    var longPressTimerId = setTimeout(startDragging, timeForLongPress);\n    setPhase({\n      type: 'PENDING',\n      point: point,\n      actions: actions,\n      longPressTimerId: longPressTimerId\n    });\n    bindCapturingEvents();\n  }, [bindCapturingEvents, getPhase, setPhase, startDragging]);\n  useIsomorphicLayoutEffect(function mount() {\n    listenForCapture();\n    return function unmount() {\n      unbindEventsRef.current();\n      var phase = getPhase();\n\n      if (phase.type === 'PENDING') {\n        clearTimeout(phase.longPressTimerId);\n        setPhase(idle$2);\n      }\n    };\n  }, [getPhase, listenForCapture, setPhase]);\n  useIsomorphicLayoutEffect(function webkitHack() {\n    var unbind = bindEvents(window, [{\n      eventName: 'touchmove',\n      fn: function fn() {},\n      options: {\n        capture: false,\n        passive: false\n      }\n    }]);\n    return unbind;\n  }, []);\n}\n\nfunction useValidateSensorHooks(sensorHooks) {\n  useDev(function () {\n    var previousRef = usePrevious(sensorHooks);\n    useDevSetupWarning(function () {\n      !(previousRef.current.length === sensorHooks.length) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot change the amount of sensor hooks after mounting') : invariant(false) : void 0;\n    });\n  });\n}\n\nvar interactiveTagNames = {\n  input: true,\n  button: true,\n  textarea: true,\n  select: true,\n  option: true,\n  optgroup: true,\n  video: true,\n  audio: true\n};\n\nfunction isAnInteractiveElement(parent, current) {\n  if (current == null) {\n    return false;\n  }\n\n  var hasAnInteractiveTag = Boolean(interactiveTagNames[current.tagName.toLowerCase()]);\n\n  if (hasAnInteractiveTag) {\n    return true;\n  }\n\n  var attribute = current.getAttribute('contenteditable');\n\n  if (attribute === 'true' || attribute === '') {\n    return true;\n  }\n\n  if (current === parent) {\n    return false;\n  }\n\n  return isAnInteractiveElement(parent, current.parentElement);\n}\n\nfunction isEventInInteractiveElement(draggable, event) {\n  var target = event.target;\n\n  if (!isHtmlElement(target)) {\n    return false;\n  }\n\n  return isAnInteractiveElement(draggable, target);\n}\n\nvar getBorderBoxCenterPosition = function (el) {\n  return getRect(el.getBoundingClientRect()).center;\n};\n\nfunction isElement(el) {\n  return el instanceof getWindowFromEl(el).Element;\n}\n\nvar supportedMatchesName = function () {\n  var base = 'matches';\n\n  if (typeof document === 'undefined') {\n    return base;\n  }\n\n  var candidates = [base, 'msMatchesSelector', 'webkitMatchesSelector'];\n  var value = find(candidates, function (name) {\n    return name in Element.prototype;\n  });\n  return value || base;\n}();\n\nfunction closestPonyfill(el, selector) {\n  if (el == null) {\n    return null;\n  }\n\n  if (el[supportedMatchesName](selector)) {\n    return el;\n  }\n\n  return closestPonyfill(el.parentElement, selector);\n}\n\nfunction closest$1(el, selector) {\n  if (el.closest) {\n    return el.closest(selector);\n  }\n\n  return closestPonyfill(el, selector);\n}\n\nfunction getSelector(contextId) {\n  return \"[\" + dragHandle.contextId + \"=\\\"\" + contextId + \"\\\"]\";\n}\n\nfunction findClosestDragHandleFromEvent(contextId, event) {\n  var target = event.target;\n\n  if (!isElement(target)) {\n    process.env.NODE_ENV !== \"production\" ? warning('event.target must be a Element') : void 0;\n    return null;\n  }\n\n  var selector = getSelector(contextId);\n  var handle = closest$1(target, selector);\n\n  if (!handle) {\n    return null;\n  }\n\n  if (!isHtmlElement(handle)) {\n    process.env.NODE_ENV !== \"production\" ? warning('drag handle must be a HTMLElement') : void 0;\n    return null;\n  }\n\n  return handle;\n}\n\nfunction tryGetClosestDraggableIdFromEvent(contextId, event) {\n  var handle = findClosestDragHandleFromEvent(contextId, event);\n\n  if (!handle) {\n    return null;\n  }\n\n  return handle.getAttribute(dragHandle.draggableId);\n}\n\nfunction findDraggable(contextId, draggableId) {\n  var selector = \"[\" + draggable.contextId + \"=\\\"\" + contextId + \"\\\"]\";\n  var possible = toArray(document.querySelectorAll(selector));\n  var draggable$1 = find(possible, function (el) {\n    return el.getAttribute(draggable.id) === draggableId;\n  });\n\n  if (!draggable$1) {\n    return null;\n  }\n\n  if (!isHtmlElement(draggable$1)) {\n    process.env.NODE_ENV !== \"production\" ? warning('Draggable element is not a HTMLElement') : void 0;\n    return null;\n  }\n\n  return draggable$1;\n}\n\nfunction preventDefault(event) {\n  event.preventDefault();\n}\n\nfunction _isActive(_ref) {\n  var expected = _ref.expected,\n      phase = _ref.phase,\n      isLockActive = _ref.isLockActive,\n      shouldWarn = _ref.shouldWarn;\n\n  if (!isLockActive()) {\n    if (shouldWarn) {\n      process.env.NODE_ENV !== \"production\" ? warning(\"\\n        Cannot perform action.\\n        The sensor no longer has an action lock.\\n\\n        Tips:\\n\\n        - Throw away your action handlers when forceStop() is called\\n        - Check actions.isActive() if you really need to\\n      \") : void 0;\n    }\n\n    return false;\n  }\n\n  if (expected !== phase) {\n    if (shouldWarn) {\n      process.env.NODE_ENV !== \"production\" ? warning(\"\\n        Cannot perform action.\\n        The actions you used belong to an outdated phase\\n\\n        Current phase: \" + expected + \"\\n        You called an action from outdated phase: \" + phase + \"\\n\\n        Tips:\\n\\n        - Do not use preDragActions actions after calling preDragActions.lift()\\n      \") : void 0;\n    }\n\n    return false;\n  }\n\n  return true;\n}\n\nfunction canStart(_ref2) {\n  var lockAPI = _ref2.lockAPI,\n      store = _ref2.store,\n      registry = _ref2.registry,\n      draggableId = _ref2.draggableId;\n\n  if (lockAPI.isClaimed()) {\n    return false;\n  }\n\n  var entry = registry.draggable.findById(draggableId);\n\n  if (!entry) {\n    process.env.NODE_ENV !== \"production\" ? warning(\"Unable to find draggable with id: \" + draggableId) : void 0;\n    return false;\n  }\n\n  if (!entry.options.isEnabled) {\n    return false;\n  }\n\n  if (!canStartDrag(store.getState(), draggableId)) {\n    return false;\n  }\n\n  return true;\n}\n\nfunction tryStart(_ref3) {\n  var lockAPI = _ref3.lockAPI,\n      contextId = _ref3.contextId,\n      store = _ref3.store,\n      registry = _ref3.registry,\n      draggableId = _ref3.draggableId,\n      forceSensorStop = _ref3.forceSensorStop,\n      sourceEvent = _ref3.sourceEvent;\n  var shouldStart = canStart({\n    lockAPI: lockAPI,\n    store: store,\n    registry: registry,\n    draggableId: draggableId\n  });\n\n  if (!shouldStart) {\n    return null;\n  }\n\n  var entry = registry.draggable.getById(draggableId);\n  var el = findDraggable(contextId, entry.descriptor.id);\n\n  if (!el) {\n    process.env.NODE_ENV !== \"production\" ? warning(\"Unable to find draggable element with id: \" + draggableId) : void 0;\n    return null;\n  }\n\n  if (sourceEvent && !entry.options.canDragInteractiveElements && isEventInInteractiveElement(el, sourceEvent)) {\n    return null;\n  }\n\n  var lock = lockAPI.claim(forceSensorStop || noop);\n  var phase = 'PRE_DRAG';\n\n  function getShouldRespectForcePress() {\n    return entry.options.shouldRespectForcePress;\n  }\n\n  function isLockActive() {\n    return lockAPI.isActive(lock);\n  }\n\n  function tryDispatch(expected, getAction) {\n    if (_isActive({\n      expected: expected,\n      phase: phase,\n      isLockActive: isLockActive,\n      shouldWarn: true\n    })) {\n      store.dispatch(getAction());\n    }\n  }\n\n  var tryDispatchWhenDragging = tryDispatch.bind(this, 'DRAGGING');\n\n  function lift$1(args) {\n    function completed() {\n      lockAPI.release();\n      phase = 'COMPLETED';\n    }\n\n    if (phase !== 'PRE_DRAG') {\n      completed();\n      !(phase === 'PRE_DRAG') ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Cannot lift in phase \" + phase) : invariant(false) : void 0;\n    }\n\n    store.dispatch(lift(args.liftActionArgs));\n    phase = 'DRAGGING';\n\n    function finish(reason, options) {\n      if (options === void 0) {\n        options = {\n          shouldBlockNextClick: false\n        };\n      }\n\n      args.cleanup();\n\n      if (options.shouldBlockNextClick) {\n        var unbind = bindEvents(window, [{\n          eventName: 'click',\n          fn: preventDefault,\n          options: {\n            once: true,\n            passive: false,\n            capture: true\n          }\n        }]);\n        setTimeout(unbind);\n      }\n\n      completed();\n      store.dispatch(drop({\n        reason: reason\n      }));\n    }\n\n    return _extends({\n      isActive: function isActive() {\n        return _isActive({\n          expected: 'DRAGGING',\n          phase: phase,\n          isLockActive: isLockActive,\n          shouldWarn: false\n        });\n      },\n      shouldRespectForcePress: getShouldRespectForcePress,\n      drop: function drop(options) {\n        return finish('DROP', options);\n      },\n      cancel: function cancel(options) {\n        return finish('CANCEL', options);\n      }\n    }, args.actions);\n  }\n\n  function fluidLift(clientSelection) {\n    var move$1 = rafSchd(function (client) {\n      tryDispatchWhenDragging(function () {\n        return move({\n          client: client\n        });\n      });\n    });\n    var api = lift$1({\n      liftActionArgs: {\n        id: draggableId,\n        clientSelection: clientSelection,\n        movementMode: 'FLUID'\n      },\n      cleanup: function cleanup() {\n        return move$1.cancel();\n      },\n      actions: {\n        move: move$1\n      }\n    });\n    return _extends({}, api, {\n      move: move$1\n    });\n  }\n\n  function snapLift() {\n    var actions = {\n      moveUp: function moveUp$1() {\n        return tryDispatchWhenDragging(moveUp);\n      },\n      moveRight: function moveRight$1() {\n        return tryDispatchWhenDragging(moveRight);\n      },\n      moveDown: function moveDown$1() {\n        return tryDispatchWhenDragging(moveDown);\n      },\n      moveLeft: function moveLeft$1() {\n        return tryDispatchWhenDragging(moveLeft);\n      }\n    };\n    return lift$1({\n      liftActionArgs: {\n        id: draggableId,\n        clientSelection: getBorderBoxCenterPosition(el),\n        movementMode: 'SNAP'\n      },\n      cleanup: noop,\n      actions: actions\n    });\n  }\n\n  function abortPreDrag() {\n    var shouldRelease = _isActive({\n      expected: 'PRE_DRAG',\n      phase: phase,\n      isLockActive: isLockActive,\n      shouldWarn: true\n    });\n\n    if (shouldRelease) {\n      lockAPI.release();\n    }\n  }\n\n  var preDrag = {\n    isActive: function isActive() {\n      return _isActive({\n        expected: 'PRE_DRAG',\n        phase: phase,\n        isLockActive: isLockActive,\n        shouldWarn: false\n      });\n    },\n    shouldRespectForcePress: getShouldRespectForcePress,\n    fluidLift: fluidLift,\n    snapLift: snapLift,\n    abort: abortPreDrag\n  };\n  return preDrag;\n}\n\nvar defaultSensors = [useMouseSensor, useKeyboardSensor, useMouseSensor$1];\n\nfunction useSensorMarshal(_ref4) {\n  var contextId = _ref4.contextId,\n      store = _ref4.store,\n      registry = _ref4.registry,\n      customSensors = _ref4.customSensors,\n      enableDefaultSensors = _ref4.enableDefaultSensors;\n  var useSensors = [].concat(enableDefaultSensors ? defaultSensors : [], customSensors || []);\n  var lockAPI = useState(function () {\n    return create();\n  })[0];\n  var tryAbandonLock = useCallback(function tryAbandonLock(previous, current) {\n    if (previous.isDragging && !current.isDragging) {\n      lockAPI.tryAbandon();\n    }\n  }, [lockAPI]);\n  useIsomorphicLayoutEffect(function listenToStore() {\n    var previous = store.getState();\n    var unsubscribe = store.subscribe(function () {\n      var current = store.getState();\n      tryAbandonLock(previous, current);\n      previous = current;\n    });\n    return unsubscribe;\n  }, [lockAPI, store, tryAbandonLock]);\n  useIsomorphicLayoutEffect(function () {\n    return lockAPI.tryAbandon;\n  }, [lockAPI.tryAbandon]);\n  var canGetLock = useCallback(function (draggableId) {\n    return canStart({\n      lockAPI: lockAPI,\n      registry: registry,\n      store: store,\n      draggableId: draggableId\n    });\n  }, [lockAPI, registry, store]);\n  var tryGetLock = useCallback(function (draggableId, forceStop, options) {\n    return tryStart({\n      lockAPI: lockAPI,\n      registry: registry,\n      contextId: contextId,\n      store: store,\n      draggableId: draggableId,\n      forceSensorStop: forceStop,\n      sourceEvent: options && options.sourceEvent ? options.sourceEvent : null\n    });\n  }, [contextId, lockAPI, registry, store]);\n  var findClosestDraggableId = useCallback(function (event) {\n    return tryGetClosestDraggableIdFromEvent(contextId, event);\n  }, [contextId]);\n  var findOptionsForDraggable = useCallback(function (id) {\n    var entry = registry.draggable.findById(id);\n    return entry ? entry.options : null;\n  }, [registry.draggable]);\n  var tryReleaseLock = useCallback(lockAPI.tryAbandon, [lockAPI]);\n  var isLockClaimed = useCallback(lockAPI.isClaimed, [lockAPI]);\n  var api = useMemo(function () {\n    return {\n      canGetLock: canGetLock,\n      tryGetLock: tryGetLock,\n      findClosestDraggableId: findClosestDraggableId,\n      findOptionsForDraggable: findOptionsForDraggable,\n      tryReleaseLock: tryReleaseLock,\n      isLockClaimed: isLockClaimed\n    };\n  }, [canGetLock, tryGetLock, findClosestDraggableId, findOptionsForDraggable, tryReleaseLock, isLockClaimed]);\n  useValidateSensorHooks(useSensors);\n\n  for (var i = 0; i < useSensors.length; i++) {\n    useSensors[i](api);\n  }\n}\n\nvar createResponders = function createResponders(props) {\n  return {\n    onBeforeCapture: props.onBeforeCapture,\n    onBeforeDragStart: props.onBeforeDragStart,\n    onDragStart: props.onDragStart,\n    onDragEnd: props.onDragEnd,\n    onDragUpdate: props.onDragUpdate\n  };\n};\n\nfunction getStore(lazyRef) {\n  !lazyRef.current ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Could not find store from lazy ref') : invariant(false) : void 0;\n  return lazyRef.current;\n}\n\nfunction App(props) {\n  var contextId = props.contextId,\n      setCallbacks = props.setCallbacks,\n      sensors = props.sensors,\n      nonce = props.nonce,\n      liftInstruction = props.liftInstruction;\n  var lazyStoreRef = useRef(null);\n  useStartupValidation();\n  var lastPropsRef = usePrevious(props);\n  var getResponders = useCallback(function () {\n    return createResponders(lastPropsRef.current);\n  }, [lastPropsRef]);\n  var announce = useAnnouncer(contextId);\n  var liftInstructionId = useLiftInstruction(contextId, liftInstruction);\n  var styleMarshal = useStyleMarshal(contextId, nonce);\n  var lazyDispatch = useCallback(function (action) {\n    getStore(lazyStoreRef).dispatch(action);\n  }, []);\n  var marshalCallbacks = useMemo(function () {\n    return bindActionCreators({\n      publishWhileDragging: publishWhileDragging,\n      updateDroppableScroll: updateDroppableScroll,\n      updateDroppableIsEnabled: updateDroppableIsEnabled,\n      updateDroppableIsCombineEnabled: updateDroppableIsCombineEnabled,\n      collectionStarting: collectionStarting\n    }, lazyDispatch);\n  }, [lazyDispatch]);\n  var registry = useRegistry();\n  var dimensionMarshal = useMemo(function () {\n    return createDimensionMarshal(registry, marshalCallbacks);\n  }, [registry, marshalCallbacks]);\n  var autoScroller = useMemo(function () {\n    return createAutoScroller(_extends({\n      scrollWindow: scrollWindow,\n      scrollDroppable: dimensionMarshal.scrollDroppable\n    }, bindActionCreators({\n      move: move\n    }, lazyDispatch)));\n  }, [dimensionMarshal.scrollDroppable, lazyDispatch]);\n  var focusMarshal = useFocusMarshal(contextId);\n  var store = useMemo(function () {\n    return createStore({\n      announce: announce,\n      autoScroller: autoScroller,\n      dimensionMarshal: dimensionMarshal,\n      focusMarshal: focusMarshal,\n      getResponders: getResponders,\n      styleMarshal: styleMarshal\n    });\n  }, [announce, autoScroller, dimensionMarshal, focusMarshal, getResponders, styleMarshal]);\n\n  if (process.env.NODE_ENV !== 'production') {\n    if (lazyStoreRef.current && lazyStoreRef.current !== store) {\n      process.env.NODE_ENV !== \"production\" ? warning('unexpected store change') : void 0;\n    }\n  }\n\n  lazyStoreRef.current = store;\n  var tryResetStore = useCallback(function () {\n    var current = getStore(lazyStoreRef);\n    var state = current.getState();\n\n    if (state.phase !== 'IDLE') {\n      current.dispatch(flush());\n    }\n  }, []);\n  var isDragging = useCallback(function () {\n    var state = getStore(lazyStoreRef).getState();\n    return state.isDragging || state.phase === 'DROP_ANIMATING';\n  }, []);\n  var appCallbacks = useMemo(function () {\n    return {\n      isDragging: isDragging,\n      tryAbort: tryResetStore\n    };\n  }, [isDragging, tryResetStore]);\n  setCallbacks(appCallbacks);\n  var getCanLift = useCallback(function (id) {\n    return canStartDrag(getStore(lazyStoreRef).getState(), id);\n  }, []);\n  var getIsMovementAllowed = useCallback(function () {\n    return isMovementAllowed(getStore(lazyStoreRef).getState());\n  }, []);\n  var appContext = useMemo(function () {\n    return {\n      marshal: dimensionMarshal,\n      focus: focusMarshal,\n      contextId: contextId,\n      canLift: getCanLift,\n      isMovementAllowed: getIsMovementAllowed,\n      liftInstructionId: liftInstructionId,\n      registry: registry\n    };\n  }, [contextId, dimensionMarshal, focusMarshal, getCanLift, getIsMovementAllowed, liftInstructionId, registry]);\n  useSensorMarshal({\n    contextId: contextId,\n    store: store,\n    registry: registry,\n    customSensors: sensors,\n    enableDefaultSensors: props.enableDefaultSensors !== false\n  });\n  useEffect(function () {\n    return tryResetStore;\n  }, [tryResetStore]);\n  return React.createElement(AppContext.Provider, {\n    value: appContext\n  }, React.createElement(Provider, {\n    context: StoreContext,\n    store: store\n  }, props.children));\n}\n\nvar instanceCount = 0;\n\nfunction resetServerContext() {\n  instanceCount = 0;\n}\n\nfunction DragDropContext(props) {\n  var contextId = useMemo(function () {\n    return \"\" + instanceCount++;\n  }, []);\n  var liftInstruction = props.liftInstruction || preset.liftInstruction;\n  return React.createElement(ErrorBoundary, null, function (setCallbacks) {\n    return React.createElement(App, {\n      nonce: props.nonce,\n      contextId: contextId,\n      setCallbacks: setCallbacks,\n      liftInstruction: liftInstruction,\n      enableDefaultSensors: props.enableDefaultSensors,\n      sensors: props.sensors,\n      onBeforeCapture: props.onBeforeCapture,\n      onBeforeDragStart: props.onBeforeDragStart,\n      onDragStart: props.onDragStart,\n      onDragUpdate: props.onDragUpdate,\n      onDragEnd: props.onDragEnd\n    }, props.children);\n  });\n}\n\nvar isEqual$1 = function isEqual(base) {\n  return function (value) {\n    return base === value;\n  };\n};\n\nvar isScroll = isEqual$1('scroll');\nvar isAuto = isEqual$1('auto');\nvar isVisible$1 = isEqual$1('visible');\n\nvar isEither = function isEither(overflow, fn) {\n  return fn(overflow.overflowX) || fn(overflow.overflowY);\n};\n\nvar isBoth = function isBoth(overflow, fn) {\n  return fn(overflow.overflowX) && fn(overflow.overflowY);\n};\n\nvar isElementScrollable = function isElementScrollable(el) {\n  var style = window.getComputedStyle(el);\n  var overflow = {\n    overflowX: style.overflowX,\n    overflowY: style.overflowY\n  };\n  return isEither(overflow, isScroll) || isEither(overflow, isAuto);\n};\n\nvar isBodyScrollable = function isBodyScrollable() {\n  if (process.env.NODE_ENV === 'production') {\n    return false;\n  }\n\n  var body = getBodyElement();\n  var html = document.documentElement;\n  !html ? process.env.NODE_ENV !== \"production\" ? invariant(false) : invariant(false) : void 0;\n\n  if (!isElementScrollable(body)) {\n    return false;\n  }\n\n  var htmlStyle = window.getComputedStyle(html);\n  var htmlOverflow = {\n    overflowX: htmlStyle.overflowX,\n    overflowY: htmlStyle.overflowY\n  };\n\n  if (isBoth(htmlOverflow, isVisible$1)) {\n    return false;\n  }\n\n  process.env.NODE_ENV !== \"production\" ? warning(\"\\n    We have detected that your <body> element might be a scroll container.\\n    We have found no reliable way of detecting whether the <body> element is a scroll container.\\n    Under most circumstances a <body> scroll bar will be on the <html> element (document.documentElement)\\n\\n    Because we cannot determine if the <body> is a scroll container, and generally it is not one,\\n    we will be treating the <body> as *not* a scroll container\\n\\n    More information: https://github.com/atlassian/react-beautiful-dnd/blob/master/docs/guides/how-we-detect-scroll-containers.md\\n  \") : void 0;\n  return false;\n};\n\nvar getClosestScrollable = function getClosestScrollable(el) {\n  if (el == null) {\n    return null;\n  }\n\n  if (el === document.body) {\n    return isBodyScrollable() ? el : null;\n  }\n\n  if (el === document.documentElement) {\n    return null;\n  }\n\n  if (!isElementScrollable(el)) {\n    return getClosestScrollable(el.parentElement);\n  }\n\n  return el;\n};\n\nvar checkForNestedScrollContainers = function (scrollable) {\n  if (!scrollable) {\n    return;\n  }\n\n  var anotherScrollParent = getClosestScrollable(scrollable.parentElement);\n\n  if (!anotherScrollParent) {\n    return;\n  }\n\n  process.env.NODE_ENV !== \"production\" ? warning(\"\\n    Droppable: unsupported nested scroll container detected.\\n    A Droppable can only have one scroll parent (which can be itself)\\n    Nested scroll containers are currently not supported.\\n\\n    We hope to support nested scroll containers soon: https://github.com/atlassian/react-beautiful-dnd/issues/131\\n  \") : void 0;\n};\n\nvar getScroll$1 = function (el) {\n  return {\n    x: el.scrollLeft,\n    y: el.scrollTop\n  };\n};\n\nvar getIsFixed = function getIsFixed(el) {\n  if (!el) {\n    return false;\n  }\n\n  var style = window.getComputedStyle(el);\n\n  if (style.position === 'fixed') {\n    return true;\n  }\n\n  return getIsFixed(el.parentElement);\n};\n\nvar getEnv = function (start) {\n  var closestScrollable = getClosestScrollable(start);\n  var isFixedOnPage = getIsFixed(start);\n  return {\n    closestScrollable: closestScrollable,\n    isFixedOnPage: isFixedOnPage\n  };\n};\n\nvar getDroppableDimension = function (_ref) {\n  var descriptor = _ref.descriptor,\n      isEnabled = _ref.isEnabled,\n      isCombineEnabled = _ref.isCombineEnabled,\n      isFixedOnPage = _ref.isFixedOnPage,\n      direction = _ref.direction,\n      client = _ref.client,\n      page = _ref.page,\n      closest = _ref.closest;\n\n  var frame = function () {\n    if (!closest) {\n      return null;\n    }\n\n    var scrollSize = closest.scrollSize,\n        frameClient = closest.client;\n    var maxScroll = getMaxScroll({\n      scrollHeight: scrollSize.scrollHeight,\n      scrollWidth: scrollSize.scrollWidth,\n      height: frameClient.paddingBox.height,\n      width: frameClient.paddingBox.width\n    });\n    return {\n      pageMarginBox: closest.page.marginBox,\n      frameClient: frameClient,\n      scrollSize: scrollSize,\n      shouldClipSubject: closest.shouldClipSubject,\n      scroll: {\n        initial: closest.scroll,\n        current: closest.scroll,\n        max: maxScroll,\n        diff: {\n          value: origin,\n          displacement: origin\n        }\n      }\n    };\n  }();\n\n  var axis = direction === 'vertical' ? vertical : horizontal;\n  var subject = getSubject({\n    page: page,\n    withPlaceholder: null,\n    axis: axis,\n    frame: frame\n  });\n  var dimension = {\n    descriptor: descriptor,\n    isCombineEnabled: isCombineEnabled,\n    isFixedOnPage: isFixedOnPage,\n    axis: axis,\n    isEnabled: isEnabled,\n    client: client,\n    page: page,\n    frame: frame,\n    subject: subject\n  };\n  return dimension;\n};\n\nvar getClient = function getClient(targetRef, closestScrollable) {\n  var base = getBox(targetRef);\n\n  if (!closestScrollable) {\n    return base;\n  }\n\n  if (targetRef !== closestScrollable) {\n    return base;\n  }\n\n  var top = base.paddingBox.top - closestScrollable.scrollTop;\n  var left = base.paddingBox.left - closestScrollable.scrollLeft;\n  var bottom = top + closestScrollable.scrollHeight;\n  var right = left + closestScrollable.scrollWidth;\n  var paddingBox = {\n    top: top,\n    right: right,\n    bottom: bottom,\n    left: left\n  };\n  var borderBox = expand(paddingBox, base.border);\n  var client = createBox({\n    borderBox: borderBox,\n    margin: base.margin,\n    border: base.border,\n    padding: base.padding\n  });\n  return client;\n};\n\nvar getDimension = function (_ref) {\n  var ref = _ref.ref,\n      descriptor = _ref.descriptor,\n      env = _ref.env,\n      windowScroll = _ref.windowScroll,\n      direction = _ref.direction,\n      isDropDisabled = _ref.isDropDisabled,\n      isCombineEnabled = _ref.isCombineEnabled,\n      shouldClipSubject = _ref.shouldClipSubject;\n  var closestScrollable = env.closestScrollable;\n  var client = getClient(ref, closestScrollable);\n  var page = withScroll(client, windowScroll);\n\n  var closest = function () {\n    if (!closestScrollable) {\n      return null;\n    }\n\n    var frameClient = getBox(closestScrollable);\n    var scrollSize = {\n      scrollHeight: closestScrollable.scrollHeight,\n      scrollWidth: closestScrollable.scrollWidth\n    };\n    return {\n      client: frameClient,\n      page: withScroll(frameClient, windowScroll),\n      scroll: getScroll$1(closestScrollable),\n      scrollSize: scrollSize,\n      shouldClipSubject: shouldClipSubject\n    };\n  }();\n\n  var dimension = getDroppableDimension({\n    descriptor: descriptor,\n    isEnabled: !isDropDisabled,\n    isCombineEnabled: isCombineEnabled,\n    isFixedOnPage: env.isFixedOnPage,\n    direction: direction,\n    client: client,\n    page: page,\n    closest: closest\n  });\n  return dimension;\n};\n\nvar immediate = {\n  passive: false\n};\nvar delayed = {\n  passive: true\n};\n\nvar getListenerOptions = function (options) {\n  return options.shouldPublishImmediately ? immediate : delayed;\n};\n\nfunction useRequiredContext(Context) {\n  var result = useContext(Context);\n  !result ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Could not find required context') : invariant(false) : void 0;\n  return result;\n}\n\nvar count = 0;\n\nfunction useUniqueId(prefix) {\n  var countRef = useRef(count++);\n  return prefix + \"::\" + countRef.current;\n}\n\nvar getClosestScrollableFromDrag = function getClosestScrollableFromDrag(dragging) {\n  return dragging && dragging.env.closestScrollable || null;\n};\n\nfunction useDroppablePublisher(args) {\n  var whileDraggingRef = useRef(null);\n  var appContext = useRequiredContext(AppContext);\n  var uniqueId = useUniqueId('droppable');\n  var registry = appContext.registry,\n      marshal = appContext.marshal;\n  var previousRef = usePrevious(args);\n  var descriptor = useMemo(function () {\n    return {\n      id: args.droppableId,\n      type: args.type,\n      mode: args.mode\n    };\n  }, [args.droppableId, args.mode, args.type]);\n  var publishedDescriptorRef = useRef(descriptor);\n  var memoizedUpdateScroll = useMemo(function () {\n    return memoizeOne(function (x, y) {\n      !whileDraggingRef.current ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Can only update scroll when dragging') : invariant(false) : void 0;\n      var scroll = {\n        x: x,\n        y: y\n      };\n      marshal.updateDroppableScroll(descriptor.id, scroll);\n    });\n  }, [descriptor.id, marshal]);\n  var getClosestScroll = useCallback(function () {\n    var dragging = whileDraggingRef.current;\n\n    if (!dragging || !dragging.env.closestScrollable) {\n      return origin;\n    }\n\n    return getScroll$1(dragging.env.closestScrollable);\n  }, []);\n  var updateScroll = useCallback(function () {\n    var scroll = getClosestScroll();\n    memoizedUpdateScroll(scroll.x, scroll.y);\n  }, [getClosestScroll, memoizedUpdateScroll]);\n  var scheduleScrollUpdate = useMemo(function () {\n    return rafSchd(updateScroll);\n  }, [updateScroll]);\n  var onClosestScroll = useCallback(function () {\n    var dragging = whileDraggingRef.current;\n    var closest = getClosestScrollableFromDrag(dragging);\n    !(dragging && closest) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Could not find scroll options while scrolling') : invariant(false) : void 0;\n    var options = dragging.scrollOptions;\n\n    if (options.shouldPublishImmediately) {\n      updateScroll();\n      return;\n    }\n\n    scheduleScrollUpdate();\n  }, [scheduleScrollUpdate, updateScroll]);\n  var getDimensionAndWatchScroll = useCallback(function (windowScroll, options) {\n    !!whileDraggingRef.current ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot collect a droppable while a drag is occurring') : invariant(false) : void 0;\n    var previous = previousRef.current;\n    var ref = previous.getDroppableRef();\n    !ref ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot collect without a droppable ref') : invariant(false) : void 0;\n    var env = getEnv(ref);\n    var dragging = {\n      ref: ref,\n      descriptor: descriptor,\n      env: env,\n      scrollOptions: options\n    };\n    whileDraggingRef.current = dragging;\n    var dimension = getDimension({\n      ref: ref,\n      descriptor: descriptor,\n      env: env,\n      windowScroll: windowScroll,\n      direction: previous.direction,\n      isDropDisabled: previous.isDropDisabled,\n      isCombineEnabled: previous.isCombineEnabled,\n      shouldClipSubject: !previous.ignoreContainerClipping\n    });\n    var scrollable = env.closestScrollable;\n\n    if (scrollable) {\n      scrollable.setAttribute(scrollContainer.contextId, appContext.contextId);\n      scrollable.addEventListener('scroll', onClosestScroll, getListenerOptions(dragging.scrollOptions));\n\n      if (process.env.NODE_ENV !== 'production') {\n        checkForNestedScrollContainers(scrollable);\n      }\n    }\n\n    return dimension;\n  }, [appContext.contextId, descriptor, onClosestScroll, previousRef]);\n  var getScrollWhileDragging = useCallback(function () {\n    var dragging = whileDraggingRef.current;\n    var closest = getClosestScrollableFromDrag(dragging);\n    !(dragging && closest) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Can only recollect Droppable client for Droppables that have a scroll container') : invariant(false) : void 0;\n    return getScroll$1(closest);\n  }, []);\n  var dragStopped = useCallback(function () {\n    var dragging = whileDraggingRef.current;\n    !dragging ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot stop drag when no active drag') : invariant(false) : void 0;\n    var closest = getClosestScrollableFromDrag(dragging);\n    whileDraggingRef.current = null;\n\n    if (!closest) {\n      return;\n    }\n\n    scheduleScrollUpdate.cancel();\n    closest.removeAttribute(scrollContainer.contextId);\n    closest.removeEventListener('scroll', onClosestScroll, getListenerOptions(dragging.scrollOptions));\n  }, [onClosestScroll, scheduleScrollUpdate]);\n  var scroll = useCallback(function (change) {\n    var dragging = whileDraggingRef.current;\n    !dragging ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot scroll when there is no drag') : invariant(false) : void 0;\n    var closest = getClosestScrollableFromDrag(dragging);\n    !closest ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot scroll a droppable with no closest scrollable') : invariant(false) : void 0;\n    closest.scrollTop += change.y;\n    closest.scrollLeft += change.x;\n  }, []);\n  var callbacks = useMemo(function () {\n    return {\n      getDimensionAndWatchScroll: getDimensionAndWatchScroll,\n      getScrollWhileDragging: getScrollWhileDragging,\n      dragStopped: dragStopped,\n      scroll: scroll\n    };\n  }, [dragStopped, getDimensionAndWatchScroll, getScrollWhileDragging, scroll]);\n  var entry = useMemo(function () {\n    return {\n      uniqueId: uniqueId,\n      descriptor: descriptor,\n      callbacks: callbacks\n    };\n  }, [callbacks, descriptor, uniqueId]);\n  useIsomorphicLayoutEffect(function () {\n    publishedDescriptorRef.current = entry.descriptor;\n    registry.droppable.register(entry);\n    return function () {\n      if (whileDraggingRef.current) {\n        process.env.NODE_ENV !== \"production\" ? warning('Unsupported: changing the droppableId or type of a Droppable during a drag') : void 0;\n        dragStopped();\n      }\n\n      registry.droppable.unregister(entry);\n    };\n  }, [callbacks, descriptor, dragStopped, entry, marshal, registry.droppable]);\n  useIsomorphicLayoutEffect(function () {\n    if (!whileDraggingRef.current) {\n      return;\n    }\n\n    marshal.updateDroppableIsEnabled(publishedDescriptorRef.current.id, !args.isDropDisabled);\n  }, [args.isDropDisabled, marshal]);\n  useIsomorphicLayoutEffect(function () {\n    if (!whileDraggingRef.current) {\n      return;\n    }\n\n    marshal.updateDroppableIsCombineEnabled(publishedDescriptorRef.current.id, args.isCombineEnabled);\n  }, [args.isCombineEnabled, marshal]);\n}\n\nfunction noop$2() {}\n\nvar empty = {\n  width: 0,\n  height: 0,\n  margin: noSpacing\n};\n\nvar getSize = function getSize(_ref) {\n  var isAnimatingOpenOnMount = _ref.isAnimatingOpenOnMount,\n      placeholder = _ref.placeholder,\n      animate = _ref.animate;\n\n  if (isAnimatingOpenOnMount) {\n    return empty;\n  }\n\n  if (animate === 'close') {\n    return empty;\n  }\n\n  return {\n    height: placeholder.client.borderBox.height,\n    width: placeholder.client.borderBox.width,\n    margin: placeholder.client.margin\n  };\n};\n\nvar getStyle = function getStyle(_ref2) {\n  var isAnimatingOpenOnMount = _ref2.isAnimatingOpenOnMount,\n      placeholder = _ref2.placeholder,\n      animate = _ref2.animate;\n  var size = getSize({\n    isAnimatingOpenOnMount: isAnimatingOpenOnMount,\n    placeholder: placeholder,\n    animate: animate\n  });\n  return {\n    display: placeholder.display,\n    boxSizing: 'border-box',\n    width: size.width,\n    height: size.height,\n    marginTop: size.margin.top,\n    marginRight: size.margin.right,\n    marginBottom: size.margin.bottom,\n    marginLeft: size.margin.left,\n    flexShrink: '0',\n    flexGrow: '0',\n    pointerEvents: 'none',\n    transition: animate !== 'none' ? transitions.placeholder : null\n  };\n};\n\nfunction Placeholder(props) {\n  var animateOpenTimerRef = useRef(null);\n  var tryClearAnimateOpenTimer = useCallback(function () {\n    if (!animateOpenTimerRef.current) {\n      return;\n    }\n\n    clearTimeout(animateOpenTimerRef.current);\n    animateOpenTimerRef.current = null;\n  }, []);\n  var animate = props.animate,\n      onTransitionEnd = props.onTransitionEnd,\n      onClose = props.onClose,\n      contextId = props.contextId;\n\n  var _useState = useState(props.animate === 'open'),\n      isAnimatingOpenOnMount = _useState[0],\n      setIsAnimatingOpenOnMount = _useState[1];\n\n  useEffect(function () {\n    if (!isAnimatingOpenOnMount) {\n      return noop$2;\n    }\n\n    if (animate !== 'open') {\n      tryClearAnimateOpenTimer();\n      setIsAnimatingOpenOnMount(false);\n      return noop$2;\n    }\n\n    if (animateOpenTimerRef.current) {\n      return noop$2;\n    }\n\n    animateOpenTimerRef.current = setTimeout(function () {\n      animateOpenTimerRef.current = null;\n      setIsAnimatingOpenOnMount(false);\n    });\n    return tryClearAnimateOpenTimer;\n  }, [animate, isAnimatingOpenOnMount, tryClearAnimateOpenTimer]);\n  var onSizeChangeEnd = useCallback(function (event) {\n    if (event.propertyName !== 'height') {\n      return;\n    }\n\n    onTransitionEnd();\n\n    if (animate === 'close') {\n      onClose();\n    }\n  }, [animate, onClose, onTransitionEnd]);\n  var style = getStyle({\n    isAnimatingOpenOnMount: isAnimatingOpenOnMount,\n    animate: props.animate,\n    placeholder: props.placeholder\n  });\n  return React.createElement(props.placeholder.tagName, {\n    style: style,\n    'data-rbd-placeholder-context-id': contextId,\n    onTransitionEnd: onSizeChangeEnd,\n    ref: props.innerRef\n  });\n}\n\nvar Placeholder$1 = React.memo(Placeholder);\nvar DroppableContext = React.createContext(null);\n\nfunction checkIsValidInnerRef(el) {\n  !(el && isHtmlElement(el)) ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"\\n    provided.innerRef has not been provided with a HTMLElement.\\n\\n    You can find a guide on using the innerRef callback functions at:\\n    https://github.com/atlassian/react-beautiful-dnd/blob/master/docs/guides/using-inner-ref.md\\n  \") : invariant(false) : void 0;\n}\n\nfunction isBoolean(value) {\n  return typeof value === 'boolean';\n}\n\nfunction runChecks(args, checks) {\n  checks.forEach(function (check) {\n    return check(args);\n  });\n}\n\nvar shared = [function required(_ref) {\n  var props = _ref.props;\n  !props.droppableId ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'A Droppable requires a droppableId prop') : invariant(false) : void 0;\n  !(typeof props.droppableId === 'string') ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"A Droppable requires a [string] droppableId. Provided: [\" + typeof props.droppableId + \"]\") : invariant(false) : void 0;\n}, function _boolean(_ref2) {\n  var props = _ref2.props;\n  !isBoolean(props.isDropDisabled) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'isDropDisabled must be a boolean') : invariant(false) : void 0;\n  !isBoolean(props.isCombineEnabled) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'isCombineEnabled must be a boolean') : invariant(false) : void 0;\n  !isBoolean(props.ignoreContainerClipping) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'ignoreContainerClipping must be a boolean') : invariant(false) : void 0;\n}, function ref(_ref3) {\n  var getDroppableRef = _ref3.getDroppableRef;\n  checkIsValidInnerRef(getDroppableRef());\n}];\nvar standard = [function placeholder(_ref4) {\n  var props = _ref4.props,\n      getPlaceholderRef = _ref4.getPlaceholderRef;\n\n  if (!props.placeholder) {\n    return;\n  }\n\n  var ref = getPlaceholderRef();\n\n  if (ref) {\n    return;\n  }\n\n  process.env.NODE_ENV !== \"production\" ? warning(\"\\n      Droppable setup issue [droppableId: \\\"\" + props.droppableId + \"\\\"]:\\n      DroppableProvided > placeholder could not be found.\\n\\n      Please be sure to add the {provided.placeholder} React Node as a child of your Droppable.\\n      More information: https://github.com/atlassian/react-beautiful-dnd/blob/master/docs/api/droppable.md\\n    \") : void 0;\n}];\nvar virtual = [function hasClone(_ref5) {\n  var props = _ref5.props;\n  !props.renderClone ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Must provide a clone render function (renderClone) for virtual lists') : invariant(false) : void 0;\n}, function hasNoPlaceholder(_ref6) {\n  var getPlaceholderRef = _ref6.getPlaceholderRef;\n  !!getPlaceholderRef() ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Expected virtual list to not have a placeholder') : invariant(false) : void 0;\n}];\n\nfunction useValidation(args) {\n  useDevSetupWarning(function () {\n    runChecks(args, shared);\n\n    if (args.props.mode === 'standard') {\n      runChecks(args, standard);\n    }\n\n    if (args.props.mode === 'virtual') {\n      runChecks(args, virtual);\n    }\n  });\n}\n\nvar AnimateInOut = function (_React$PureComponent) {\n  _inheritsLoose(AnimateInOut, _React$PureComponent);\n\n  function AnimateInOut() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _React$PureComponent.call.apply(_React$PureComponent, [this].concat(args)) || this;\n    _this.state = {\n      isVisible: Boolean(_this.props.on),\n      data: _this.props.on,\n      animate: _this.props.shouldAnimate && _this.props.on ? 'open' : 'none'\n    };\n\n    _this.onClose = function () {\n      if (_this.state.animate !== 'close') {\n        return;\n      }\n\n      _this.setState({\n        isVisible: false\n      });\n    };\n\n    return _this;\n  }\n\n  AnimateInOut.getDerivedStateFromProps = function getDerivedStateFromProps(props, state) {\n    if (!props.shouldAnimate) {\n      return {\n        isVisible: Boolean(props.on),\n        data: props.on,\n        animate: 'none'\n      };\n    }\n\n    if (props.on) {\n      return {\n        isVisible: true,\n        data: props.on,\n        animate: 'open'\n      };\n    }\n\n    if (state.isVisible) {\n      return {\n        isVisible: true,\n        data: state.data,\n        animate: 'close'\n      };\n    }\n\n    return {\n      isVisible: false,\n      animate: 'close',\n      data: null\n    };\n  };\n\n  var _proto = AnimateInOut.prototype;\n\n  _proto.render = function render() {\n    if (!this.state.isVisible) {\n      return null;\n    }\n\n    var provided = {\n      onClose: this.onClose,\n      data: this.state.data,\n      animate: this.state.animate\n    };\n    return this.props.children(provided);\n  };\n\n  return AnimateInOut;\n}(React.PureComponent);\n\nvar zIndexOptions = {\n  dragging: 5000,\n  dropAnimating: 4500\n};\n\nvar getDraggingTransition = function getDraggingTransition(shouldAnimateDragMovement, dropping) {\n  if (dropping) {\n    return transitions.drop(dropping.duration);\n  }\n\n  if (shouldAnimateDragMovement) {\n    return transitions.snap;\n  }\n\n  return transitions.fluid;\n};\n\nvar getDraggingOpacity = function getDraggingOpacity(isCombining, isDropAnimating) {\n  if (!isCombining) {\n    return null;\n  }\n\n  return isDropAnimating ? combine.opacity.drop : combine.opacity.combining;\n};\n\nvar getShouldDraggingAnimate = function getShouldDraggingAnimate(dragging) {\n  if (dragging.forceShouldAnimate != null) {\n    return dragging.forceShouldAnimate;\n  }\n\n  return dragging.mode === 'SNAP';\n};\n\nfunction getDraggingStyle(dragging) {\n  var dimension = dragging.dimension;\n  var box = dimension.client;\n  var offset = dragging.offset,\n      combineWith = dragging.combineWith,\n      dropping = dragging.dropping;\n  var isCombining = Boolean(combineWith);\n  var shouldAnimate = getShouldDraggingAnimate(dragging);\n  var isDropAnimating = Boolean(dropping);\n  var transform = isDropAnimating ? transforms.drop(offset, isCombining) : transforms.moveTo(offset);\n  var style = {\n    position: 'fixed',\n    top: box.marginBox.top,\n    left: box.marginBox.left,\n    boxSizing: 'border-box',\n    width: box.borderBox.width,\n    height: box.borderBox.height,\n    transition: getDraggingTransition(shouldAnimate, dropping),\n    transform: transform,\n    opacity: getDraggingOpacity(isCombining, isDropAnimating),\n    zIndex: isDropAnimating ? zIndexOptions.dropAnimating : zIndexOptions.dragging,\n    pointerEvents: 'none'\n  };\n  return style;\n}\n\nfunction getSecondaryStyle(secondary) {\n  return {\n    transform: transforms.moveTo(secondary.offset),\n    transition: secondary.shouldAnimateDisplacement ? null : 'none'\n  };\n}\n\nfunction getStyle$1(mapped) {\n  return mapped.type === 'DRAGGING' ? getDraggingStyle(mapped) : getSecondaryStyle(mapped);\n}\n\nfunction getDimension$1(descriptor, el, windowScroll) {\n  if (windowScroll === void 0) {\n    windowScroll = origin;\n  }\n\n  var computedStyles = window.getComputedStyle(el);\n  var borderBox = el.getBoundingClientRect();\n  var client = calculateBox(borderBox, computedStyles);\n  var page = withScroll(client, windowScroll);\n  var placeholder = {\n    client: client,\n    tagName: el.tagName.toLowerCase(),\n    display: computedStyles.display\n  };\n  var displaceBy = {\n    x: client.marginBox.width,\n    y: client.marginBox.height\n  };\n  var dimension = {\n    descriptor: descriptor,\n    placeholder: placeholder,\n    displaceBy: displaceBy,\n    client: client,\n    page: page\n  };\n  return dimension;\n}\n\nfunction useDraggablePublisher(args) {\n  var uniqueId = useUniqueId('draggable');\n  var descriptor = args.descriptor,\n      registry = args.registry,\n      getDraggableRef = args.getDraggableRef,\n      canDragInteractiveElements = args.canDragInteractiveElements,\n      shouldRespectForcePress = args.shouldRespectForcePress,\n      isEnabled = args.isEnabled;\n  var options = useMemo(function () {\n    return {\n      canDragInteractiveElements: canDragInteractiveElements,\n      shouldRespectForcePress: shouldRespectForcePress,\n      isEnabled: isEnabled\n    };\n  }, [canDragInteractiveElements, isEnabled, shouldRespectForcePress]);\n  var getDimension = useCallback(function (windowScroll) {\n    var el = getDraggableRef();\n    !el ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot get dimension when no ref is set') : invariant(false) : void 0;\n    return getDimension$1(descriptor, el, windowScroll);\n  }, [descriptor, getDraggableRef]);\n  var entry = useMemo(function () {\n    return {\n      uniqueId: uniqueId,\n      descriptor: descriptor,\n      options: options,\n      getDimension: getDimension\n    };\n  }, [descriptor, getDimension, options, uniqueId]);\n  var publishedRef = useRef(entry);\n  var isFirstPublishRef = useRef(true);\n  useIsomorphicLayoutEffect(function () {\n    registry.draggable.register(publishedRef.current);\n    return function () {\n      return registry.draggable.unregister(publishedRef.current);\n    };\n  }, [registry.draggable]);\n  useIsomorphicLayoutEffect(function () {\n    if (isFirstPublishRef.current) {\n      isFirstPublishRef.current = false;\n      return;\n    }\n\n    var last = publishedRef.current;\n    publishedRef.current = entry;\n    registry.draggable.update(entry, last);\n  }, [entry, registry.draggable]);\n}\n\nfunction useValidation$1(props, contextId, getRef) {\n  useDevSetupWarning(function () {\n    function prefix(id) {\n      return \"Draggable[id: \" + id + \"]: \";\n    }\n\n    var id = props.draggableId;\n    !id ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Draggable requires a draggableId') : invariant(false) : void 0;\n    !(typeof id === 'string') ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Draggable requires a [string] draggableId.\\n      Provided: [type: \" + typeof id + \"] (value: \" + id + \")\") : invariant(false) : void 0;\n    !_Number$isInteger(props.index) ? process.env.NODE_ENV !== \"production\" ? invariant(false, prefix(id) + \" requires an integer index prop\") : invariant(false) : void 0;\n\n    if (props.mapped.type === 'DRAGGING') {\n      return;\n    }\n\n    checkIsValidInnerRef(getRef());\n\n    if (props.isEnabled) {\n      !findDragHandle(contextId, id) ? process.env.NODE_ENV !== \"production\" ? invariant(false, prefix(id) + \" Unable to find drag handle\") : invariant(false) : void 0;\n    }\n  });\n}\n\nfunction useClonePropValidation(isClone) {\n  useDev(function () {\n    var initialRef = useRef(isClone);\n    useDevSetupWarning(function () {\n      !(isClone === initialRef.current) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Draggable isClone prop value changed during component life') : invariant(false) : void 0;\n    }, [isClone]);\n  });\n}\n\nfunction preventHtml5Dnd(event) {\n  event.preventDefault();\n}\n\nfunction Draggable(props) {\n  var ref = useRef(null);\n  var setRef = useCallback(function (el) {\n    ref.current = el;\n  }, []);\n  var getRef = useCallback(function () {\n    return ref.current;\n  }, []);\n\n  var _useRequiredContext = useRequiredContext(AppContext),\n      contextId = _useRequiredContext.contextId,\n      liftInstructionId = _useRequiredContext.liftInstructionId,\n      registry = _useRequiredContext.registry;\n\n  var _useRequiredContext2 = useRequiredContext(DroppableContext),\n      type = _useRequiredContext2.type,\n      droppableId = _useRequiredContext2.droppableId;\n\n  var descriptor = useMemo(function () {\n    return {\n      id: props.draggableId,\n      index: props.index,\n      type: type,\n      droppableId: droppableId\n    };\n  }, [props.draggableId, props.index, type, droppableId]);\n  var children = props.children,\n      draggableId = props.draggableId,\n      isEnabled = props.isEnabled,\n      shouldRespectForcePress = props.shouldRespectForcePress,\n      canDragInteractiveElements = props.canDragInteractiveElements,\n      isClone = props.isClone,\n      mapped = props.mapped,\n      dropAnimationFinishedAction = props.dropAnimationFinished;\n  useValidation$1(props, contextId, getRef);\n  useClonePropValidation(isClone);\n\n  if (!isClone) {\n    var forPublisher = useMemo(function () {\n      return {\n        descriptor: descriptor,\n        registry: registry,\n        getDraggableRef: getRef,\n        canDragInteractiveElements: canDragInteractiveElements,\n        shouldRespectForcePress: shouldRespectForcePress,\n        isEnabled: isEnabled\n      };\n    }, [descriptor, registry, getRef, canDragInteractiveElements, shouldRespectForcePress, isEnabled]);\n    useDraggablePublisher(forPublisher);\n  }\n\n  var dragHandleProps = useMemo(function () {\n    return isEnabled ? {\n      tabIndex: 0,\n      'data-rbd-drag-handle-draggable-id': draggableId,\n      'data-rbd-drag-handle-context-id': contextId,\n      'aria-labelledby': liftInstructionId,\n      draggable: false,\n      onDragStart: preventHtml5Dnd\n    } : null;\n  }, [contextId, draggableId, isEnabled, liftInstructionId]);\n  var onMoveEnd = useCallback(function (event) {\n    if (mapped.type !== 'DRAGGING') {\n      return;\n    }\n\n    if (!mapped.dropping) {\n      return;\n    }\n\n    if (event.propertyName !== 'transform') {\n      return;\n    }\n\n    dropAnimationFinishedAction();\n  }, [dropAnimationFinishedAction, mapped]);\n  var provided = useMemo(function () {\n    var style = getStyle$1(mapped);\n    var onTransitionEnd = mapped.type === 'DRAGGING' && mapped.dropping ? onMoveEnd : null;\n    var result = {\n      innerRef: setRef,\n      draggableProps: {\n        'data-rbd-draggable-context-id': contextId,\n        'data-rbd-draggable-id': draggableId,\n        style: style,\n        onTransitionEnd: onTransitionEnd\n      },\n      dragHandleProps: dragHandleProps\n    };\n    return result;\n  }, [contextId, dragHandleProps, draggableId, mapped, onMoveEnd, setRef]);\n  var rubric = useMemo(function () {\n    return {\n      draggableId: descriptor.id,\n      type: descriptor.type,\n      source: {\n        index: descriptor.index,\n        droppableId: descriptor.droppableId\n      }\n    };\n  }, [descriptor.droppableId, descriptor.id, descriptor.index, descriptor.type]);\n  return children(provided, mapped.snapshot, rubric);\n}\n\nvar isStrictEqual = function (a, b) {\n  return a === b;\n};\n\nvar whatIsDraggedOverFromResult = function (result) {\n  var combine = result.combine,\n      destination = result.destination;\n\n  if (destination) {\n    return destination.droppableId;\n  }\n\n  if (combine) {\n    return combine.droppableId;\n  }\n\n  return null;\n};\n\nvar getCombineWithFromResult = function getCombineWithFromResult(result) {\n  return result.combine ? result.combine.draggableId : null;\n};\n\nvar getCombineWithFromImpact = function getCombineWithFromImpact(impact) {\n  return impact.at && impact.at.type === 'COMBINE' ? impact.at.combine.draggableId : null;\n};\n\nfunction getDraggableSelector() {\n  var memoizedOffset = memoizeOne(function (x, y) {\n    return {\n      x: x,\n      y: y\n    };\n  });\n  var getMemoizedSnapshot = memoizeOne(function (mode, isClone, draggingOver, combineWith, dropping) {\n    return {\n      isDragging: true,\n      isClone: isClone,\n      isDropAnimating: Boolean(dropping),\n      dropAnimation: dropping,\n      mode: mode,\n      draggingOver: draggingOver,\n      combineWith: combineWith,\n      combineTargetFor: null\n    };\n  });\n  var getMemoizedProps = memoizeOne(function (offset, mode, dimension, isClone, draggingOver, combineWith, forceShouldAnimate) {\n    return {\n      mapped: {\n        type: 'DRAGGING',\n        dropping: null,\n        draggingOver: draggingOver,\n        combineWith: combineWith,\n        mode: mode,\n        offset: offset,\n        dimension: dimension,\n        forceShouldAnimate: forceShouldAnimate,\n        snapshot: getMemoizedSnapshot(mode, isClone, draggingOver, combineWith, null)\n      }\n    };\n  });\n\n  var selector = function selector(state, ownProps) {\n    if (state.isDragging) {\n      if (state.critical.draggable.id !== ownProps.draggableId) {\n        return null;\n      }\n\n      var offset = state.current.client.offset;\n      var dimension = state.dimensions.draggables[ownProps.draggableId];\n      var draggingOver = whatIsDraggedOver(state.impact);\n      var combineWith = getCombineWithFromImpact(state.impact);\n      var forceShouldAnimate = state.forceShouldAnimate;\n      return getMemoizedProps(memoizedOffset(offset.x, offset.y), state.movementMode, dimension, ownProps.isClone, draggingOver, combineWith, forceShouldAnimate);\n    }\n\n    if (state.phase === 'DROP_ANIMATING') {\n      var completed = state.completed;\n\n      if (completed.result.draggableId !== ownProps.draggableId) {\n        return null;\n      }\n\n      var isClone = ownProps.isClone;\n      var _dimension = state.dimensions.draggables[ownProps.draggableId];\n      var result = completed.result;\n      var mode = result.mode;\n\n      var _draggingOver = whatIsDraggedOverFromResult(result);\n\n      var _combineWith = getCombineWithFromResult(result);\n\n      var duration = state.dropDuration;\n      var dropping = {\n        duration: duration,\n        curve: curves.drop,\n        moveTo: state.newHomeClientOffset,\n        opacity: _combineWith ? combine.opacity.drop : null,\n        scale: _combineWith ? combine.scale.drop : null\n      };\n      return {\n        mapped: {\n          type: 'DRAGGING',\n          offset: state.newHomeClientOffset,\n          dimension: _dimension,\n          dropping: dropping,\n          draggingOver: _draggingOver,\n          combineWith: _combineWith,\n          mode: mode,\n          forceShouldAnimate: null,\n          snapshot: getMemoizedSnapshot(mode, isClone, _draggingOver, _combineWith, dropping)\n        }\n      };\n    }\n\n    return null;\n  };\n\n  return selector;\n}\n\nfunction getSecondarySnapshot(combineTargetFor) {\n  return {\n    isDragging: false,\n    isDropAnimating: false,\n    isClone: false,\n    dropAnimation: null,\n    mode: null,\n    draggingOver: null,\n    combineTargetFor: combineTargetFor,\n    combineWith: null\n  };\n}\n\nvar atRest = {\n  mapped: {\n    type: 'SECONDARY',\n    offset: origin,\n    combineTargetFor: null,\n    shouldAnimateDisplacement: true,\n    snapshot: getSecondarySnapshot(null)\n  }\n};\n\nfunction getSecondarySelector() {\n  var memoizedOffset = memoizeOne(function (x, y) {\n    return {\n      x: x,\n      y: y\n    };\n  });\n  var getMemoizedSnapshot = memoizeOne(getSecondarySnapshot);\n  var getMemoizedProps = memoizeOne(function (offset, combineTargetFor, shouldAnimateDisplacement) {\n    if (combineTargetFor === void 0) {\n      combineTargetFor = null;\n    }\n\n    return {\n      mapped: {\n        type: 'SECONDARY',\n        offset: offset,\n        combineTargetFor: combineTargetFor,\n        shouldAnimateDisplacement: shouldAnimateDisplacement,\n        snapshot: getMemoizedSnapshot(combineTargetFor)\n      }\n    };\n  });\n\n  var getFallback = function getFallback(combineTargetFor) {\n    return combineTargetFor ? getMemoizedProps(origin, combineTargetFor, true) : null;\n  };\n\n  var getProps = function getProps(ownId, draggingId, impact, afterCritical) {\n    var visualDisplacement = impact.displaced.visible[ownId];\n    var isAfterCriticalInVirtualList = Boolean(afterCritical.inVirtualList && afterCritical.effected[ownId]);\n    var combine = tryGetCombine(impact);\n    var combineTargetFor = combine && combine.draggableId === ownId ? draggingId : null;\n\n    if (!visualDisplacement) {\n      if (!isAfterCriticalInVirtualList) {\n        return getFallback(combineTargetFor);\n      }\n\n      if (impact.displaced.invisible[ownId]) {\n        return null;\n      }\n\n      var change = negate(afterCritical.displacedBy.point);\n\n      var _offset = memoizedOffset(change.x, change.y);\n\n      return getMemoizedProps(_offset, combineTargetFor, true);\n    }\n\n    if (isAfterCriticalInVirtualList) {\n      return getFallback(combineTargetFor);\n    }\n\n    var displaceBy = impact.displacedBy.point;\n    var offset = memoizedOffset(displaceBy.x, displaceBy.y);\n    return getMemoizedProps(offset, combineTargetFor, visualDisplacement.shouldAnimate);\n  };\n\n  var selector = function selector(state, ownProps) {\n    if (state.isDragging) {\n      if (state.critical.draggable.id === ownProps.draggableId) {\n        return null;\n      }\n\n      return getProps(ownProps.draggableId, state.critical.draggable.id, state.impact, state.afterCritical);\n    }\n\n    if (state.phase === 'DROP_ANIMATING') {\n      var completed = state.completed;\n\n      if (completed.result.draggableId === ownProps.draggableId) {\n        return null;\n      }\n\n      return getProps(ownProps.draggableId, completed.result.draggableId, completed.impact, completed.afterCritical);\n    }\n\n    return null;\n  };\n\n  return selector;\n}\n\nvar makeMapStateToProps = function makeMapStateToProps() {\n  var draggingSelector = getDraggableSelector();\n  var secondarySelector = getSecondarySelector();\n\n  var selector = function selector(state, ownProps) {\n    return draggingSelector(state, ownProps) || secondarySelector(state, ownProps) || atRest;\n  };\n\n  return selector;\n};\n\nvar mapDispatchToProps = {\n  dropAnimationFinished: dropAnimationFinished\n};\nvar ConnectedDraggable = connect(makeMapStateToProps, mapDispatchToProps, null, {\n  context: StoreContext,\n  pure: true,\n  areStatePropsEqual: isStrictEqual\n})(Draggable);\n\nfunction PrivateDraggable(props) {\n  var droppableContext = useRequiredContext(DroppableContext);\n  var isUsingCloneFor = droppableContext.isUsingCloneFor;\n\n  if (isUsingCloneFor === props.draggableId && !props.isClone) {\n    return null;\n  }\n\n  return React.createElement(ConnectedDraggable, props);\n}\n\nfunction PublicDraggable(props) {\n  var isEnabled = typeof props.isDragDisabled === 'boolean' ? !props.isDragDisabled : true;\n  var canDragInteractiveElements = Boolean(props.disableInteractiveElementBlocking);\n  var shouldRespectForcePress = Boolean(props.shouldRespectForcePress);\n  return React.createElement(PrivateDraggable, _extends({}, props, {\n    isClone: false,\n    isEnabled: isEnabled,\n    canDragInteractiveElements: canDragInteractiveElements,\n    shouldRespectForcePress: shouldRespectForcePress\n  }));\n}\n\nfunction Droppable(props) {\n  var appContext = useContext(AppContext);\n  !appContext ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Could not find app context') : invariant(false) : void 0;\n  var contextId = appContext.contextId,\n      isMovementAllowed = appContext.isMovementAllowed;\n  var droppableRef = useRef(null);\n  var placeholderRef = useRef(null);\n  var children = props.children,\n      droppableId = props.droppableId,\n      type = props.type,\n      mode = props.mode,\n      direction = props.direction,\n      ignoreContainerClipping = props.ignoreContainerClipping,\n      isDropDisabled = props.isDropDisabled,\n      isCombineEnabled = props.isCombineEnabled,\n      snapshot = props.snapshot,\n      useClone = props.useClone,\n      updateViewportMaxScroll = props.updateViewportMaxScroll,\n      getContainerForClone = props.getContainerForClone;\n  var getDroppableRef = useCallback(function () {\n    return droppableRef.current;\n  }, []);\n  var setDroppableRef = useCallback(function (value) {\n    droppableRef.current = value;\n  }, []);\n  var getPlaceholderRef = useCallback(function () {\n    return placeholderRef.current;\n  }, []);\n  var setPlaceholderRef = useCallback(function (value) {\n    placeholderRef.current = value;\n  }, []);\n  useValidation({\n    props: props,\n    getDroppableRef: getDroppableRef,\n    getPlaceholderRef: getPlaceholderRef\n  });\n  var onPlaceholderTransitionEnd = useCallback(function () {\n    if (isMovementAllowed()) {\n      updateViewportMaxScroll({\n        maxScroll: getMaxWindowScroll()\n      });\n    }\n  }, [isMovementAllowed, updateViewportMaxScroll]);\n  useDroppablePublisher({\n    droppableId: droppableId,\n    type: type,\n    mode: mode,\n    direction: direction,\n    isDropDisabled: isDropDisabled,\n    isCombineEnabled: isCombineEnabled,\n    ignoreContainerClipping: ignoreContainerClipping,\n    getDroppableRef: getDroppableRef\n  });\n  var placeholder = React.createElement(AnimateInOut, {\n    on: props.placeholder,\n    shouldAnimate: props.shouldAnimatePlaceholder\n  }, function (_ref) {\n    var onClose = _ref.onClose,\n        data = _ref.data,\n        animate = _ref.animate;\n    return React.createElement(Placeholder$1, {\n      placeholder: data,\n      onClose: onClose,\n      innerRef: setPlaceholderRef,\n      animate: animate,\n      contextId: contextId,\n      onTransitionEnd: onPlaceholderTransitionEnd\n    });\n  });\n  var provided = useMemo(function () {\n    return {\n      innerRef: setDroppableRef,\n      placeholder: placeholder,\n      droppableProps: {\n        'data-rbd-droppable-id': droppableId,\n        'data-rbd-droppable-context-id': contextId\n      }\n    };\n  }, [contextId, droppableId, placeholder, setDroppableRef]);\n  var isUsingCloneFor = useClone ? useClone.dragging.draggableId : null;\n  var droppableContext = useMemo(function () {\n    return {\n      droppableId: droppableId,\n      type: type,\n      isUsingCloneFor: isUsingCloneFor\n    };\n  }, [droppableId, isUsingCloneFor, type]);\n\n  function getClone() {\n    if (!useClone) {\n      return null;\n    }\n\n    var dragging = useClone.dragging,\n        render = useClone.render;\n    var node = React.createElement(PrivateDraggable, {\n      draggableId: dragging.draggableId,\n      index: dragging.source.index,\n      isClone: true,\n      isEnabled: true,\n      shouldRespectForcePress: false,\n      canDragInteractiveElements: true\n    }, function (draggableProvided, draggableSnapshot) {\n      return render(draggableProvided, draggableSnapshot, dragging);\n    });\n    return ReactDOM.createPortal(node, getContainerForClone());\n  }\n\n  return React.createElement(DroppableContext.Provider, {\n    value: droppableContext\n  }, children(provided, snapshot), getClone());\n}\n\nvar isMatchingType = function isMatchingType(type, critical) {\n  return type === critical.droppable.type;\n};\n\nvar getDraggable = function getDraggable(critical, dimensions) {\n  return dimensions.draggables[critical.draggable.id];\n};\n\nvar makeMapStateToProps$1 = function makeMapStateToProps() {\n  var idleWithAnimation = {\n    placeholder: null,\n    shouldAnimatePlaceholder: true,\n    snapshot: {\n      isDraggingOver: false,\n      draggingOverWith: null,\n      draggingFromThisWith: null,\n      isUsingPlaceholder: false\n    },\n    useClone: null\n  };\n\n  var idleWithoutAnimation = _extends({}, idleWithAnimation, {\n    shouldAnimatePlaceholder: false\n  });\n\n  var getDraggableRubric = memoizeOne(function (descriptor) {\n    return {\n      draggableId: descriptor.id,\n      type: descriptor.type,\n      source: {\n        index: descriptor.index,\n        droppableId: descriptor.droppableId\n      }\n    };\n  });\n  var getMapProps = memoizeOne(function (id, isEnabled, isDraggingOverForConsumer, isDraggingOverForImpact, dragging, renderClone) {\n    var draggableId = dragging.descriptor.id;\n    var isHome = dragging.descriptor.droppableId === id;\n\n    if (isHome) {\n      var useClone = renderClone ? {\n        render: renderClone,\n        dragging: getDraggableRubric(dragging.descriptor)\n      } : null;\n      var _snapshot = {\n        isDraggingOver: isDraggingOverForConsumer,\n        draggingOverWith: isDraggingOverForConsumer ? draggableId : null,\n        draggingFromThisWith: draggableId,\n        isUsingPlaceholder: true\n      };\n      return {\n        placeholder: dragging.placeholder,\n        shouldAnimatePlaceholder: false,\n        snapshot: _snapshot,\n        useClone: useClone\n      };\n    }\n\n    if (!isEnabled) {\n      return idleWithoutAnimation;\n    }\n\n    if (!isDraggingOverForImpact) {\n      return idleWithAnimation;\n    }\n\n    var snapshot = {\n      isDraggingOver: isDraggingOverForConsumer,\n      draggingOverWith: draggableId,\n      draggingFromThisWith: null,\n      isUsingPlaceholder: true\n    };\n    return {\n      placeholder: dragging.placeholder,\n      shouldAnimatePlaceholder: true,\n      snapshot: snapshot,\n      useClone: null\n    };\n  });\n\n  var selector = function selector(state, ownProps) {\n    var id = ownProps.droppableId;\n    var type = ownProps.type;\n    var isEnabled = !ownProps.isDropDisabled;\n    var renderClone = ownProps.renderClone;\n\n    if (state.isDragging) {\n      var critical = state.critical;\n\n      if (!isMatchingType(type, critical)) {\n        return idleWithoutAnimation;\n      }\n\n      var dragging = getDraggable(critical, state.dimensions);\n      var isDraggingOver = whatIsDraggedOver(state.impact) === id;\n      return getMapProps(id, isEnabled, isDraggingOver, isDraggingOver, dragging, renderClone);\n    }\n\n    if (state.phase === 'DROP_ANIMATING') {\n      var completed = state.completed;\n\n      if (!isMatchingType(type, completed.critical)) {\n        return idleWithoutAnimation;\n      }\n\n      var _dragging = getDraggable(completed.critical, state.dimensions);\n\n      return getMapProps(id, isEnabled, whatIsDraggedOverFromResult(completed.result) === id, whatIsDraggedOver(completed.impact) === id, _dragging, renderClone);\n    }\n\n    if (state.phase === 'IDLE' && state.completed && !state.shouldFlush) {\n      var _completed = state.completed;\n\n      if (!isMatchingType(type, _completed.critical)) {\n        return idleWithoutAnimation;\n      }\n\n      var wasOver = whatIsDraggedOver(_completed.impact) === id;\n      var wasCombining = Boolean(_completed.impact.at && _completed.impact.at.type === 'COMBINE');\n      var isHome = _completed.critical.droppable.id === id;\n\n      if (wasOver) {\n        return wasCombining ? idleWithAnimation : idleWithoutAnimation;\n      }\n\n      if (isHome) {\n        return idleWithAnimation;\n      }\n\n      return idleWithoutAnimation;\n    }\n\n    return idleWithoutAnimation;\n  };\n\n  return selector;\n};\n\nvar mapDispatchToProps$1 = {\n  updateViewportMaxScroll: updateViewportMaxScroll\n};\n\nfunction getBody() {\n  !document.body ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'document.body is not ready') : invariant(false) : void 0;\n  return document.body;\n}\n\nvar defaultProps = {\n  mode: 'standard',\n  type: 'DEFAULT',\n  direction: 'vertical',\n  isDropDisabled: false,\n  isCombineEnabled: false,\n  ignoreContainerClipping: false,\n  renderClone: null,\n  getContainerForClone: getBody\n};\nvar ConnectedDroppable = connect(makeMapStateToProps$1, mapDispatchToProps$1, null, {\n  context: StoreContext,\n  pure: true,\n  areStatePropsEqual: isStrictEqual\n})(Droppable);\nConnectedDroppable.defaultProps = defaultProps;\nexport { DragDropContext, PublicDraggable as Draggable, ConnectedDroppable as Droppable, resetServerContext };","map":{"version":3,"sources":["C:/Users/דנה פסח/Desktop/FinalProject/New/final/node_modules/react-beautiful-dnd/dist/react-beautiful-dnd.esm.js"],"names":["React","useLayoutEffect","useEffect","useRef","useState","useContext","useMemo","useCallback","_inheritsLoose","_extends","createStore","createStore$1","applyMiddleware","compose","bindActionCreators","Provider","connect","getRect","expand","offset","withScroll","getBox","createBox","calculateBox","memoizeOne","_Object$values","_Object$keys","rafSchd","_Date$now","_Object$assign","ReactDOM","_Number$isInteger","isProduction","process","env","NODE_ENV","spacesAndTabs","lineStartWithSpaces","clean","value","replace","trim","getDevMessage","message","getFormattedMessage","isDisabledFlag","log","type","_console","window","console","apply","warning","bind","error","noop","getOptions","shared","fromBinding","bindEvents","el","bindings","sharedOptions","unbindings","map","binding","options","addEventListener","eventName","fn","unbind","removeEventListener","unbindAll","forEach","isProduction$1","prefix","RbdInvariant","prototype","toString","invariant","condition","ErrorBoundary","_React$Component","_this","_len","arguments","length","args","Array","_key","call","concat","callbacks","onWindowError","event","getCallbacks","isDragging","tryAbort","err","preventDefault","Error","setCallbacks","_proto","componentDidMount","componentWillUnmount","componentDidCatch","setState","render","props","children","Component","liftInstruction","position","index","onDragStart","start","source","withLocation","destination","isInHomeList","droppableId","startPosition","endPosition","withCombine","id","combine","inHomeList","draggableId","onDragUpdate","update","location","returnedToStart","onDragEnd","result","reason","preset","origin","x","y","add","point1","point2","subtract","isEqual","negate","point","patch","line","otherValue","_ref","distance","Math","sqrt","pow","closest","target","points","min","executeClip","frame","subject","top","max","right","bottom","left","width","height","offsetByPosition","spacing","getCorners","noSpacing","scroll","diff","displacement","increase","axis","withPlaceholder","increasedBy","_extends2","end","clip","shouldClipSubject","pageMarginBox","getSubject","page","scrolled","marginBox","increased","clipped","active","scrollDroppable","droppable","newScroll","scrollable","scrollDiff","initial","scrollDisplacement","current","values","findIndex","list","predicate","i","find","undefined","toArray","slice","toDroppableMap","droppables","reduce","previous","descriptor","toDraggableMap","draggables","toDroppableList","toDraggableList","getDraggablesInsideDroppable","filter","draggable","sort","a","b","tryGetDestination","impact","at","tryGetCombine","removeDraggableFromList","remove","item","moveToNextCombine","isMovingForward","insideDestination","previousImpact","isCombineEnabled","getImpact","all","displaced","closestId","withoutDraggable","last","indexOfClosest","d","proposedIndex","before","isHomeOf","noDisplacedBy","emptyGroups","invisible","visible","noImpact","displacedBy","isWithin","lowerBound","upperBound","isPartiallyVisibleThroughFrame","isWithinVertical","isWithinHorizontal","isContained","isPartiallyVisibleVertically","isPartiallyVisibleHorizontally","isPartiallyContained","isBiggerVertically","isBiggerHorizontally","isTargetBiggerThanFrame","isTargetBiggerOnOneAxis","isTotallyVisibleThroughFrame","vertical","direction","crossAxisLine","size","crossAxisStart","crossAxisEnd","crossAxisSize","horizontal","isTotallyVisibleThroughFrameOnAxis","getDroppableDisplaced","isVisibleInDroppable","isVisibleThroughFrameFn","isVisibleInViewport","viewport","isVisible","toBeDisplaced","withDroppableDisplacement","displacedTarget","isPartiallyVisible","isTotallyVisible","isTotallyVisibleOnAxis","getShouldAnimate","forceShouldAnimate","shouldAnimate","getTarget","expandBy","getDisplacementGroups","afterDragging","groups","push","getIndexOfLastItem","indexOfLastItem","goAtEnd","newIndex","calculateReorderImpact","_ref2","match","withoutDragging","sliceFrom","indexOf","impacted","didStartAfterCritical","afterCritical","Boolean","effected","fromCombine","combineId","combineWith","combineWithIndex","didCombineWithStartAfterCritical","fromReorder","currentIndex","firstIndex","lastIndex","moveToNextIndex","wasAt","_newIndex","getCombinedItemDisplacement","isDisplaced","whenCombining","center","borderBox","displaceBy","distanceFromStartToBorderBoxCenter","box","margin","distanceFromEndToBorderBoxCenter","getCrossAxisBorderBoxCenter","isMoving","goAfter","moveRelativeTo","goBefore","goIntoStart","_ref3","moveInto","contentBox","whenReordering","draggablePage","closestAfter","withDisplacement","getResultWithoutDroppableDisplacement","original","getPageBorderBoxCenterFromImpact","withoutDisplacement","scrollViewport","updated","getDraggables","ids","tryGetVisible","speculativelyIncrease","maxScrollChange","scrolledViewport","scrolledDroppable","withViewportScroll","withDroppableScroll","newImpact","withViewportDisplacement","getClientFromPageBorderBoxCenter","pageBorderBoxCenter","withoutPageScrollChange","client","isTotallyVisibleInNewLocation","newPageBorderBoxCenter","_ref$onlyOnMainAxis","onlyOnMainAxis","changeNeeded","shifted","moveToNextPlace","previousPageBorderBoxCenter","previousClientSelection","isEnabled","isVisibleInNewLocation","clientSelection","scrollJumpRequest","cautious","getKnownActive","rect","getBestCrossAxisDroppable","isBetweenSourceClipped","candidates","activeOfTarget","isBetweenDestinationClipped","first","second","array","contains","isWithinDroppable","getCurrentPageBorderBoxCenter","getCurrentPageBorderBox","getClosestDraggable","sorted","distanceToA","distanceToB","getDisplacedBy","getRequiredGrowthForPlaceholder","placeholderSize","mode","availableSpace","insideDroppable","spaceUsed","sum","dimension","requiredSpace","needsToGrowBy","withMaxScroll","addPlaceholder","requiredGrowth","added","oldFrameMaxScroll","_subject","maxScroll","newFrame","removePlaceholder","_subject2","oldMaxScroll","moveToNewDroppable","proposed","proposedPageBorderBoxCenter","isGoingBeforeTarget","relativeTo","moveCrossAxis","isOver","whatIsDraggedOver","getDroppableOver","moveInDirection","state","isActuallyOver","dimensions","isMainAxisMovementAllowed","home","critical","isMovingOnMainAxis","borderBoxCenter","_state$dimensions","selection","isMovementAllowed","phase","isPositionInFrame","run","getHasOverlap","getFurthestAway","pageBorderBox","startCenter","candidate","getDroppableOver$1","childCenter","isStartContained","isEndContained","offsetRectByPosition","area","getIsDisplaced","atIndex","getReorderImpact","targetRect","pageBorderBoxWithDroppableScroll","targetStart","targetEnd","child","didStartAfterCritical$1","combineThresholdDivisor","getCombineImpact","childRect","childSize","threshold","getDragImpact","pageOffset","destinationId","patchDroppableMap","clearUnusedPlaceholder","now","lastDroppable","recomputePlaceholders","cleaned","patched","forcedClientSelection","forcedDimensions","forcedViewport","forcedImpact","withUpdatedPlaceholders","getDraggables$1","recompute","getClientBorderBoxCenter","refreshSnap","movementMode","needsVisibilityCheck","getHomeLocation","getLiftEffect","insideHome","rawIndex","inVirtualList","patchDimensionMap","records","isTimingsEnabled","key","performance","finish","warn","rounded","toFixed","style","textColor","symbol","offsetDraggable","offset$1","initialWindowScroll","moved","placeholder","getFrame","adjustAdditionsForScrollChanges","additions","updatedDroppables","windowScrollChange","modified","droppableScrollChange","totalChange","timingsKey","publishWhileDraggingInVirtual","_extends3","published","withScrollChange","existing","updatedAdditions","removals","wasOverId","wasOver","_getLiftEffect","onLiftImpact","draggingState","dropPending","isWaiting","isSnapping","postDroppableChange","isEnabledChanging","removeScrollJumpRequest","idle","completed","shouldFlush","reducer","action","_action$payload","payload","isWindowScrollAllowed","every","isFixedOnPage","_result","_clientSelection","_action$payload2","_action$payload3","_id","_target","String","_action$payload4","_id2","_target2","_updated","_newScroll","_viewport","_result2","newState","_action$payload5","dropDuration","newHomeClientOffset","_result3","_completed","beforeInitialCapture","lift","initialPublish","publishWhileDragging","collectionStarting","updateDroppableScroll","updateDroppableIsEnabled","updateDroppableIsCombineEnabled","move","moveByWindowScroll","updateViewportMaxScroll","moveUp","moveDown","moveRight","moveLeft","flush","animateDrop","completeDrop","drop","dropAnimationFinished","checkIndexes","indexes","errors","formatted","hasError","join","validateDimensions","lift$1","marshal","getState","dispatch","next","scrollOptions","shouldPublishImmediately","request","_marshal$startPublish","startPublishing","dragging","dropping","resting","curves","outOfTheWay","opacity","combining","scale","timings","minDropTime","maxDropTime","outOfTheWayTiming","transitions","fluid","snap","duration","timing","moveTo","transforms","isCombining","translate","dropTimeRange","maxDropTimeAtDistance","cancelDropModifier","getDropDuration","distance$1","percentage","withDuration","Number","getNewHomeClientOffset","newClientCenter","getDropImpact","lastImpact","recomputedHomeImpact","didDropInsideDroppable","withoutMovement","drop$1","isWaitingForDrop","_getDropImpact","isAnimationRequired","getWindowScroll","pageXOffset","pageYOffset","getWindowScrollBinding","passive","capture","document","getScrollListener","onWindowScroll","updateScroll","scheduled","isActive","stop","cancel","shouldEnd","scrollListener","store","listener","getExpiringAnnounce","announce","wasCalled","isExpired","timeoutId","setTimeout","clearTimeout","getAsyncMarshal","entries","execute","timerId","_entries$splice","splice","entry","callback","shallow","areLocationsEqual","isCombineEqual","isCriticalEqual","isDraggableEqual","isDroppableEqual","withTimings","getDragStart","responder","data","getDefaultMessage","willExpire","provided","getPublisher","getResponders","asyncMarshal","beforeCapture","onBeforeCapture","beforeStart","onBeforeDragStart","lastCritical","lastLocation","lastCombine","hasCriticalChanged","hasLocationChanged","hasGroupingChanged","abort","responders","publisher","dropAnimationFinish","dropAnimationFlushOnScroll","frameId","clear","cancelAnimationFrame","once","flushDropAnimation","requestAnimationFrame","dimensionMarshalStopper","stopPublishing","focus","isWatching","tryRecordFocus","tryRestoreFocusRecorded","tryShiftRecord","shouldStop","autoScroll","autoScroller","pendingDrop","postActionState","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","dimensionMarshal","focusMarshal","styleMarshal","clean$1","timingKey","createPublisher","registry","staging","collect","_staging","getById","getDimension","getScrollWhileDragging","publish","getMaxScroll","scrollHeight","scrollWidth","adjustedMaxScroll","getDocumentElement","doc","documentElement","getMaxWindowScroll","clientWidth","clientHeight","getViewport","getInitialPublish","windowScroll","getAllByType","getDimensionAndWatchScroll","shouldPublishUpdate","createDimensionMarshal","collection","exists","change","dragStopped","unsubscribe","subscriber","subscribe","canStartDrag","scrollWindow","scrollBy","getScrollableDroppables","getScrollableDroppableOver","maybe","getBestScrollableDroppable","_dimension","config","startFromPercentage","maxScrollAtPercentage","maxPixelScroll","ease","durationDampening","stopDampeningAt","accelerateAt","getDistanceThresholds","container","startScrollingFrom","maxScrollValueAt","thresholds","getPercentage","startOfRange","endOfRange","range","currentInRange","minScroll","getValueFromDistance","distanceToEdge","percentageFromMaxScrollValueAt","percentageFromStartScrollingFrom","ceil","stopAt","dampenValueByTime","proposedScroll","dragStartTime","runTime","betweenAccelerateAtAndStopAtPercentage","getValue","shouldUseTimeDampening","getScrollOnAxis","distanceToEdges","isCloserToEnd","adjustForSizeLimits","isTooBigVertically","isTooBigHorizontally","clean$2","getScroll","required","limited","smallestSigned","getOverlap","getRemainder","targetScroll","overlap","canPartiallyScroll","rawMax","smallestChange","canScrollWindow","getWindowOverlap","canScrollDroppable","getDroppableOverlap","getWindowScrollChange","getDroppableScrollChange","scroll$1","_change","createFluidScroller","scheduleWindowScroll","scheduleDroppableScroll","tryScroll","_dragging","start$1","wasScrollNeeded","fakeScrollCallback","createJumpScroller","moveByOffset","scrollDroppableAsMuchAsItCan","whatTheDroppableCanScroll","remainder","scrollWindowAsMuchAsItCan","whatTheWindowCanScroll","jumpScroller","droppableRemainder","windowRemainder","createAutoScroller","fluidScroller","jumpScroll","scroller","prefix$1","dragHandle","base","contextId","scrollContainer","makeGetSelector","context","attribute","getStyles","rules","property","rule","styles","selector","noPointerEvents","getStyles$1","getSelector","dragHandle$1","grabCursor","always","dropAnimating","draggable$1","transition","userCancel","droppable$1","body","useIsomorphicLayoutEffect","createElement","getHead","head","querySelector","createStyleEl","nonce","setAttribute","useStyleMarshal","alwaysRef","dynamicRef","setDynamicStyle","textContent","setAlwaysStyle","dynamic","appendChild","ref","removeChild","getWindowFromEl","ownerDocument","defaultView","isHtmlElement","HTMLElement","findDragHandle","possible","querySelectorAll","handle","getAttribute","useFocusMarshal","entriesRef","recordRef","restoreFocusFrameRef","isMountedRef","register","unregister","tryGiveFocus","tryGiveFocusTo","activeElement","redirectTo","record","focused","clearFrameOnUnmount","createRegistry","subscribers","cb","notify","findDraggableById","getDraggableById","draggableAPI","uniqueId","findById","findDroppableById","getDroppableById","droppableAPI","useRegistry","unmount","StoreContext","createContext","getBodyElement","visuallyHidden","border","padding","overflow","getId","useAnnouncer","setup","cleanup","getId$1","useLiftInstruction","mount","display","AppContext","peerDependencies","react","semver","getVersion","exec","major","minor","raw","isSatisfied","expected","actual","checkReactVersion","peerDepValue","actualValue","peerDep","suffix","checkDoctype","doctype","name","toLowerCase","publicId","useDev","useHook","useDevSetupWarning","inputs","e","useStartupValidation","version","usePrevious","create","lock","isClaimed","claim","abandon","newLock","release","tryAbandon","tab","enter","escape","space","pageUp","pageDown","arrowLeft","arrowUp","arrowRight","arrowDown","_preventedKeys","preventedKeys","preventStandardKeyEvents","keyCode","supportedEventName","supported","primaryButton","sloppyClickThreshold","isSloppyClickThresholdExceeded","abs","idle$1","getCaptureBindings","getPhase","setPhase","button","clientX","clientY","actions","pending","fluidLift","shouldBlockNextClick","shouldRespectForcePress","useMouseSensor","api","phaseRef","unbindEventsRef","startCaptureBinding","onMouseDown","defaultPrevented","ctrlKey","metaKey","shiftKey","altKey","findClosestDraggableId","tryGetLock","sourceEvent","startPendingDrag","preventForcePressBinding","findOptionsForDraggable","canGetLock","listenForCapture","bindCapturingEvents","_scrollJumpKeys","noop$1","scrollJumpKeys","getDraggingBindings","useKeyboardSensor","onKeyDown","preDrag","isCapturing","snapLift","tryStartCapture","idle$2","timeForLongPress","forcePressThreshold","getWindowBindings","getHandleBindings","hasMoved","_event$touches$","touches","touch","isForcePress","force","shouldRespect","useMouseSensor$1","onTouchStart","longPressTimerId","unbindTarget","unbindWindow","startDragging","webkitHack","useValidateSensorHooks","sensorHooks","previousRef","interactiveTagNames","input","textarea","select","option","optgroup","video","audio","isAnInteractiveElement","parent","hasAnInteractiveTag","tagName","parentElement","isEventInInteractiveElement","getBorderBoxCenterPosition","getBoundingClientRect","isElement","Element","supportedMatchesName","closestPonyfill","closest$1","findClosestDragHandleFromEvent","tryGetClosestDraggableIdFromEvent","findDraggable","_isActive","isLockActive","shouldWarn","canStart","lockAPI","tryStart","forceSensorStop","shouldStart","canDragInteractiveElements","getShouldRespectForcePress","tryDispatch","getAction","tryDispatchWhenDragging","liftActionArgs","move$1","moveUp$1","moveRight$1","moveDown$1","moveLeft$1","abortPreDrag","shouldRelease","defaultSensors","useSensorMarshal","_ref4","customSensors","enableDefaultSensors","useSensors","tryAbandonLock","listenToStore","forceStop","tryReleaseLock","isLockClaimed","createResponders","getStore","lazyRef","App","sensors","lazyStoreRef","lastPropsRef","liftInstructionId","lazyDispatch","marshalCallbacks","tryResetStore","appCallbacks","getCanLift","getIsMovementAllowed","appContext","canLift","instanceCount","resetServerContext","DragDropContext","isEqual$1","isScroll","isAuto","isVisible$1","isEither","overflowX","overflowY","isBoth","isElementScrollable","getComputedStyle","isBodyScrollable","html","htmlStyle","htmlOverflow","getClosestScrollable","checkForNestedScrollContainers","anotherScrollParent","getScroll$1","scrollLeft","scrollTop","getIsFixed","getEnv","closestScrollable","getDroppableDimension","scrollSize","frameClient","paddingBox","getClient","targetRef","isDropDisabled","immediate","delayed","getListenerOptions","useRequiredContext","Context","count","useUniqueId","countRef","getClosestScrollableFromDrag","useDroppablePublisher","whileDraggingRef","publishedDescriptorRef","memoizedUpdateScroll","getClosestScroll","scheduleScrollUpdate","onClosestScroll","getDroppableRef","ignoreContainerClipping","removeAttribute","noop$2","empty","getSize","isAnimatingOpenOnMount","animate","getStyle","boxSizing","marginTop","marginRight","marginBottom","marginLeft","flexShrink","flexGrow","pointerEvents","Placeholder","animateOpenTimerRef","tryClearAnimateOpenTimer","onTransitionEnd","onClose","_useState","setIsAnimatingOpenOnMount","onSizeChangeEnd","propertyName","innerRef","Placeholder$1","memo","DroppableContext","checkIsValidInnerRef","isBoolean","runChecks","checks","check","_boolean","standard","getPlaceholderRef","virtual","hasClone","_ref5","renderClone","hasNoPlaceholder","_ref6","useValidation","AnimateInOut","_React$PureComponent","on","getDerivedStateFromProps","PureComponent","zIndexOptions","getDraggingTransition","shouldAnimateDragMovement","getDraggingOpacity","isDropAnimating","getShouldDraggingAnimate","getDraggingStyle","transform","zIndex","getSecondaryStyle","secondary","shouldAnimateDisplacement","getStyle$1","mapped","getDimension$1","computedStyles","useDraggablePublisher","getDraggableRef","publishedRef","isFirstPublishRef","useValidation$1","getRef","useClonePropValidation","isClone","initialRef","preventHtml5Dnd","Draggable","setRef","_useRequiredContext","_useRequiredContext2","dropAnimationFinishedAction","forPublisher","dragHandleProps","tabIndex","onMoveEnd","draggableProps","rubric","snapshot","isStrictEqual","whatIsDraggedOverFromResult","getCombineWithFromResult","getCombineWithFromImpact","getDraggableSelector","memoizedOffset","getMemoizedSnapshot","draggingOver","dropAnimation","combineTargetFor","getMemoizedProps","ownProps","_draggingOver","_combineWith","curve","getSecondarySnapshot","atRest","getSecondarySelector","getFallback","getProps","ownId","draggingId","visualDisplacement","isAfterCriticalInVirtualList","_offset","makeMapStateToProps","draggingSelector","secondarySelector","mapDispatchToProps","ConnectedDraggable","pure","areStatePropsEqual","PrivateDraggable","droppableContext","isUsingCloneFor","PublicDraggable","isDragDisabled","disableInteractiveElementBlocking","Droppable","droppableRef","placeholderRef","useClone","getContainerForClone","setDroppableRef","setPlaceholderRef","onPlaceholderTransitionEnd","shouldAnimatePlaceholder","droppableProps","getClone","node","draggableProvided","draggableSnapshot","createPortal","isMatchingType","getDraggable","makeMapStateToProps$1","idleWithAnimation","isDraggingOver","draggingOverWith","draggingFromThisWith","isUsingPlaceholder","idleWithoutAnimation","getDraggableRubric","getMapProps","isDraggingOverForConsumer","isDraggingOverForImpact","isHome","_snapshot","wasCombining","mapDispatchToProps$1","getBody","defaultProps","ConnectedDroppable"],"mappings":"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","sourcesContent":["import React, { useLayoutEffect, useEffect, useRef, useState, useContext } from 'react';\nimport { useMemo, useCallback } from 'use-memo-one';\nimport _inheritsLoose from '@babel/runtime-corejs2/helpers/esm/inheritsLoose';\nimport _extends from '@babel/runtime-corejs2/helpers/esm/extends';\nimport { createStore as createStore$1, applyMiddleware, compose, bindActionCreators } from 'redux';\nimport { Provider, connect } from 'react-redux';\nimport { getRect, expand, offset, withScroll, getBox, createBox, calculateBox } from 'css-box-model';\nimport memoizeOne from 'memoize-one';\nimport _Object$values from '@babel/runtime-corejs2/core-js/object/values';\nimport _Object$keys from '@babel/runtime-corejs2/core-js/object/keys';\nimport rafSchd from 'raf-schd';\nimport _Date$now from '@babel/runtime-corejs2/core-js/date/now';\nimport _Object$assign from '@babel/runtime-corejs2/core-js/object/assign';\nimport ReactDOM from 'react-dom';\nimport _Number$isInteger from '@babel/runtime-corejs2/core-js/number/is-integer';\n\nvar isProduction = process.env.NODE_ENV === 'production';\nvar spacesAndTabs = /[ \\t]{2,}/g;\nvar lineStartWithSpaces = /^[ \\t]*/gm;\n\nvar clean = function clean(value) {\n  return value.replace(spacesAndTabs, ' ').replace(lineStartWithSpaces, '').trim();\n};\n\nvar getDevMessage = function getDevMessage(message) {\n  return clean(\"\\n  %creact-beautiful-dnd\\n\\n  %c\" + clean(message) + \"\\n\\n  %c\\uD83D\\uDC77\\u200D This is a development only message. It will be removed in production builds.\\n\");\n};\n\nvar getFormattedMessage = function getFormattedMessage(message) {\n  return [getDevMessage(message), 'color: #00C584; font-size: 1.2em; font-weight: bold;', 'line-height: 1.5', 'color: #723874;'];\n};\nvar isDisabledFlag = '__react-beautiful-dnd-disable-dev-warnings';\nfunction log(type, message) {\n  var _console;\n\n  if (isProduction) {\n    return;\n  }\n\n  if (typeof window !== 'undefined' && window[isDisabledFlag]) {\n    return;\n  }\n\n  (_console = console)[type].apply(_console, getFormattedMessage(message));\n}\nvar warning = log.bind(null, 'warn');\nvar error = log.bind(null, 'error');\n\nfunction noop() {}\n\nfunction getOptions(shared, fromBinding) {\n  return _extends({}, shared, fromBinding);\n}\n\nfunction bindEvents(el, bindings, sharedOptions) {\n  var unbindings = bindings.map(function (binding) {\n    var options = getOptions(sharedOptions, binding.options);\n    el.addEventListener(binding.eventName, binding.fn, options);\n    return function unbind() {\n      el.removeEventListener(binding.eventName, binding.fn, options);\n    };\n  });\n  return function unbindAll() {\n    unbindings.forEach(function (unbind) {\n      unbind();\n    });\n  };\n}\n\nvar isProduction$1 = process.env.NODE_ENV === 'production';\nvar prefix = 'Invariant failed';\nfunction RbdInvariant(message) {\n  this.message = message;\n}\n\nRbdInvariant.prototype.toString = function toString() {\n  return this.message;\n};\n\nfunction invariant(condition, message) {\n  if (condition) {\n    return;\n  }\n\n  if (isProduction$1) {\n    throw new RbdInvariant(prefix);\n  } else {\n    throw new RbdInvariant(prefix + \": \" + (message || ''));\n  }\n}\n\nvar ErrorBoundary = function (_React$Component) {\n  _inheritsLoose(ErrorBoundary, _React$Component);\n\n  function ErrorBoundary() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _React$Component.call.apply(_React$Component, [this].concat(args)) || this;\n    _this.callbacks = null;\n    _this.unbind = noop;\n\n    _this.onWindowError = function (event) {\n      var callbacks = _this.getCallbacks();\n\n      if (callbacks.isDragging()) {\n        callbacks.tryAbort();\n        process.env.NODE_ENV !== \"production\" ? warning(\"\\n        An error was caught by our window 'error' event listener while a drag was occurring.\\n        The active drag has been aborted.\\n      \") : void 0;\n      }\n\n      var err = event.error;\n\n      if (err instanceof RbdInvariant) {\n        event.preventDefault();\n\n        if (process.env.NODE_ENV !== 'production') {\n          error(err.message);\n        }\n      }\n    };\n\n    _this.getCallbacks = function () {\n      if (!_this.callbacks) {\n        throw new Error('Unable to find AppCallbacks in <ErrorBoundary/>');\n      }\n\n      return _this.callbacks;\n    };\n\n    _this.setCallbacks = function (callbacks) {\n      _this.callbacks = callbacks;\n    };\n\n    return _this;\n  }\n\n  var _proto = ErrorBoundary.prototype;\n\n  _proto.componentDidMount = function componentDidMount() {\n    this.unbind = bindEvents(window, [{\n      eventName: 'error',\n      fn: this.onWindowError\n    }]);\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    this.unbind();\n  };\n\n  _proto.componentDidCatch = function componentDidCatch(err) {\n    if (err instanceof RbdInvariant) {\n      if (process.env.NODE_ENV !== 'production') {\n        error(err.message);\n      }\n\n      this.setState({});\n      return;\n    }\n\n    throw err;\n  };\n\n  _proto.render = function render() {\n    return this.props.children(this.setCallbacks);\n  };\n\n  return ErrorBoundary;\n}(React.Component);\n\nvar liftInstruction = \"Draggable item. Ensure your screen reader is not in browse mode and then press space bar to lift.\";\n\nvar position = function position(index) {\n  return index + 1;\n};\n\nvar onDragStart = function onDragStart(start) {\n  return \"\\n  You have lifted an item in position \" + position(start.source.index) + \".\\n  Use the arrow keys to move, space bar to drop, and escape to cancel.\\n\";\n};\n\nvar withLocation = function withLocation(source, destination) {\n  var isInHomeList = source.droppableId === destination.droppableId;\n  var startPosition = position(source.index);\n  var endPosition = position(destination.index);\n\n  if (isInHomeList) {\n    return \"\\n      You have moved the item from position \" + startPosition + \"\\n      to position \" + endPosition + \"\\n    \";\n  }\n\n  return \"\\n    You have moved the item from position \" + startPosition + \"\\n    in list \" + source.droppableId + \"\\n    to list \" + destination.droppableId + \"\\n    in position \" + endPosition + \"\\n  \";\n};\n\nvar withCombine = function withCombine(id, source, combine) {\n  var inHomeList = source.droppableId === combine.droppableId;\n\n  if (inHomeList) {\n    return \"\\n      The item \" + id + \"\\n      has been combined with \" + combine.draggableId;\n  }\n\n  return \"\\n      The item \" + id + \"\\n      in list \" + source.droppableId + \"\\n      has been combined with \" + combine.draggableId + \"\\n      in list \" + combine.droppableId + \"\\n    \";\n};\n\nvar onDragUpdate = function onDragUpdate(update) {\n  var location = update.destination;\n\n  if (location) {\n    return withLocation(update.source, location);\n  }\n\n  var combine = update.combine;\n\n  if (combine) {\n    return withCombine(update.draggableId, update.source, combine);\n  }\n\n  return 'You are over an area that cannot be dropped on';\n};\n\nvar returnedToStart = function returnedToStart(source) {\n  return \"\\n  The item has returned to its starting position\\n  of \" + position(source.index) + \"\\n\";\n};\n\nvar onDragEnd = function onDragEnd(result) {\n  if (result.reason === 'CANCEL') {\n    return \"\\n      Movement cancelled.\\n      \" + returnedToStart(result.source) + \"\\n    \";\n  }\n\n  var location = result.destination;\n  var combine = result.combine;\n\n  if (location) {\n    return \"\\n      You have dropped the item.\\n      \" + withLocation(result.source, location) + \"\\n    \";\n  }\n\n  if (combine) {\n    return \"\\n      You have dropped the item.\\n      \" + withCombine(result.draggableId, result.source, combine) + \"\\n    \";\n  }\n\n  return \"\\n    The item has been dropped while not over a drop area.\\n    \" + returnedToStart(result.source) + \"\\n  \";\n};\n\nvar preset = {\n  liftInstruction: liftInstruction,\n  onDragStart: onDragStart,\n  onDragUpdate: onDragUpdate,\n  onDragEnd: onDragEnd\n};\n\nvar origin = {\n  x: 0,\n  y: 0\n};\nvar add = function add(point1, point2) {\n  return {\n    x: point1.x + point2.x,\n    y: point1.y + point2.y\n  };\n};\nvar subtract = function subtract(point1, point2) {\n  return {\n    x: point1.x - point2.x,\n    y: point1.y - point2.y\n  };\n};\nvar isEqual = function isEqual(point1, point2) {\n  return point1.x === point2.x && point1.y === point2.y;\n};\nvar negate = function negate(point) {\n  return {\n    x: point.x !== 0 ? -point.x : 0,\n    y: point.y !== 0 ? -point.y : 0\n  };\n};\nvar patch = function patch(line, value, otherValue) {\n  var _ref;\n\n  if (otherValue === void 0) {\n    otherValue = 0;\n  }\n\n  return _ref = {}, _ref[line] = value, _ref[line === 'x' ? 'y' : 'x'] = otherValue, _ref;\n};\nvar distance = function distance(point1, point2) {\n  return Math.sqrt(Math.pow(point2.x - point1.x, 2) + Math.pow(point2.y - point1.y, 2));\n};\nvar closest = function closest(target, points) {\n  return Math.min.apply(Math, points.map(function (point) {\n    return distance(target, point);\n  }));\n};\nvar apply = function apply(fn) {\n  return function (point) {\n    return {\n      x: fn(point.x),\n      y: fn(point.y)\n    };\n  };\n};\n\nvar executeClip = (function (frame, subject) {\n  var result = getRect({\n    top: Math.max(subject.top, frame.top),\n    right: Math.min(subject.right, frame.right),\n    bottom: Math.min(subject.bottom, frame.bottom),\n    left: Math.max(subject.left, frame.left)\n  });\n\n  if (result.width <= 0 || result.height <= 0) {\n    return null;\n  }\n\n  return result;\n});\n\nvar offsetByPosition = function offsetByPosition(spacing, point) {\n  return {\n    top: spacing.top + point.y,\n    left: spacing.left + point.x,\n    bottom: spacing.bottom + point.y,\n    right: spacing.right + point.x\n  };\n};\nvar getCorners = function getCorners(spacing) {\n  return [{\n    x: spacing.left,\n    y: spacing.top\n  }, {\n    x: spacing.right,\n    y: spacing.top\n  }, {\n    x: spacing.left,\n    y: spacing.bottom\n  }, {\n    x: spacing.right,\n    y: spacing.bottom\n  }];\n};\nvar noSpacing = {\n  top: 0,\n  right: 0,\n  bottom: 0,\n  left: 0\n};\n\nvar scroll = function scroll(target, frame) {\n  if (!frame) {\n    return target;\n  }\n\n  return offsetByPosition(target, frame.scroll.diff.displacement);\n};\n\nvar increase = function increase(target, axis, withPlaceholder) {\n  if (withPlaceholder && withPlaceholder.increasedBy) {\n    var _extends2;\n\n    return _extends({}, target, (_extends2 = {}, _extends2[axis.end] = target[axis.end] + withPlaceholder.increasedBy[axis.line], _extends2));\n  }\n\n  return target;\n};\n\nvar clip = function clip(target, frame) {\n  if (frame && frame.shouldClipSubject) {\n    return executeClip(frame.pageMarginBox, target);\n  }\n\n  return getRect(target);\n};\n\nvar getSubject = (function (_ref) {\n  var page = _ref.page,\n      withPlaceholder = _ref.withPlaceholder,\n      axis = _ref.axis,\n      frame = _ref.frame;\n  var scrolled = scroll(page.marginBox, frame);\n  var increased = increase(scrolled, axis, withPlaceholder);\n  var clipped = clip(increased, frame);\n  return {\n    page: page,\n    withPlaceholder: withPlaceholder,\n    active: clipped\n  };\n});\n\nvar scrollDroppable = (function (droppable, newScroll) {\n  !droppable.frame ? process.env.NODE_ENV !== \"production\" ? invariant(false) : invariant(false) : void 0;\n  var scrollable = droppable.frame;\n  var scrollDiff = subtract(newScroll, scrollable.scroll.initial);\n  var scrollDisplacement = negate(scrollDiff);\n\n  var frame = _extends({}, scrollable, {\n    scroll: {\n      initial: scrollable.scroll.initial,\n      current: newScroll,\n      diff: {\n        value: scrollDiff,\n        displacement: scrollDisplacement\n      },\n      max: scrollable.scroll.max\n    }\n  });\n\n  var subject = getSubject({\n    page: droppable.subject.page,\n    withPlaceholder: droppable.subject.withPlaceholder,\n    axis: droppable.axis,\n    frame: frame\n  });\n\n  var result = _extends({}, droppable, {\n    frame: frame,\n    subject: subject\n  });\n\n  return result;\n});\n\nfunction values(map) {\n  return _Object$values(map);\n}\nfunction findIndex(list, predicate) {\n  if (list.findIndex) {\n    return list.findIndex(predicate);\n  }\n\n  for (var i = 0; i < list.length; i++) {\n    if (predicate(list[i])) {\n      return i;\n    }\n  }\n\n  return -1;\n}\nfunction find(list, predicate) {\n  if (list.find) {\n    return list.find(predicate);\n  }\n\n  var index = findIndex(list, predicate);\n\n  if (index !== -1) {\n    return list[index];\n  }\n\n  return undefined;\n}\nfunction toArray(list) {\n  return Array.prototype.slice.call(list);\n}\n\nvar toDroppableMap = memoizeOne(function (droppables) {\n  return droppables.reduce(function (previous, current) {\n    previous[current.descriptor.id] = current;\n    return previous;\n  }, {});\n});\nvar toDraggableMap = memoizeOne(function (draggables) {\n  return draggables.reduce(function (previous, current) {\n    previous[current.descriptor.id] = current;\n    return previous;\n  }, {});\n});\nvar toDroppableList = memoizeOne(function (droppables) {\n  return values(droppables);\n});\nvar toDraggableList = memoizeOne(function (draggables) {\n  return values(draggables);\n});\n\nvar getDraggablesInsideDroppable = memoizeOne(function (droppableId, draggables) {\n  var result = toDraggableList(draggables).filter(function (draggable) {\n    return droppableId === draggable.descriptor.droppableId;\n  }).sort(function (a, b) {\n    return a.descriptor.index - b.descriptor.index;\n  });\n  return result;\n});\n\nfunction tryGetDestination(impact) {\n  if (impact.at && impact.at.type === 'REORDER') {\n    return impact.at.destination;\n  }\n\n  return null;\n}\nfunction tryGetCombine(impact) {\n  if (impact.at && impact.at.type === 'COMBINE') {\n    return impact.at.combine;\n  }\n\n  return null;\n}\n\nvar removeDraggableFromList = memoizeOne(function (remove, list) {\n  return list.filter(function (item) {\n    return item.descriptor.id !== remove.descriptor.id;\n  });\n});\n\nvar moveToNextCombine = (function (_ref) {\n  var isMovingForward = _ref.isMovingForward,\n      draggable = _ref.draggable,\n      destination = _ref.destination,\n      insideDestination = _ref.insideDestination,\n      previousImpact = _ref.previousImpact;\n\n  if (!destination.isCombineEnabled) {\n    return null;\n  }\n\n  var location = tryGetDestination(previousImpact);\n\n  if (!location) {\n    return null;\n  }\n\n  function getImpact(target) {\n    var at = {\n      type: 'COMBINE',\n      combine: {\n        draggableId: target,\n        droppableId: destination.descriptor.id\n      }\n    };\n    return _extends({}, previousImpact, {\n      at: at\n    });\n  }\n\n  var all = previousImpact.displaced.all;\n  var closestId = all.length ? all[0] : null;\n\n  if (isMovingForward) {\n    return closestId ? getImpact(closestId) : null;\n  }\n\n  var withoutDraggable = removeDraggableFromList(draggable, insideDestination);\n\n  if (!closestId) {\n    if (!withoutDraggable.length) {\n      return null;\n    }\n\n    var last = withoutDraggable[withoutDraggable.length - 1];\n    return getImpact(last.descriptor.id);\n  }\n\n  var indexOfClosest = findIndex(withoutDraggable, function (d) {\n    return d.descriptor.id === closestId;\n  });\n  !(indexOfClosest !== -1) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Could not find displaced item in set') : invariant(false) : void 0;\n  var proposedIndex = indexOfClosest - 1;\n\n  if (proposedIndex < 0) {\n    return null;\n  }\n\n  var before = withoutDraggable[proposedIndex];\n  return getImpact(before.descriptor.id);\n});\n\nvar isHomeOf = (function (draggable, destination) {\n  return draggable.descriptor.droppableId === destination.descriptor.id;\n});\n\nvar noDisplacedBy = {\n  point: origin,\n  value: 0\n};\nvar emptyGroups = {\n  invisible: {},\n  visible: {},\n  all: []\n};\nvar noImpact = {\n  displaced: emptyGroups,\n  displacedBy: noDisplacedBy,\n  at: null\n};\n\nvar isWithin = (function (lowerBound, upperBound) {\n  return function (value) {\n    return lowerBound <= value && value <= upperBound;\n  };\n});\n\nvar isPartiallyVisibleThroughFrame = (function (frame) {\n  var isWithinVertical = isWithin(frame.top, frame.bottom);\n  var isWithinHorizontal = isWithin(frame.left, frame.right);\n  return function (subject) {\n    var isContained = isWithinVertical(subject.top) && isWithinVertical(subject.bottom) && isWithinHorizontal(subject.left) && isWithinHorizontal(subject.right);\n\n    if (isContained) {\n      return true;\n    }\n\n    var isPartiallyVisibleVertically = isWithinVertical(subject.top) || isWithinVertical(subject.bottom);\n    var isPartiallyVisibleHorizontally = isWithinHorizontal(subject.left) || isWithinHorizontal(subject.right);\n    var isPartiallyContained = isPartiallyVisibleVertically && isPartiallyVisibleHorizontally;\n\n    if (isPartiallyContained) {\n      return true;\n    }\n\n    var isBiggerVertically = subject.top < frame.top && subject.bottom > frame.bottom;\n    var isBiggerHorizontally = subject.left < frame.left && subject.right > frame.right;\n    var isTargetBiggerThanFrame = isBiggerVertically && isBiggerHorizontally;\n\n    if (isTargetBiggerThanFrame) {\n      return true;\n    }\n\n    var isTargetBiggerOnOneAxis = isBiggerVertically && isPartiallyVisibleHorizontally || isBiggerHorizontally && isPartiallyVisibleVertically;\n    return isTargetBiggerOnOneAxis;\n  };\n});\n\nvar isTotallyVisibleThroughFrame = (function (frame) {\n  var isWithinVertical = isWithin(frame.top, frame.bottom);\n  var isWithinHorizontal = isWithin(frame.left, frame.right);\n  return function (subject) {\n    var isContained = isWithinVertical(subject.top) && isWithinVertical(subject.bottom) && isWithinHorizontal(subject.left) && isWithinHorizontal(subject.right);\n    return isContained;\n  };\n});\n\nvar vertical = {\n  direction: 'vertical',\n  line: 'y',\n  crossAxisLine: 'x',\n  start: 'top',\n  end: 'bottom',\n  size: 'height',\n  crossAxisStart: 'left',\n  crossAxisEnd: 'right',\n  crossAxisSize: 'width'\n};\nvar horizontal = {\n  direction: 'horizontal',\n  line: 'x',\n  crossAxisLine: 'y',\n  start: 'left',\n  end: 'right',\n  size: 'width',\n  crossAxisStart: 'top',\n  crossAxisEnd: 'bottom',\n  crossAxisSize: 'height'\n};\n\nvar isTotallyVisibleThroughFrameOnAxis = (function (axis) {\n  return function (frame) {\n    var isWithinVertical = isWithin(frame.top, frame.bottom);\n    var isWithinHorizontal = isWithin(frame.left, frame.right);\n    return function (subject) {\n      if (axis === vertical) {\n        return isWithinVertical(subject.top) && isWithinVertical(subject.bottom);\n      }\n\n      return isWithinHorizontal(subject.left) && isWithinHorizontal(subject.right);\n    };\n  };\n});\n\nvar getDroppableDisplaced = function getDroppableDisplaced(target, destination) {\n  var displacement = destination.frame ? destination.frame.scroll.diff.displacement : origin;\n  return offsetByPosition(target, displacement);\n};\n\nvar isVisibleInDroppable = function isVisibleInDroppable(target, destination, isVisibleThroughFrameFn) {\n  if (!destination.subject.active) {\n    return false;\n  }\n\n  return isVisibleThroughFrameFn(destination.subject.active)(target);\n};\n\nvar isVisibleInViewport = function isVisibleInViewport(target, viewport, isVisibleThroughFrameFn) {\n  return isVisibleThroughFrameFn(viewport)(target);\n};\n\nvar isVisible = function isVisible(_ref) {\n  var toBeDisplaced = _ref.target,\n      destination = _ref.destination,\n      viewport = _ref.viewport,\n      withDroppableDisplacement = _ref.withDroppableDisplacement,\n      isVisibleThroughFrameFn = _ref.isVisibleThroughFrameFn;\n  var displacedTarget = withDroppableDisplacement ? getDroppableDisplaced(toBeDisplaced, destination) : toBeDisplaced;\n  return isVisibleInDroppable(displacedTarget, destination, isVisibleThroughFrameFn) && isVisibleInViewport(displacedTarget, viewport, isVisibleThroughFrameFn);\n};\n\nvar isPartiallyVisible = function isPartiallyVisible(args) {\n  return isVisible(_extends({}, args, {\n    isVisibleThroughFrameFn: isPartiallyVisibleThroughFrame\n  }));\n};\nvar isTotallyVisible = function isTotallyVisible(args) {\n  return isVisible(_extends({}, args, {\n    isVisibleThroughFrameFn: isTotallyVisibleThroughFrame\n  }));\n};\nvar isTotallyVisibleOnAxis = function isTotallyVisibleOnAxis(args) {\n  return isVisible(_extends({}, args, {\n    isVisibleThroughFrameFn: isTotallyVisibleThroughFrameOnAxis(args.destination.axis)\n  }));\n};\n\nvar getShouldAnimate = function getShouldAnimate(id, last, forceShouldAnimate) {\n  if (typeof forceShouldAnimate === 'boolean') {\n    return forceShouldAnimate;\n  }\n\n  if (!last) {\n    return true;\n  }\n\n  var invisible = last.invisible,\n      visible = last.visible;\n\n  if (invisible[id]) {\n    return false;\n  }\n\n  var previous = visible[id];\n  return previous ? previous.shouldAnimate : true;\n};\n\nfunction getTarget(draggable, displacedBy) {\n  var marginBox = draggable.page.marginBox;\n  var expandBy = {\n    top: displacedBy.point.y,\n    right: 0,\n    bottom: 0,\n    left: displacedBy.point.x\n  };\n  return getRect(expand(marginBox, expandBy));\n}\n\nfunction getDisplacementGroups(_ref) {\n  var afterDragging = _ref.afterDragging,\n      destination = _ref.destination,\n      displacedBy = _ref.displacedBy,\n      viewport = _ref.viewport,\n      forceShouldAnimate = _ref.forceShouldAnimate,\n      last = _ref.last;\n  return afterDragging.reduce(function process(groups, draggable) {\n    var target = getTarget(draggable, displacedBy);\n    var id = draggable.descriptor.id;\n    groups.all.push(id);\n    var isVisible = isPartiallyVisible({\n      target: target,\n      destination: destination,\n      viewport: viewport,\n      withDroppableDisplacement: true\n    });\n\n    if (!isVisible) {\n      groups.invisible[draggable.descriptor.id] = true;\n      return groups;\n    }\n\n    var shouldAnimate = getShouldAnimate(id, last, forceShouldAnimate);\n    var displacement = {\n      draggableId: id,\n      shouldAnimate: shouldAnimate\n    };\n    groups.visible[id] = displacement;\n    return groups;\n  }, {\n    all: [],\n    visible: {},\n    invisible: {}\n  });\n}\n\nfunction getIndexOfLastItem(draggables, options) {\n  if (!draggables.length) {\n    return 0;\n  }\n\n  var indexOfLastItem = draggables[draggables.length - 1].descriptor.index;\n  return options.inHomeList ? indexOfLastItem : indexOfLastItem + 1;\n}\n\nfunction goAtEnd(_ref) {\n  var insideDestination = _ref.insideDestination,\n      inHomeList = _ref.inHomeList,\n      displacedBy = _ref.displacedBy,\n      destination = _ref.destination;\n  var newIndex = getIndexOfLastItem(insideDestination, {\n    inHomeList: inHomeList\n  });\n  return {\n    displaced: emptyGroups,\n    displacedBy: displacedBy,\n    at: {\n      type: 'REORDER',\n      destination: {\n        droppableId: destination.descriptor.id,\n        index: newIndex\n      }\n    }\n  };\n}\n\nfunction calculateReorderImpact(_ref2) {\n  var draggable = _ref2.draggable,\n      insideDestination = _ref2.insideDestination,\n      destination = _ref2.destination,\n      viewport = _ref2.viewport,\n      displacedBy = _ref2.displacedBy,\n      last = _ref2.last,\n      index = _ref2.index,\n      forceShouldAnimate = _ref2.forceShouldAnimate;\n  var inHomeList = isHomeOf(draggable, destination);\n\n  if (index == null) {\n    return goAtEnd({\n      insideDestination: insideDestination,\n      inHomeList: inHomeList,\n      displacedBy: displacedBy,\n      destination: destination\n    });\n  }\n\n  var match = find(insideDestination, function (item) {\n    return item.descriptor.index === index;\n  });\n\n  if (!match) {\n    return goAtEnd({\n      insideDestination: insideDestination,\n      inHomeList: inHomeList,\n      displacedBy: displacedBy,\n      destination: destination\n    });\n  }\n\n  var withoutDragging = removeDraggableFromList(draggable, insideDestination);\n  var sliceFrom = insideDestination.indexOf(match);\n  var impacted = withoutDragging.slice(sliceFrom);\n  var displaced = getDisplacementGroups({\n    afterDragging: impacted,\n    destination: destination,\n    displacedBy: displacedBy,\n    last: last,\n    viewport: viewport.frame,\n    forceShouldAnimate: forceShouldAnimate\n  });\n  return {\n    displaced: displaced,\n    displacedBy: displacedBy,\n    at: {\n      type: 'REORDER',\n      destination: {\n        droppableId: destination.descriptor.id,\n        index: index\n      }\n    }\n  };\n}\n\nfunction didStartAfterCritical(draggableId, afterCritical) {\n  return Boolean(afterCritical.effected[draggableId]);\n}\n\nvar fromCombine = (function (_ref) {\n  var isMovingForward = _ref.isMovingForward,\n      destination = _ref.destination,\n      draggables = _ref.draggables,\n      combine = _ref.combine,\n      afterCritical = _ref.afterCritical;\n\n  if (!destination.isCombineEnabled) {\n    return null;\n  }\n\n  var combineId = combine.draggableId;\n  var combineWith = draggables[combineId];\n  var combineWithIndex = combineWith.descriptor.index;\n  var didCombineWithStartAfterCritical = didStartAfterCritical(combineId, afterCritical);\n\n  if (didCombineWithStartAfterCritical) {\n    if (isMovingForward) {\n      return combineWithIndex;\n    }\n\n    return combineWithIndex - 1;\n  }\n\n  if (isMovingForward) {\n    return combineWithIndex + 1;\n  }\n\n  return combineWithIndex;\n});\n\nvar fromReorder = (function (_ref) {\n  var isMovingForward = _ref.isMovingForward,\n      isInHomeList = _ref.isInHomeList,\n      insideDestination = _ref.insideDestination,\n      location = _ref.location;\n\n  if (!insideDestination.length) {\n    return null;\n  }\n\n  var currentIndex = location.index;\n  var proposedIndex = isMovingForward ? currentIndex + 1 : currentIndex - 1;\n  var firstIndex = insideDestination[0].descriptor.index;\n  var lastIndex = insideDestination[insideDestination.length - 1].descriptor.index;\n  var upperBound = isInHomeList ? lastIndex : lastIndex + 1;\n\n  if (proposedIndex < firstIndex) {\n    return null;\n  }\n\n  if (proposedIndex > upperBound) {\n    return null;\n  }\n\n  return proposedIndex;\n});\n\nvar moveToNextIndex = (function (_ref) {\n  var isMovingForward = _ref.isMovingForward,\n      isInHomeList = _ref.isInHomeList,\n      draggable = _ref.draggable,\n      draggables = _ref.draggables,\n      destination = _ref.destination,\n      insideDestination = _ref.insideDestination,\n      previousImpact = _ref.previousImpact,\n      viewport = _ref.viewport,\n      afterCritical = _ref.afterCritical;\n  var wasAt = previousImpact.at;\n  !wasAt ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot move in direction without previous impact location') : invariant(false) : void 0;\n\n  if (wasAt.type === 'REORDER') {\n    var _newIndex = fromReorder({\n      isMovingForward: isMovingForward,\n      isInHomeList: isInHomeList,\n      location: wasAt.destination,\n      insideDestination: insideDestination\n    });\n\n    if (_newIndex == null) {\n      return null;\n    }\n\n    return calculateReorderImpact({\n      draggable: draggable,\n      insideDestination: insideDestination,\n      destination: destination,\n      viewport: viewport,\n      last: previousImpact.displaced,\n      displacedBy: previousImpact.displacedBy,\n      index: _newIndex\n    });\n  }\n\n  var newIndex = fromCombine({\n    isMovingForward: isMovingForward,\n    destination: destination,\n    displaced: previousImpact.displaced,\n    draggables: draggables,\n    combine: wasAt.combine,\n    afterCritical: afterCritical\n  });\n\n  if (newIndex == null) {\n    return null;\n  }\n\n  return calculateReorderImpact({\n    draggable: draggable,\n    insideDestination: insideDestination,\n    destination: destination,\n    viewport: viewport,\n    last: previousImpact.displaced,\n    displacedBy: previousImpact.displacedBy,\n    index: newIndex\n  });\n});\n\nvar getCombinedItemDisplacement = (function (_ref) {\n  var displaced = _ref.displaced,\n      afterCritical = _ref.afterCritical,\n      combineWith = _ref.combineWith,\n      displacedBy = _ref.displacedBy;\n  var isDisplaced = Boolean(displaced.visible[combineWith] || displaced.invisible[combineWith]);\n\n  if (didStartAfterCritical(combineWith, afterCritical)) {\n    return isDisplaced ? origin : negate(displacedBy.point);\n  }\n\n  return isDisplaced ? displacedBy.point : origin;\n});\n\nvar whenCombining = (function (_ref) {\n  var afterCritical = _ref.afterCritical,\n      impact = _ref.impact,\n      draggables = _ref.draggables;\n  var combine = tryGetCombine(impact);\n  !combine ? process.env.NODE_ENV !== \"production\" ? invariant(false) : invariant(false) : void 0;\n  var combineWith = combine.draggableId;\n  var center = draggables[combineWith].page.borderBox.center;\n  var displaceBy = getCombinedItemDisplacement({\n    displaced: impact.displaced,\n    afterCritical: afterCritical,\n    combineWith: combineWith,\n    displacedBy: impact.displacedBy\n  });\n  return add(center, displaceBy);\n});\n\nvar distanceFromStartToBorderBoxCenter = function distanceFromStartToBorderBoxCenter(axis, box) {\n  return box.margin[axis.start] + box.borderBox[axis.size] / 2;\n};\n\nvar distanceFromEndToBorderBoxCenter = function distanceFromEndToBorderBoxCenter(axis, box) {\n  return box.margin[axis.end] + box.borderBox[axis.size] / 2;\n};\n\nvar getCrossAxisBorderBoxCenter = function getCrossAxisBorderBoxCenter(axis, target, isMoving) {\n  return target[axis.crossAxisStart] + isMoving.margin[axis.crossAxisStart] + isMoving.borderBox[axis.crossAxisSize] / 2;\n};\n\nvar goAfter = function goAfter(_ref) {\n  var axis = _ref.axis,\n      moveRelativeTo = _ref.moveRelativeTo,\n      isMoving = _ref.isMoving;\n  return patch(axis.line, moveRelativeTo.marginBox[axis.end] + distanceFromStartToBorderBoxCenter(axis, isMoving), getCrossAxisBorderBoxCenter(axis, moveRelativeTo.marginBox, isMoving));\n};\nvar goBefore = function goBefore(_ref2) {\n  var axis = _ref2.axis,\n      moveRelativeTo = _ref2.moveRelativeTo,\n      isMoving = _ref2.isMoving;\n  return patch(axis.line, moveRelativeTo.marginBox[axis.start] - distanceFromEndToBorderBoxCenter(axis, isMoving), getCrossAxisBorderBoxCenter(axis, moveRelativeTo.marginBox, isMoving));\n};\nvar goIntoStart = function goIntoStart(_ref3) {\n  var axis = _ref3.axis,\n      moveInto = _ref3.moveInto,\n      isMoving = _ref3.isMoving;\n  return patch(axis.line, moveInto.contentBox[axis.start] + distanceFromStartToBorderBoxCenter(axis, isMoving), getCrossAxisBorderBoxCenter(axis, moveInto.contentBox, isMoving));\n};\n\nvar whenReordering = (function (_ref) {\n  var impact = _ref.impact,\n      draggable = _ref.draggable,\n      draggables = _ref.draggables,\n      droppable = _ref.droppable,\n      afterCritical = _ref.afterCritical;\n  var insideDestination = getDraggablesInsideDroppable(droppable.descriptor.id, draggables);\n  var draggablePage = draggable.page;\n  var axis = droppable.axis;\n\n  if (!insideDestination.length) {\n    return goIntoStart({\n      axis: axis,\n      moveInto: droppable.page,\n      isMoving: draggablePage\n    });\n  }\n\n  var displaced = impact.displaced,\n      displacedBy = impact.displacedBy;\n  var closestAfter = displaced.all[0];\n\n  if (closestAfter) {\n    var closest = draggables[closestAfter];\n\n    if (didStartAfterCritical(closestAfter, afterCritical)) {\n      return goBefore({\n        axis: axis,\n        moveRelativeTo: closest.page,\n        isMoving: draggablePage\n      });\n    }\n\n    var withDisplacement = offset(closest.page, displacedBy.point);\n    return goBefore({\n      axis: axis,\n      moveRelativeTo: withDisplacement,\n      isMoving: draggablePage\n    });\n  }\n\n  var last = insideDestination[insideDestination.length - 1];\n\n  if (last.descriptor.id === draggable.descriptor.id) {\n    return draggablePage.borderBox.center;\n  }\n\n  if (didStartAfterCritical(last.descriptor.id, afterCritical)) {\n    var page = offset(last.page, negate(afterCritical.displacedBy.point));\n    return goAfter({\n      axis: axis,\n      moveRelativeTo: page,\n      isMoving: draggablePage\n    });\n  }\n\n  return goAfter({\n    axis: axis,\n    moveRelativeTo: last.page,\n    isMoving: draggablePage\n  });\n});\n\nvar withDroppableDisplacement = (function (droppable, point) {\n  var frame = droppable.frame;\n\n  if (!frame) {\n    return point;\n  }\n\n  return add(point, frame.scroll.diff.displacement);\n});\n\nvar getResultWithoutDroppableDisplacement = function getResultWithoutDroppableDisplacement(_ref) {\n  var impact = _ref.impact,\n      draggable = _ref.draggable,\n      droppable = _ref.droppable,\n      draggables = _ref.draggables,\n      afterCritical = _ref.afterCritical;\n  var original = draggable.page.borderBox.center;\n  var at = impact.at;\n\n  if (!droppable) {\n    return original;\n  }\n\n  if (!at) {\n    return original;\n  }\n\n  if (at.type === 'REORDER') {\n    return whenReordering({\n      impact: impact,\n      draggable: draggable,\n      draggables: draggables,\n      droppable: droppable,\n      afterCritical: afterCritical\n    });\n  }\n\n  return whenCombining({\n    impact: impact,\n    draggables: draggables,\n    afterCritical: afterCritical\n  });\n};\n\nvar getPageBorderBoxCenterFromImpact = (function (args) {\n  var withoutDisplacement = getResultWithoutDroppableDisplacement(args);\n  var droppable = args.droppable;\n  var withDisplacement = droppable ? withDroppableDisplacement(droppable, withoutDisplacement) : withoutDisplacement;\n  return withDisplacement;\n});\n\nvar scrollViewport = (function (viewport, newScroll) {\n  var diff = subtract(newScroll, viewport.scroll.initial);\n  var displacement = negate(diff);\n  var frame = getRect({\n    top: newScroll.y,\n    bottom: newScroll.y + viewport.frame.height,\n    left: newScroll.x,\n    right: newScroll.x + viewport.frame.width\n  });\n  var updated = {\n    frame: frame,\n    scroll: {\n      initial: viewport.scroll.initial,\n      max: viewport.scroll.max,\n      current: newScroll,\n      diff: {\n        value: diff,\n        displacement: displacement\n      }\n    }\n  };\n  return updated;\n});\n\nfunction getDraggables(ids, draggables) {\n  return ids.map(function (id) {\n    return draggables[id];\n  });\n}\n\nfunction tryGetVisible(id, groups) {\n  for (var i = 0; i < groups.length; i++) {\n    var displacement = groups[i].visible[id];\n\n    if (displacement) {\n      return displacement;\n    }\n  }\n\n  return null;\n}\n\nvar speculativelyIncrease = (function (_ref) {\n  var impact = _ref.impact,\n      viewport = _ref.viewport,\n      destination = _ref.destination,\n      draggables = _ref.draggables,\n      maxScrollChange = _ref.maxScrollChange;\n  var scrolledViewport = scrollViewport(viewport, add(viewport.scroll.current, maxScrollChange));\n  var scrolledDroppable = destination.frame ? scrollDroppable(destination, add(destination.frame.scroll.current, maxScrollChange)) : destination;\n  var last = impact.displaced;\n  var withViewportScroll = getDisplacementGroups({\n    afterDragging: getDraggables(last.all, draggables),\n    destination: destination,\n    displacedBy: impact.displacedBy,\n    viewport: scrolledViewport.frame,\n    last: last,\n    forceShouldAnimate: false\n  });\n  var withDroppableScroll = getDisplacementGroups({\n    afterDragging: getDraggables(last.all, draggables),\n    destination: scrolledDroppable,\n    displacedBy: impact.displacedBy,\n    viewport: viewport.frame,\n    last: last,\n    forceShouldAnimate: false\n  });\n  var invisible = {};\n  var visible = {};\n  var groups = [last, withViewportScroll, withDroppableScroll];\n  last.all.forEach(function (id) {\n    var displacement = tryGetVisible(id, groups);\n\n    if (displacement) {\n      visible[id] = displacement;\n      return;\n    }\n\n    invisible[id] = true;\n  });\n\n  var newImpact = _extends({}, impact, {\n    displaced: {\n      all: last.all,\n      invisible: invisible,\n      visible: visible\n    }\n  });\n\n  return newImpact;\n});\n\nvar withViewportDisplacement = (function (viewport, point) {\n  return add(viewport.scroll.diff.displacement, point);\n});\n\nvar getClientFromPageBorderBoxCenter = (function (_ref) {\n  var pageBorderBoxCenter = _ref.pageBorderBoxCenter,\n      draggable = _ref.draggable,\n      viewport = _ref.viewport;\n  var withoutPageScrollChange = withViewportDisplacement(viewport, pageBorderBoxCenter);\n  var offset = subtract(withoutPageScrollChange, draggable.page.borderBox.center);\n  return add(draggable.client.borderBox.center, offset);\n});\n\nvar isTotallyVisibleInNewLocation = (function (_ref) {\n  var draggable = _ref.draggable,\n      destination = _ref.destination,\n      newPageBorderBoxCenter = _ref.newPageBorderBoxCenter,\n      viewport = _ref.viewport,\n      withDroppableDisplacement = _ref.withDroppableDisplacement,\n      _ref$onlyOnMainAxis = _ref.onlyOnMainAxis,\n      onlyOnMainAxis = _ref$onlyOnMainAxis === void 0 ? false : _ref$onlyOnMainAxis;\n  var changeNeeded = subtract(newPageBorderBoxCenter, draggable.page.borderBox.center);\n  var shifted = offsetByPosition(draggable.page.borderBox, changeNeeded);\n  var args = {\n    target: shifted,\n    destination: destination,\n    withDroppableDisplacement: withDroppableDisplacement,\n    viewport: viewport\n  };\n  return onlyOnMainAxis ? isTotallyVisibleOnAxis(args) : isTotallyVisible(args);\n});\n\nvar moveToNextPlace = (function (_ref) {\n  var isMovingForward = _ref.isMovingForward,\n      draggable = _ref.draggable,\n      destination = _ref.destination,\n      draggables = _ref.draggables,\n      previousImpact = _ref.previousImpact,\n      viewport = _ref.viewport,\n      previousPageBorderBoxCenter = _ref.previousPageBorderBoxCenter,\n      previousClientSelection = _ref.previousClientSelection,\n      afterCritical = _ref.afterCritical;\n\n  if (!destination.isEnabled) {\n    return null;\n  }\n\n  var insideDestination = getDraggablesInsideDroppable(destination.descriptor.id, draggables);\n  var isInHomeList = isHomeOf(draggable, destination);\n  var impact = moveToNextCombine({\n    isMovingForward: isMovingForward,\n    draggable: draggable,\n    destination: destination,\n    insideDestination: insideDestination,\n    previousImpact: previousImpact\n  }) || moveToNextIndex({\n    isMovingForward: isMovingForward,\n    isInHomeList: isInHomeList,\n    draggable: draggable,\n    draggables: draggables,\n    destination: destination,\n    insideDestination: insideDestination,\n    previousImpact: previousImpact,\n    viewport: viewport,\n    afterCritical: afterCritical\n  });\n\n  if (!impact) {\n    return null;\n  }\n\n  var pageBorderBoxCenter = getPageBorderBoxCenterFromImpact({\n    impact: impact,\n    draggable: draggable,\n    droppable: destination,\n    draggables: draggables,\n    afterCritical: afterCritical\n  });\n  var isVisibleInNewLocation = isTotallyVisibleInNewLocation({\n    draggable: draggable,\n    destination: destination,\n    newPageBorderBoxCenter: pageBorderBoxCenter,\n    viewport: viewport.frame,\n    withDroppableDisplacement: false,\n    onlyOnMainAxis: true\n  });\n\n  if (isVisibleInNewLocation) {\n    var clientSelection = getClientFromPageBorderBoxCenter({\n      pageBorderBoxCenter: pageBorderBoxCenter,\n      draggable: draggable,\n      viewport: viewport\n    });\n    return {\n      clientSelection: clientSelection,\n      impact: impact,\n      scrollJumpRequest: null\n    };\n  }\n\n  var distance = subtract(pageBorderBoxCenter, previousPageBorderBoxCenter);\n  var cautious = speculativelyIncrease({\n    impact: impact,\n    viewport: viewport,\n    destination: destination,\n    draggables: draggables,\n    maxScrollChange: distance\n  });\n  return {\n    clientSelection: previousClientSelection,\n    impact: cautious,\n    scrollJumpRequest: distance\n  };\n});\n\nvar getKnownActive = function getKnownActive(droppable) {\n  var rect = droppable.subject.active;\n  !rect ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot get clipped area from droppable') : invariant(false) : void 0;\n  return rect;\n};\n\nvar getBestCrossAxisDroppable = (function (_ref) {\n  var isMovingForward = _ref.isMovingForward,\n      pageBorderBoxCenter = _ref.pageBorderBoxCenter,\n      source = _ref.source,\n      droppables = _ref.droppables,\n      viewport = _ref.viewport;\n  var active = source.subject.active;\n\n  if (!active) {\n    return null;\n  }\n\n  var axis = source.axis;\n  var isBetweenSourceClipped = isWithin(active[axis.start], active[axis.end]);\n  var candidates = toDroppableList(droppables).filter(function (droppable) {\n    return droppable !== source;\n  }).filter(function (droppable) {\n    return droppable.isEnabled;\n  }).filter(function (droppable) {\n    return Boolean(droppable.subject.active);\n  }).filter(function (droppable) {\n    return isPartiallyVisibleThroughFrame(viewport.frame)(getKnownActive(droppable));\n  }).filter(function (droppable) {\n    var activeOfTarget = getKnownActive(droppable);\n\n    if (isMovingForward) {\n      return active[axis.crossAxisEnd] < activeOfTarget[axis.crossAxisEnd];\n    }\n\n    return activeOfTarget[axis.crossAxisStart] < active[axis.crossAxisStart];\n  }).filter(function (droppable) {\n    var activeOfTarget = getKnownActive(droppable);\n    var isBetweenDestinationClipped = isWithin(activeOfTarget[axis.start], activeOfTarget[axis.end]);\n    return isBetweenSourceClipped(activeOfTarget[axis.start]) || isBetweenSourceClipped(activeOfTarget[axis.end]) || isBetweenDestinationClipped(active[axis.start]) || isBetweenDestinationClipped(active[axis.end]);\n  }).sort(function (a, b) {\n    var first = getKnownActive(a)[axis.crossAxisStart];\n    var second = getKnownActive(b)[axis.crossAxisStart];\n\n    if (isMovingForward) {\n      return first - second;\n    }\n\n    return second - first;\n  }).filter(function (droppable, index, array) {\n    return getKnownActive(droppable)[axis.crossAxisStart] === getKnownActive(array[0])[axis.crossAxisStart];\n  });\n\n  if (!candidates.length) {\n    return null;\n  }\n\n  if (candidates.length === 1) {\n    return candidates[0];\n  }\n\n  var contains = candidates.filter(function (droppable) {\n    var isWithinDroppable = isWithin(getKnownActive(droppable)[axis.start], getKnownActive(droppable)[axis.end]);\n    return isWithinDroppable(pageBorderBoxCenter[axis.line]);\n  });\n\n  if (contains.length === 1) {\n    return contains[0];\n  }\n\n  if (contains.length > 1) {\n    return contains.sort(function (a, b) {\n      return getKnownActive(a)[axis.start] - getKnownActive(b)[axis.start];\n    })[0];\n  }\n\n  return candidates.sort(function (a, b) {\n    var first = closest(pageBorderBoxCenter, getCorners(getKnownActive(a)));\n    var second = closest(pageBorderBoxCenter, getCorners(getKnownActive(b)));\n\n    if (first !== second) {\n      return first - second;\n    }\n\n    return getKnownActive(a)[axis.start] - getKnownActive(b)[axis.start];\n  })[0];\n});\n\nvar getCurrentPageBorderBoxCenter = function getCurrentPageBorderBoxCenter(draggable, afterCritical) {\n  var original = draggable.page.borderBox.center;\n  return didStartAfterCritical(draggable.descriptor.id, afterCritical) ? subtract(original, afterCritical.displacedBy.point) : original;\n};\nvar getCurrentPageBorderBox = function getCurrentPageBorderBox(draggable, afterCritical) {\n  var original = draggable.page.borderBox;\n  return didStartAfterCritical(draggable.descriptor.id, afterCritical) ? offsetByPosition(original, negate(afterCritical.displacedBy.point)) : original;\n};\n\nvar getClosestDraggable = (function (_ref) {\n  var pageBorderBoxCenter = _ref.pageBorderBoxCenter,\n      viewport = _ref.viewport,\n      destination = _ref.destination,\n      insideDestination = _ref.insideDestination,\n      afterCritical = _ref.afterCritical;\n  var sorted = insideDestination.filter(function (draggable) {\n    return isTotallyVisible({\n      target: getCurrentPageBorderBox(draggable, afterCritical),\n      destination: destination,\n      viewport: viewport.frame,\n      withDroppableDisplacement: true\n    });\n  }).sort(function (a, b) {\n    var distanceToA = distance(pageBorderBoxCenter, withDroppableDisplacement(destination, getCurrentPageBorderBoxCenter(a, afterCritical)));\n    var distanceToB = distance(pageBorderBoxCenter, withDroppableDisplacement(destination, getCurrentPageBorderBoxCenter(b, afterCritical)));\n\n    if (distanceToA < distanceToB) {\n      return -1;\n    }\n\n    if (distanceToB < distanceToA) {\n      return 1;\n    }\n\n    return a.descriptor.index - b.descriptor.index;\n  });\n  return sorted[0] || null;\n});\n\nvar getDisplacedBy = memoizeOne(function getDisplacedBy(axis, displaceBy) {\n  var displacement = displaceBy[axis.line];\n  return {\n    value: displacement,\n    point: patch(axis.line, displacement)\n  };\n});\n\nvar getRequiredGrowthForPlaceholder = function getRequiredGrowthForPlaceholder(droppable, placeholderSize, draggables) {\n  var axis = droppable.axis;\n\n  if (droppable.descriptor.mode === 'virtual') {\n    return patch(axis.line, placeholderSize[axis.line]);\n  }\n\n  var availableSpace = droppable.subject.page.contentBox[axis.size];\n  var insideDroppable = getDraggablesInsideDroppable(droppable.descriptor.id, draggables);\n  var spaceUsed = insideDroppable.reduce(function (sum, dimension) {\n    return sum + dimension.client.marginBox[axis.size];\n  }, 0);\n  var requiredSpace = spaceUsed + placeholderSize[axis.line];\n  var needsToGrowBy = requiredSpace - availableSpace;\n\n  if (needsToGrowBy <= 0) {\n    return null;\n  }\n\n  return patch(axis.line, needsToGrowBy);\n};\n\nvar withMaxScroll = function withMaxScroll(frame, max) {\n  return _extends({}, frame, {\n    scroll: _extends({}, frame.scroll, {\n      max: max\n    })\n  });\n};\n\nvar addPlaceholder = function addPlaceholder(droppable, draggable, draggables) {\n  var frame = droppable.frame;\n  !!isHomeOf(draggable, droppable) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Should not add placeholder space to home list') : invariant(false) : void 0;\n  !!droppable.subject.withPlaceholder ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot add placeholder size to a subject when it already has one') : invariant(false) : void 0;\n  var placeholderSize = getDisplacedBy(droppable.axis, draggable.displaceBy).point;\n  var requiredGrowth = getRequiredGrowthForPlaceholder(droppable, placeholderSize, draggables);\n  var added = {\n    placeholderSize: placeholderSize,\n    increasedBy: requiredGrowth,\n    oldFrameMaxScroll: droppable.frame ? droppable.frame.scroll.max : null\n  };\n\n  if (!frame) {\n    var _subject = getSubject({\n      page: droppable.subject.page,\n      withPlaceholder: added,\n      axis: droppable.axis,\n      frame: droppable.frame\n    });\n\n    return _extends({}, droppable, {\n      subject: _subject\n    });\n  }\n\n  var maxScroll = requiredGrowth ? add(frame.scroll.max, requiredGrowth) : frame.scroll.max;\n  var newFrame = withMaxScroll(frame, maxScroll);\n  var subject = getSubject({\n    page: droppable.subject.page,\n    withPlaceholder: added,\n    axis: droppable.axis,\n    frame: newFrame\n  });\n  return _extends({}, droppable, {\n    subject: subject,\n    frame: newFrame\n  });\n};\nvar removePlaceholder = function removePlaceholder(droppable) {\n  var added = droppable.subject.withPlaceholder;\n  !added ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot remove placeholder form subject when there was none') : invariant(false) : void 0;\n  var frame = droppable.frame;\n\n  if (!frame) {\n    var _subject2 = getSubject({\n      page: droppable.subject.page,\n      axis: droppable.axis,\n      frame: null,\n      withPlaceholder: null\n    });\n\n    return _extends({}, droppable, {\n      subject: _subject2\n    });\n  }\n\n  var oldMaxScroll = added.oldFrameMaxScroll;\n  !oldMaxScroll ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Expected droppable with frame to have old max frame scroll when removing placeholder') : invariant(false) : void 0;\n  var newFrame = withMaxScroll(frame, oldMaxScroll);\n  var subject = getSubject({\n    page: droppable.subject.page,\n    axis: droppable.axis,\n    frame: newFrame,\n    withPlaceholder: null\n  });\n  return _extends({}, droppable, {\n    subject: subject,\n    frame: newFrame\n  });\n};\n\nvar moveToNewDroppable = (function (_ref) {\n  var previousPageBorderBoxCenter = _ref.previousPageBorderBoxCenter,\n      moveRelativeTo = _ref.moveRelativeTo,\n      insideDestination = _ref.insideDestination,\n      draggable = _ref.draggable,\n      draggables = _ref.draggables,\n      destination = _ref.destination,\n      viewport = _ref.viewport,\n      afterCritical = _ref.afterCritical;\n\n  if (!moveRelativeTo) {\n    if (insideDestination.length) {\n      return null;\n    }\n\n    var proposed = {\n      displaced: emptyGroups,\n      displacedBy: noDisplacedBy,\n      at: {\n        type: 'REORDER',\n        destination: {\n          droppableId: destination.descriptor.id,\n          index: 0\n        }\n      }\n    };\n    var proposedPageBorderBoxCenter = getPageBorderBoxCenterFromImpact({\n      impact: proposed,\n      draggable: draggable,\n      droppable: destination,\n      draggables: draggables,\n      afterCritical: afterCritical\n    });\n    var withPlaceholder = isHomeOf(draggable, destination) ? destination : addPlaceholder(destination, draggable, draggables);\n    var isVisibleInNewLocation = isTotallyVisibleInNewLocation({\n      draggable: draggable,\n      destination: withPlaceholder,\n      newPageBorderBoxCenter: proposedPageBorderBoxCenter,\n      viewport: viewport.frame,\n      withDroppableDisplacement: false,\n      onlyOnMainAxis: true\n    });\n    return isVisibleInNewLocation ? proposed : null;\n  }\n\n  var isGoingBeforeTarget = Boolean(previousPageBorderBoxCenter[destination.axis.line] <= moveRelativeTo.page.borderBox.center[destination.axis.line]);\n\n  var proposedIndex = function () {\n    var relativeTo = moveRelativeTo.descriptor.index;\n\n    if (moveRelativeTo.descriptor.id === draggable.descriptor.id) {\n      return relativeTo;\n    }\n\n    if (isGoingBeforeTarget) {\n      return relativeTo;\n    }\n\n    return relativeTo + 1;\n  }();\n\n  var displacedBy = getDisplacedBy(destination.axis, draggable.displaceBy);\n  return calculateReorderImpact({\n    draggable: draggable,\n    insideDestination: insideDestination,\n    destination: destination,\n    viewport: viewport,\n    displacedBy: displacedBy,\n    last: emptyGroups,\n    index: proposedIndex\n  });\n});\n\nvar moveCrossAxis = (function (_ref) {\n  var isMovingForward = _ref.isMovingForward,\n      previousPageBorderBoxCenter = _ref.previousPageBorderBoxCenter,\n      draggable = _ref.draggable,\n      isOver = _ref.isOver,\n      draggables = _ref.draggables,\n      droppables = _ref.droppables,\n      viewport = _ref.viewport,\n      afterCritical = _ref.afterCritical;\n  var destination = getBestCrossAxisDroppable({\n    isMovingForward: isMovingForward,\n    pageBorderBoxCenter: previousPageBorderBoxCenter,\n    source: isOver,\n    droppables: droppables,\n    viewport: viewport\n  });\n\n  if (!destination) {\n    return null;\n  }\n\n  var insideDestination = getDraggablesInsideDroppable(destination.descriptor.id, draggables);\n  var moveRelativeTo = getClosestDraggable({\n    pageBorderBoxCenter: previousPageBorderBoxCenter,\n    viewport: viewport,\n    destination: destination,\n    insideDestination: insideDestination,\n    afterCritical: afterCritical\n  });\n  var impact = moveToNewDroppable({\n    previousPageBorderBoxCenter: previousPageBorderBoxCenter,\n    destination: destination,\n    draggable: draggable,\n    draggables: draggables,\n    moveRelativeTo: moveRelativeTo,\n    insideDestination: insideDestination,\n    viewport: viewport,\n    afterCritical: afterCritical\n  });\n\n  if (!impact) {\n    return null;\n  }\n\n  var pageBorderBoxCenter = getPageBorderBoxCenterFromImpact({\n    impact: impact,\n    draggable: draggable,\n    droppable: destination,\n    draggables: draggables,\n    afterCritical: afterCritical\n  });\n  var clientSelection = getClientFromPageBorderBoxCenter({\n    pageBorderBoxCenter: pageBorderBoxCenter,\n    draggable: draggable,\n    viewport: viewport\n  });\n  return {\n    clientSelection: clientSelection,\n    impact: impact,\n    scrollJumpRequest: null\n  };\n});\n\nvar whatIsDraggedOver = (function (impact) {\n  var at = impact.at;\n\n  if (!at) {\n    return null;\n  }\n\n  if (at.type === 'REORDER') {\n    return at.destination.droppableId;\n  }\n\n  return at.combine.droppableId;\n});\n\nvar getDroppableOver = function getDroppableOver(impact, droppables) {\n  var id = whatIsDraggedOver(impact);\n  return id ? droppables[id] : null;\n};\n\nvar moveInDirection = (function (_ref) {\n  var state = _ref.state,\n      type = _ref.type;\n  var isActuallyOver = getDroppableOver(state.impact, state.dimensions.droppables);\n  var isMainAxisMovementAllowed = Boolean(isActuallyOver);\n  var home = state.dimensions.droppables[state.critical.droppable.id];\n  var isOver = isActuallyOver || home;\n  var direction = isOver.axis.direction;\n  var isMovingOnMainAxis = direction === 'vertical' && (type === 'MOVE_UP' || type === 'MOVE_DOWN') || direction === 'horizontal' && (type === 'MOVE_LEFT' || type === 'MOVE_RIGHT');\n\n  if (isMovingOnMainAxis && !isMainAxisMovementAllowed) {\n    return null;\n  }\n\n  var isMovingForward = type === 'MOVE_DOWN' || type === 'MOVE_RIGHT';\n  var draggable = state.dimensions.draggables[state.critical.draggable.id];\n  var previousPageBorderBoxCenter = state.current.page.borderBoxCenter;\n  var _state$dimensions = state.dimensions,\n      draggables = _state$dimensions.draggables,\n      droppables = _state$dimensions.droppables;\n  return isMovingOnMainAxis ? moveToNextPlace({\n    isMovingForward: isMovingForward,\n    previousPageBorderBoxCenter: previousPageBorderBoxCenter,\n    draggable: draggable,\n    destination: isOver,\n    draggables: draggables,\n    viewport: state.viewport,\n    previousClientSelection: state.current.client.selection,\n    previousImpact: state.impact,\n    afterCritical: state.afterCritical\n  }) : moveCrossAxis({\n    isMovingForward: isMovingForward,\n    previousPageBorderBoxCenter: previousPageBorderBoxCenter,\n    draggable: draggable,\n    isOver: isOver,\n    draggables: draggables,\n    droppables: droppables,\n    viewport: state.viewport,\n    afterCritical: state.afterCritical\n  });\n});\n\nfunction isMovementAllowed(state) {\n  return state.phase === 'DRAGGING' || state.phase === 'COLLECTING';\n}\n\nfunction isPositionInFrame(frame) {\n  var isWithinVertical = isWithin(frame.top, frame.bottom);\n  var isWithinHorizontal = isWithin(frame.left, frame.right);\n  return function run(point) {\n    return isWithinVertical(point.y) && isWithinHorizontal(point.x);\n  };\n}\n\nfunction getHasOverlap(first, second) {\n  return first.left < second.right && first.right > second.left && first.top < second.bottom && first.bottom > second.top;\n}\n\nfunction getFurthestAway(_ref) {\n  var pageBorderBox = _ref.pageBorderBox,\n      draggable = _ref.draggable,\n      candidates = _ref.candidates;\n  var startCenter = draggable.page.borderBox.center;\n  var sorted = candidates.map(function (candidate) {\n    var axis = candidate.axis;\n    var target = patch(candidate.axis.line, pageBorderBox.center[axis.line], candidate.page.borderBox.center[axis.crossAxisLine]);\n    return {\n      id: candidate.descriptor.id,\n      distance: distance(startCenter, target)\n    };\n  }).sort(function (a, b) {\n    return b.distance - a.distance;\n  });\n  return sorted[0] ? sorted[0].id : null;\n}\n\nfunction getDroppableOver$1(_ref2) {\n  var pageBorderBox = _ref2.pageBorderBox,\n      draggable = _ref2.draggable,\n      droppables = _ref2.droppables;\n  var candidates = toDroppableList(droppables).filter(function (item) {\n    if (!item.isEnabled) {\n      return false;\n    }\n\n    var active = item.subject.active;\n\n    if (!active) {\n      return false;\n    }\n\n    if (!getHasOverlap(pageBorderBox, active)) {\n      return false;\n    }\n\n    if (isPositionInFrame(active)(pageBorderBox.center)) {\n      return true;\n    }\n\n    var axis = item.axis;\n    var childCenter = active.center[axis.crossAxisLine];\n    var crossAxisStart = pageBorderBox[axis.crossAxisStart];\n    var crossAxisEnd = pageBorderBox[axis.crossAxisEnd];\n    var isContained = isWithin(active[axis.crossAxisStart], active[axis.crossAxisEnd]);\n    var isStartContained = isContained(crossAxisStart);\n    var isEndContained = isContained(crossAxisEnd);\n\n    if (!isStartContained && !isEndContained) {\n      return true;\n    }\n\n    if (isStartContained) {\n      return crossAxisStart < childCenter;\n    }\n\n    return crossAxisEnd > childCenter;\n  });\n\n  if (!candidates.length) {\n    return null;\n  }\n\n  if (candidates.length === 1) {\n    return candidates[0].descriptor.id;\n  }\n\n  return getFurthestAway({\n    pageBorderBox: pageBorderBox,\n    draggable: draggable,\n    candidates: candidates\n  });\n}\n\nvar offsetRectByPosition = function offsetRectByPosition(rect, point) {\n  return getRect(offsetByPosition(rect, point));\n};\n\nvar withDroppableScroll = (function (droppable, area) {\n  var frame = droppable.frame;\n\n  if (!frame) {\n    return area;\n  }\n\n  return offsetRectByPosition(area, frame.scroll.diff.value);\n});\n\nfunction getIsDisplaced(_ref) {\n  var displaced = _ref.displaced,\n      id = _ref.id;\n  return Boolean(displaced.visible[id] || displaced.invisible[id]);\n}\n\nfunction atIndex(_ref) {\n  var draggable = _ref.draggable,\n      closest = _ref.closest,\n      inHomeList = _ref.inHomeList;\n\n  if (!closest) {\n    return null;\n  }\n\n  if (!inHomeList) {\n    return closest.descriptor.index;\n  }\n\n  if (closest.descriptor.index > draggable.descriptor.index) {\n    return closest.descriptor.index - 1;\n  }\n\n  return closest.descriptor.index;\n}\n\nvar getReorderImpact = (function (_ref2) {\n  var targetRect = _ref2.pageBorderBoxWithDroppableScroll,\n      draggable = _ref2.draggable,\n      destination = _ref2.destination,\n      insideDestination = _ref2.insideDestination,\n      last = _ref2.last,\n      viewport = _ref2.viewport,\n      afterCritical = _ref2.afterCritical;\n  var axis = destination.axis;\n  var displacedBy = getDisplacedBy(destination.axis, draggable.displaceBy);\n  var displacement = displacedBy.value;\n  var targetStart = targetRect[axis.start];\n  var targetEnd = targetRect[axis.end];\n  var withoutDragging = removeDraggableFromList(draggable, insideDestination);\n  var closest = find(withoutDragging, function (child) {\n    var id = child.descriptor.id;\n    var childCenter = child.page.borderBox.center[axis.line];\n    var didStartAfterCritical$1 = didStartAfterCritical(id, afterCritical);\n    var isDisplaced = getIsDisplaced({\n      displaced: last,\n      id: id\n    });\n\n    if (didStartAfterCritical$1) {\n      if (isDisplaced) {\n        return targetEnd <= childCenter;\n      }\n\n      return targetStart < childCenter - displacement;\n    }\n\n    if (isDisplaced) {\n      return targetEnd <= childCenter + displacement;\n    }\n\n    return targetStart < childCenter;\n  });\n  var newIndex = atIndex({\n    draggable: draggable,\n    closest: closest,\n    inHomeList: isHomeOf(draggable, destination)\n  });\n  return calculateReorderImpact({\n    draggable: draggable,\n    insideDestination: insideDestination,\n    destination: destination,\n    viewport: viewport,\n    last: last,\n    displacedBy: displacedBy,\n    index: newIndex\n  });\n});\n\nvar combineThresholdDivisor = 4;\nvar getCombineImpact = (function (_ref) {\n  var draggable = _ref.draggable,\n      targetRect = _ref.pageBorderBoxWithDroppableScroll,\n      previousImpact = _ref.previousImpact,\n      destination = _ref.destination,\n      insideDestination = _ref.insideDestination,\n      afterCritical = _ref.afterCritical;\n\n  if (!destination.isCombineEnabled) {\n    return null;\n  }\n\n  var axis = destination.axis;\n  var displacedBy = getDisplacedBy(destination.axis, draggable.displaceBy);\n  var displacement = displacedBy.value;\n  var targetStart = targetRect[axis.start];\n  var targetEnd = targetRect[axis.end];\n  var withoutDragging = removeDraggableFromList(draggable, insideDestination);\n  var combineWith = find(withoutDragging, function (child) {\n    var id = child.descriptor.id;\n    var childRect = child.page.borderBox;\n    var childSize = childRect[axis.size];\n    var threshold = childSize / combineThresholdDivisor;\n    var didStartAfterCritical$1 = didStartAfterCritical(id, afterCritical);\n    var isDisplaced = getIsDisplaced({\n      displaced: previousImpact.displaced,\n      id: id\n    });\n\n    if (didStartAfterCritical$1) {\n      if (isDisplaced) {\n        return targetEnd > childRect[axis.start] + threshold && targetEnd < childRect[axis.end] - threshold;\n      }\n\n      return targetStart > childRect[axis.start] - displacement + threshold && targetStart < childRect[axis.end] - displacement - threshold;\n    }\n\n    if (isDisplaced) {\n      return targetEnd > childRect[axis.start] + displacement + threshold && targetEnd < childRect[axis.end] + displacement - threshold;\n    }\n\n    return targetStart > childRect[axis.start] + threshold && targetStart < childRect[axis.end] - threshold;\n  });\n\n  if (!combineWith) {\n    return null;\n  }\n\n  var impact = {\n    displacedBy: displacedBy,\n    displaced: previousImpact.displaced,\n    at: {\n      type: 'COMBINE',\n      combine: {\n        draggableId: combineWith.descriptor.id,\n        droppableId: destination.descriptor.id\n      }\n    }\n  };\n  return impact;\n});\n\nvar getDragImpact = (function (_ref) {\n  var pageOffset = _ref.pageOffset,\n      draggable = _ref.draggable,\n      draggables = _ref.draggables,\n      droppables = _ref.droppables,\n      previousImpact = _ref.previousImpact,\n      viewport = _ref.viewport,\n      afterCritical = _ref.afterCritical;\n  var pageBorderBox = offsetRectByPosition(draggable.page.borderBox, pageOffset);\n  var destinationId = getDroppableOver$1({\n    pageBorderBox: pageBorderBox,\n    draggable: draggable,\n    droppables: droppables\n  });\n\n  if (!destinationId) {\n    return noImpact;\n  }\n\n  var destination = droppables[destinationId];\n  var insideDestination = getDraggablesInsideDroppable(destination.descriptor.id, draggables);\n  var pageBorderBoxWithDroppableScroll = withDroppableScroll(destination, pageBorderBox);\n  return getCombineImpact({\n    pageBorderBoxWithDroppableScroll: pageBorderBoxWithDroppableScroll,\n    draggable: draggable,\n    previousImpact: previousImpact,\n    destination: destination,\n    insideDestination: insideDestination,\n    afterCritical: afterCritical\n  }) || getReorderImpact({\n    pageBorderBoxWithDroppableScroll: pageBorderBoxWithDroppableScroll,\n    draggable: draggable,\n    destination: destination,\n    insideDestination: insideDestination,\n    last: previousImpact.displaced,\n    viewport: viewport,\n    afterCritical: afterCritical\n  });\n});\n\nvar patchDroppableMap = (function (droppables, updated) {\n  var _extends2;\n\n  return _extends({}, droppables, (_extends2 = {}, _extends2[updated.descriptor.id] = updated, _extends2));\n});\n\nvar clearUnusedPlaceholder = function clearUnusedPlaceholder(_ref) {\n  var previousImpact = _ref.previousImpact,\n      impact = _ref.impact,\n      droppables = _ref.droppables;\n  var last = whatIsDraggedOver(previousImpact);\n  var now = whatIsDraggedOver(impact);\n\n  if (!last) {\n    return droppables;\n  }\n\n  if (last === now) {\n    return droppables;\n  }\n\n  var lastDroppable = droppables[last];\n\n  if (!lastDroppable.subject.withPlaceholder) {\n    return droppables;\n  }\n\n  var updated = removePlaceholder(lastDroppable);\n  return patchDroppableMap(droppables, updated);\n};\n\nvar recomputePlaceholders = (function (_ref2) {\n  var draggable = _ref2.draggable,\n      draggables = _ref2.draggables,\n      droppables = _ref2.droppables,\n      previousImpact = _ref2.previousImpact,\n      impact = _ref2.impact;\n  var cleaned = clearUnusedPlaceholder({\n    previousImpact: previousImpact,\n    impact: impact,\n    droppables: droppables\n  });\n  var isOver = whatIsDraggedOver(impact);\n\n  if (!isOver) {\n    return cleaned;\n  }\n\n  var droppable = droppables[isOver];\n\n  if (isHomeOf(draggable, droppable)) {\n    return cleaned;\n  }\n\n  if (droppable.subject.withPlaceholder) {\n    return cleaned;\n  }\n\n  var patched = addPlaceholder(droppable, draggable, draggables);\n  return patchDroppableMap(cleaned, patched);\n});\n\nvar update = (function (_ref) {\n  var state = _ref.state,\n      forcedClientSelection = _ref.clientSelection,\n      forcedDimensions = _ref.dimensions,\n      forcedViewport = _ref.viewport,\n      forcedImpact = _ref.impact,\n      scrollJumpRequest = _ref.scrollJumpRequest;\n  var viewport = forcedViewport || state.viewport;\n  var dimensions = forcedDimensions || state.dimensions;\n  var clientSelection = forcedClientSelection || state.current.client.selection;\n  var offset = subtract(clientSelection, state.initial.client.selection);\n  var client = {\n    offset: offset,\n    selection: clientSelection,\n    borderBoxCenter: add(state.initial.client.borderBoxCenter, offset)\n  };\n  var page = {\n    selection: add(client.selection, viewport.scroll.current),\n    borderBoxCenter: add(client.borderBoxCenter, viewport.scroll.current),\n    offset: add(client.offset, viewport.scroll.diff.value)\n  };\n  var current = {\n    client: client,\n    page: page\n  };\n\n  if (state.phase === 'COLLECTING') {\n    return _extends({\n      phase: 'COLLECTING'\n    }, state, {\n      dimensions: dimensions,\n      viewport: viewport,\n      current: current\n    });\n  }\n\n  var draggable = dimensions.draggables[state.critical.draggable.id];\n  var newImpact = forcedImpact || getDragImpact({\n    pageOffset: page.offset,\n    draggable: draggable,\n    draggables: dimensions.draggables,\n    droppables: dimensions.droppables,\n    previousImpact: state.impact,\n    viewport: viewport,\n    afterCritical: state.afterCritical\n  });\n  var withUpdatedPlaceholders = recomputePlaceholders({\n    draggable: draggable,\n    impact: newImpact,\n    previousImpact: state.impact,\n    draggables: dimensions.draggables,\n    droppables: dimensions.droppables\n  });\n\n  var result = _extends({}, state, {\n    current: current,\n    dimensions: {\n      draggables: dimensions.draggables,\n      droppables: withUpdatedPlaceholders\n    },\n    impact: newImpact,\n    viewport: viewport,\n    scrollJumpRequest: scrollJumpRequest || null,\n    forceShouldAnimate: scrollJumpRequest ? false : null\n  });\n\n  return result;\n});\n\nfunction getDraggables$1(ids, draggables) {\n  return ids.map(function (id) {\n    return draggables[id];\n  });\n}\n\nvar recompute = (function (_ref) {\n  var impact = _ref.impact,\n      viewport = _ref.viewport,\n      draggables = _ref.draggables,\n      destination = _ref.destination,\n      forceShouldAnimate = _ref.forceShouldAnimate;\n  var last = impact.displaced;\n  var afterDragging = getDraggables$1(last.all, draggables);\n  var displaced = getDisplacementGroups({\n    afterDragging: afterDragging,\n    destination: destination,\n    displacedBy: impact.displacedBy,\n    viewport: viewport.frame,\n    forceShouldAnimate: forceShouldAnimate,\n    last: last\n  });\n  return _extends({}, impact, {\n    displaced: displaced\n  });\n});\n\nvar getClientBorderBoxCenter = (function (_ref) {\n  var impact = _ref.impact,\n      draggable = _ref.draggable,\n      droppable = _ref.droppable,\n      draggables = _ref.draggables,\n      viewport = _ref.viewport,\n      afterCritical = _ref.afterCritical;\n  var pageBorderBoxCenter = getPageBorderBoxCenterFromImpact({\n    impact: impact,\n    draggable: draggable,\n    draggables: draggables,\n    droppable: droppable,\n    afterCritical: afterCritical\n  });\n  return getClientFromPageBorderBoxCenter({\n    pageBorderBoxCenter: pageBorderBoxCenter,\n    draggable: draggable,\n    viewport: viewport\n  });\n});\n\nvar refreshSnap = (function (_ref) {\n  var state = _ref.state,\n      forcedDimensions = _ref.dimensions,\n      forcedViewport = _ref.viewport;\n  !(state.movementMode === 'SNAP') ? process.env.NODE_ENV !== \"production\" ? invariant(false) : invariant(false) : void 0;\n  var needsVisibilityCheck = state.impact;\n  var viewport = forcedViewport || state.viewport;\n  var dimensions = forcedDimensions || state.dimensions;\n  var draggables = dimensions.draggables,\n      droppables = dimensions.droppables;\n  var draggable = draggables[state.critical.draggable.id];\n  var isOver = whatIsDraggedOver(needsVisibilityCheck);\n  !isOver ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Must be over a destination in SNAP movement mode') : invariant(false) : void 0;\n  var destination = droppables[isOver];\n  var impact = recompute({\n    impact: needsVisibilityCheck,\n    viewport: viewport,\n    destination: destination,\n    draggables: draggables\n  });\n  var clientSelection = getClientBorderBoxCenter({\n    impact: impact,\n    draggable: draggable,\n    droppable: destination,\n    draggables: draggables,\n    viewport: viewport,\n    afterCritical: state.afterCritical\n  });\n  return update({\n    impact: impact,\n    clientSelection: clientSelection,\n    state: state,\n    dimensions: dimensions,\n    viewport: viewport\n  });\n});\n\nvar getHomeLocation = (function (descriptor) {\n  return {\n    index: descriptor.index,\n    droppableId: descriptor.droppableId\n  };\n});\n\nvar getLiftEffect = (function (_ref) {\n  var draggable = _ref.draggable,\n      home = _ref.home,\n      draggables = _ref.draggables,\n      viewport = _ref.viewport;\n  var displacedBy = getDisplacedBy(home.axis, draggable.displaceBy);\n  var insideHome = getDraggablesInsideDroppable(home.descriptor.id, draggables);\n  var rawIndex = insideHome.indexOf(draggable);\n  !(rawIndex !== -1) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Expected draggable to be inside home list') : invariant(false) : void 0;\n  var afterDragging = insideHome.slice(rawIndex + 1);\n  var effected = afterDragging.reduce(function (previous, item) {\n    previous[item.descriptor.id] = true;\n    return previous;\n  }, {});\n  var afterCritical = {\n    inVirtualList: home.descriptor.mode === 'virtual',\n    displacedBy: displacedBy,\n    effected: effected\n  };\n  var displaced = getDisplacementGroups({\n    afterDragging: afterDragging,\n    destination: home,\n    displacedBy: displacedBy,\n    last: null,\n    viewport: viewport.frame,\n    forceShouldAnimate: false\n  });\n  var impact = {\n    displaced: displaced,\n    displacedBy: displacedBy,\n    at: {\n      type: 'REORDER',\n      destination: getHomeLocation(draggable.descriptor)\n    }\n  };\n  return {\n    impact: impact,\n    afterCritical: afterCritical\n  };\n});\n\nvar patchDimensionMap = (function (dimensions, updated) {\n  return {\n    draggables: dimensions.draggables,\n    droppables: patchDroppableMap(dimensions.droppables, updated)\n  };\n});\n\nvar records = {};\nvar isEnabled = false;\n\nvar isTimingsEnabled = function isTimingsEnabled() {\n  return isEnabled;\n};\nvar start = function start(key) {\n  if (process.env.NODE_ENV !== 'production') {\n    if (!isTimingsEnabled()) {\n      return;\n    }\n\n    var now = performance.now();\n    records[key] = now;\n  }\n};\nvar finish = function finish(key) {\n  if (process.env.NODE_ENV !== 'production') {\n    if (!isTimingsEnabled()) {\n      return;\n    }\n\n    var now = performance.now();\n    var previous = records[key];\n\n    if (!previous) {\n      console.warn('cannot finish timing as no previous time found', key);\n      return;\n    }\n\n    var result = now - previous;\n    var rounded = result.toFixed(2);\n\n    var style = function () {\n      if (result < 12) {\n        return {\n          textColor: 'green',\n          symbol: '✅'\n        };\n      }\n\n      if (result < 40) {\n        return {\n          textColor: 'orange',\n          symbol: '⚠️'\n        };\n      }\n\n      return {\n        textColor: 'red',\n        symbol: '❌'\n      };\n    }();\n\n    console.log(style.symbol + \" %cTiming %c\" + rounded + \" %cms %c\" + key, 'color: blue; font-weight: bold;', \"color: \" + style.textColor + \"; font-size: 1.1em;\", 'color: grey;', 'color: purple; font-weight: bold;');\n  }\n};\n\nvar offsetDraggable = (function (_ref) {\n  var draggable = _ref.draggable,\n      offset$1 = _ref.offset,\n      initialWindowScroll = _ref.initialWindowScroll;\n  var client = offset(draggable.client, offset$1);\n  var page = withScroll(client, initialWindowScroll);\n\n  var moved = _extends({}, draggable, {\n    placeholder: _extends({}, draggable.placeholder, {\n      client: client\n    }),\n    client: client,\n    page: page\n  });\n\n  return moved;\n});\n\nvar getFrame = (function (droppable) {\n  var frame = droppable.frame;\n  !frame ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Expected Droppable to have a frame') : invariant(false) : void 0;\n  return frame;\n});\n\nvar adjustAdditionsForScrollChanges = (function (_ref) {\n  var additions = _ref.additions,\n      updatedDroppables = _ref.updatedDroppables,\n      viewport = _ref.viewport;\n  var windowScrollChange = viewport.scroll.diff.value;\n  return additions.map(function (draggable) {\n    var droppableId = draggable.descriptor.droppableId;\n    var modified = updatedDroppables[droppableId];\n    var frame = getFrame(modified);\n    var droppableScrollChange = frame.scroll.diff.value;\n    var totalChange = add(windowScrollChange, droppableScrollChange);\n    var moved = offsetDraggable({\n      draggable: draggable,\n      offset: totalChange,\n      initialWindowScroll: viewport.scroll.initial\n    });\n    return moved;\n  });\n});\n\nvar timingsKey = 'Processing dynamic changes';\nvar publishWhileDraggingInVirtual = (function (_ref) {\n  var _extends2, _extends3;\n\n  var state = _ref.state,\n      published = _ref.published;\n  start(timingsKey);\n  var withScrollChange = published.modified.map(function (update) {\n    var existing = state.dimensions.droppables[update.droppableId];\n    var scrolled = scrollDroppable(existing, update.scroll);\n    return scrolled;\n  });\n\n  var droppables = _extends({}, state.dimensions.droppables, toDroppableMap(withScrollChange));\n\n  var updatedAdditions = toDraggableMap(adjustAdditionsForScrollChanges({\n    additions: published.additions,\n    updatedDroppables: droppables,\n    viewport: state.viewport\n  }));\n\n  var draggables = _extends({}, state.dimensions.draggables, updatedAdditions);\n\n  published.removals.forEach(function (id) {\n    delete draggables[id];\n  });\n  var dimensions = {\n    droppables: droppables,\n    draggables: draggables\n  };\n  var wasOverId = whatIsDraggedOver(state.impact);\n  var wasOver = wasOverId ? dimensions.droppables[wasOverId] : null;\n  var draggable = dimensions.draggables[state.critical.draggable.id];\n  var home = dimensions.droppables[state.critical.droppable.id];\n\n  var _getLiftEffect = getLiftEffect({\n    draggable: draggable,\n    home: home,\n    draggables: draggables,\n    viewport: state.viewport\n  }),\n      onLiftImpact = _getLiftEffect.impact,\n      afterCritical = _getLiftEffect.afterCritical;\n\n  var previousImpact = wasOver && wasOver.isCombineEnabled ? state.impact : onLiftImpact;\n  var impact = getDragImpact({\n    pageOffset: state.current.page.offset,\n    draggable: dimensions.draggables[state.critical.draggable.id],\n    draggables: dimensions.draggables,\n    droppables: dimensions.droppables,\n    previousImpact: previousImpact,\n    viewport: state.viewport,\n    afterCritical: afterCritical\n  });\n  finish(timingsKey);\n\n  var draggingState = _extends({\n    phase: 'DRAGGING'\n  }, state, (_extends2 = {}, _extends2[\"phase\"] = 'DRAGGING', _extends2.impact = impact, _extends2.onLiftImpact = onLiftImpact, _extends2.dimensions = dimensions, _extends2.afterCritical = afterCritical, _extends2.forceShouldAnimate = false, _extends2));\n\n  if (state.phase === 'COLLECTING') {\n    return draggingState;\n  }\n\n  var dropPending = _extends({\n    phase: 'DROP_PENDING'\n  }, draggingState, (_extends3 = {}, _extends3[\"phase\"] = 'DROP_PENDING', _extends3.reason = state.reason, _extends3.isWaiting = false, _extends3));\n\n  return dropPending;\n});\n\nvar isSnapping = function isSnapping(state) {\n  return state.movementMode === 'SNAP';\n};\n\nvar postDroppableChange = function postDroppableChange(state, updated, isEnabledChanging) {\n  var dimensions = patchDimensionMap(state.dimensions, updated);\n\n  if (!isSnapping(state) || isEnabledChanging) {\n    return update({\n      state: state,\n      dimensions: dimensions\n    });\n  }\n\n  return refreshSnap({\n    state: state,\n    dimensions: dimensions\n  });\n};\n\nfunction removeScrollJumpRequest(state) {\n  if (state.isDragging && state.movementMode === 'SNAP') {\n    return _extends({\n      phase: 'DRAGGING'\n    }, state, {\n      scrollJumpRequest: null\n    });\n  }\n\n  return state;\n}\n\nvar idle = {\n  phase: 'IDLE',\n  completed: null,\n  shouldFlush: false\n};\nvar reducer = (function (state, action) {\n  if (state === void 0) {\n    state = idle;\n  }\n\n  if (action.type === 'FLUSH') {\n    return _extends({}, idle, {\n      shouldFlush: true\n    });\n  }\n\n  if (action.type === 'INITIAL_PUBLISH') {\n    !(state.phase === 'IDLE') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'INITIAL_PUBLISH must come after a IDLE phase') : invariant(false) : void 0;\n    var _action$payload = action.payload,\n        critical = _action$payload.critical,\n        clientSelection = _action$payload.clientSelection,\n        viewport = _action$payload.viewport,\n        dimensions = _action$payload.dimensions,\n        movementMode = _action$payload.movementMode;\n    var draggable = dimensions.draggables[critical.draggable.id];\n    var home = dimensions.droppables[critical.droppable.id];\n    var client = {\n      selection: clientSelection,\n      borderBoxCenter: draggable.client.borderBox.center,\n      offset: origin\n    };\n    var initial = {\n      client: client,\n      page: {\n        selection: add(client.selection, viewport.scroll.initial),\n        borderBoxCenter: add(client.selection, viewport.scroll.initial),\n        offset: add(client.selection, viewport.scroll.diff.value)\n      }\n    };\n    var isWindowScrollAllowed = toDroppableList(dimensions.droppables).every(function (item) {\n      return !item.isFixedOnPage;\n    });\n\n    var _getLiftEffect = getLiftEffect({\n      draggable: draggable,\n      home: home,\n      draggables: dimensions.draggables,\n      viewport: viewport\n    }),\n        impact = _getLiftEffect.impact,\n        afterCritical = _getLiftEffect.afterCritical;\n\n    var result = {\n      phase: 'DRAGGING',\n      isDragging: true,\n      critical: critical,\n      movementMode: movementMode,\n      dimensions: dimensions,\n      initial: initial,\n      current: initial,\n      isWindowScrollAllowed: isWindowScrollAllowed,\n      impact: impact,\n      afterCritical: afterCritical,\n      onLiftImpact: impact,\n      viewport: viewport,\n      scrollJumpRequest: null,\n      forceShouldAnimate: null\n    };\n    return result;\n  }\n\n  if (action.type === 'COLLECTION_STARTING') {\n    var _extends2;\n\n    if (state.phase === 'COLLECTING' || state.phase === 'DROP_PENDING') {\n      return state;\n    }\n\n    !(state.phase === 'DRAGGING') ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Collection cannot start from phase \" + state.phase) : invariant(false) : void 0;\n\n    var _result = _extends({\n      phase: 'COLLECTING'\n    }, state, (_extends2 = {}, _extends2[\"phase\"] = 'COLLECTING', _extends2));\n\n    return _result;\n  }\n\n  if (action.type === 'PUBLISH_WHILE_DRAGGING') {\n    !(state.phase === 'COLLECTING' || state.phase === 'DROP_PENDING') ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Unexpected \" + action.type + \" received in phase \" + state.phase) : invariant(false) : void 0;\n    return publishWhileDraggingInVirtual({\n      state: state,\n      published: action.payload\n    });\n  }\n\n  if (action.type === 'MOVE') {\n    if (state.phase === 'DROP_PENDING') {\n      return state;\n    }\n\n    !isMovementAllowed(state) ? process.env.NODE_ENV !== \"production\" ? invariant(false, action.type + \" not permitted in phase \" + state.phase) : invariant(false) : void 0;\n    var _clientSelection = action.payload.client;\n\n    if (isEqual(_clientSelection, state.current.client.selection)) {\n      return state;\n    }\n\n    return update({\n      state: state,\n      clientSelection: _clientSelection,\n      impact: isSnapping(state) ? state.impact : null\n    });\n  }\n\n  if (action.type === 'UPDATE_DROPPABLE_SCROLL') {\n    if (state.phase === 'DROP_PENDING') {\n      return removeScrollJumpRequest(state);\n    }\n\n    if (state.phase === 'COLLECTING') {\n      return removeScrollJumpRequest(state);\n    }\n\n    !isMovementAllowed(state) ? process.env.NODE_ENV !== \"production\" ? invariant(false, action.type + \" not permitted in phase \" + state.phase) : invariant(false) : void 0;\n    var _action$payload2 = action.payload,\n        id = _action$payload2.id,\n        newScroll = _action$payload2.newScroll;\n    var target = state.dimensions.droppables[id];\n\n    if (!target) {\n      return state;\n    }\n\n    var scrolled = scrollDroppable(target, newScroll);\n    return postDroppableChange(state, scrolled, false);\n  }\n\n  if (action.type === 'UPDATE_DROPPABLE_IS_ENABLED') {\n    if (state.phase === 'DROP_PENDING') {\n      return state;\n    }\n\n    !isMovementAllowed(state) ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Attempting to move in an unsupported phase \" + state.phase) : invariant(false) : void 0;\n    var _action$payload3 = action.payload,\n        _id = _action$payload3.id,\n        isEnabled = _action$payload3.isEnabled;\n    var _target = state.dimensions.droppables[_id];\n    !_target ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Cannot find Droppable[id: \" + _id + \"] to toggle its enabled state\") : invariant(false) : void 0;\n    !(_target.isEnabled !== isEnabled) ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Trying to set droppable isEnabled to \" + String(isEnabled) + \"\\n      but it is already \" + String(_target.isEnabled)) : invariant(false) : void 0;\n\n    var updated = _extends({}, _target, {\n      isEnabled: isEnabled\n    });\n\n    return postDroppableChange(state, updated, true);\n  }\n\n  if (action.type === 'UPDATE_DROPPABLE_IS_COMBINE_ENABLED') {\n    if (state.phase === 'DROP_PENDING') {\n      return state;\n    }\n\n    !isMovementAllowed(state) ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Attempting to move in an unsupported phase \" + state.phase) : invariant(false) : void 0;\n    var _action$payload4 = action.payload,\n        _id2 = _action$payload4.id,\n        isCombineEnabled = _action$payload4.isCombineEnabled;\n    var _target2 = state.dimensions.droppables[_id2];\n    !_target2 ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Cannot find Droppable[id: \" + _id2 + \"] to toggle its isCombineEnabled state\") : invariant(false) : void 0;\n    !(_target2.isCombineEnabled !== isCombineEnabled) ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Trying to set droppable isCombineEnabled to \" + String(isCombineEnabled) + \"\\n      but it is already \" + String(_target2.isCombineEnabled)) : invariant(false) : void 0;\n\n    var _updated = _extends({}, _target2, {\n      isCombineEnabled: isCombineEnabled\n    });\n\n    return postDroppableChange(state, _updated, true);\n  }\n\n  if (action.type === 'MOVE_BY_WINDOW_SCROLL') {\n    if (state.phase === 'DROP_PENDING' || state.phase === 'DROP_ANIMATING') {\n      return state;\n    }\n\n    !isMovementAllowed(state) ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Cannot move by window in phase \" + state.phase) : invariant(false) : void 0;\n    !state.isWindowScrollAllowed ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Window scrolling is currently not supported for fixed lists') : invariant(false) : void 0;\n    var _newScroll = action.payload.newScroll;\n\n    if (isEqual(state.viewport.scroll.current, _newScroll)) {\n      return removeScrollJumpRequest(state);\n    }\n\n    var _viewport = scrollViewport(state.viewport, _newScroll);\n\n    if (isSnapping(state)) {\n      return refreshSnap({\n        state: state,\n        viewport: _viewport\n      });\n    }\n\n    return update({\n      state: state,\n      viewport: _viewport\n    });\n  }\n\n  if (action.type === 'UPDATE_VIEWPORT_MAX_SCROLL') {\n    if (!isMovementAllowed(state)) {\n      return state;\n    }\n\n    var maxScroll = action.payload.maxScroll;\n\n    if (isEqual(maxScroll, state.viewport.scroll.max)) {\n      return state;\n    }\n\n    var withMaxScroll = _extends({}, state.viewport, {\n      scroll: _extends({}, state.viewport.scroll, {\n        max: maxScroll\n      })\n    });\n\n    return _extends({\n      phase: 'DRAGGING'\n    }, state, {\n      viewport: withMaxScroll\n    });\n  }\n\n  if (action.type === 'MOVE_UP' || action.type === 'MOVE_DOWN' || action.type === 'MOVE_LEFT' || action.type === 'MOVE_RIGHT') {\n    if (state.phase === 'COLLECTING' || state.phase === 'DROP_PENDING') {\n      return state;\n    }\n\n    !(state.phase === 'DRAGGING') ? process.env.NODE_ENV !== \"production\" ? invariant(false, action.type + \" received while not in DRAGGING phase\") : invariant(false) : void 0;\n\n    var _result2 = moveInDirection({\n      state: state,\n      type: action.type\n    });\n\n    if (!_result2) {\n      return state;\n    }\n\n    return update({\n      state: state,\n      impact: _result2.impact,\n      clientSelection: _result2.clientSelection,\n      scrollJumpRequest: _result2.scrollJumpRequest\n    });\n  }\n\n  if (action.type === 'DROP_PENDING') {\n    var _extends3;\n\n    var reason = action.payload.reason;\n    !(state.phase === 'COLLECTING') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Can only move into the DROP_PENDING phase from the COLLECTING phase') : invariant(false) : void 0;\n\n    var newState = _extends({\n      phase: 'DROP_PENDING'\n    }, state, (_extends3 = {}, _extends3[\"phase\"] = 'DROP_PENDING', _extends3.isWaiting = true, _extends3.reason = reason, _extends3));\n\n    return newState;\n  }\n\n  if (action.type === 'DROP_ANIMATE') {\n    var _action$payload5 = action.payload,\n        completed = _action$payload5.completed,\n        dropDuration = _action$payload5.dropDuration,\n        newHomeClientOffset = _action$payload5.newHomeClientOffset;\n    !(state.phase === 'DRAGGING' || state.phase === 'DROP_PENDING') ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Cannot animate drop from phase \" + state.phase) : invariant(false) : void 0;\n    var _result3 = {\n      phase: 'DROP_ANIMATING',\n      completed: completed,\n      dropDuration: dropDuration,\n      newHomeClientOffset: newHomeClientOffset,\n      dimensions: state.dimensions\n    };\n    return _result3;\n  }\n\n  if (action.type === 'DROP_COMPLETE') {\n    var _completed = action.payload.completed;\n    return {\n      phase: 'IDLE',\n      completed: _completed,\n      shouldFlush: false\n    };\n  }\n\n  return state;\n});\n\nvar beforeInitialCapture = function beforeInitialCapture(args) {\n  return {\n    type: 'BEFORE_INITIAL_CAPTURE',\n    payload: args\n  };\n};\nvar lift = function lift(args) {\n  return {\n    type: 'LIFT',\n    payload: args\n  };\n};\nvar initialPublish = function initialPublish(args) {\n  return {\n    type: 'INITIAL_PUBLISH',\n    payload: args\n  };\n};\nvar publishWhileDragging = function publishWhileDragging(args) {\n  return {\n    type: 'PUBLISH_WHILE_DRAGGING',\n    payload: args\n  };\n};\nvar collectionStarting = function collectionStarting() {\n  return {\n    type: 'COLLECTION_STARTING',\n    payload: null\n  };\n};\nvar updateDroppableScroll = function updateDroppableScroll(args) {\n  return {\n    type: 'UPDATE_DROPPABLE_SCROLL',\n    payload: args\n  };\n};\nvar updateDroppableIsEnabled = function updateDroppableIsEnabled(args) {\n  return {\n    type: 'UPDATE_DROPPABLE_IS_ENABLED',\n    payload: args\n  };\n};\nvar updateDroppableIsCombineEnabled = function updateDroppableIsCombineEnabled(args) {\n  return {\n    type: 'UPDATE_DROPPABLE_IS_COMBINE_ENABLED',\n    payload: args\n  };\n};\nvar move = function move(args) {\n  return {\n    type: 'MOVE',\n    payload: args\n  };\n};\nvar moveByWindowScroll = function moveByWindowScroll(args) {\n  return {\n    type: 'MOVE_BY_WINDOW_SCROLL',\n    payload: args\n  };\n};\nvar updateViewportMaxScroll = function updateViewportMaxScroll(args) {\n  return {\n    type: 'UPDATE_VIEWPORT_MAX_SCROLL',\n    payload: args\n  };\n};\nvar moveUp = function moveUp() {\n  return {\n    type: 'MOVE_UP',\n    payload: null\n  };\n};\nvar moveDown = function moveDown() {\n  return {\n    type: 'MOVE_DOWN',\n    payload: null\n  };\n};\nvar moveRight = function moveRight() {\n  return {\n    type: 'MOVE_RIGHT',\n    payload: null\n  };\n};\nvar moveLeft = function moveLeft() {\n  return {\n    type: 'MOVE_LEFT',\n    payload: null\n  };\n};\nvar flush = function flush() {\n  return {\n    type: 'FLUSH',\n    payload: null\n  };\n};\nvar animateDrop = function animateDrop(args) {\n  return {\n    type: 'DROP_ANIMATE',\n    payload: args\n  };\n};\nvar completeDrop = function completeDrop(args) {\n  return {\n    type: 'DROP_COMPLETE',\n    payload: args\n  };\n};\nvar drop = function drop(args) {\n  return {\n    type: 'DROP',\n    payload: args\n  };\n};\nvar dropPending = function dropPending(args) {\n  return {\n    type: 'DROP_PENDING',\n    payload: args\n  };\n};\nvar dropAnimationFinished = function dropAnimationFinished() {\n  return {\n    type: 'DROP_ANIMATION_FINISHED',\n    payload: null\n  };\n};\n\nfunction checkIndexes(insideDestination) {\n  if (insideDestination.length <= 1) {\n    return;\n  }\n\n  var indexes = insideDestination.map(function (d) {\n    return d.descriptor.index;\n  });\n  var errors = {};\n\n  for (var i = 1; i < indexes.length; i++) {\n    var current = indexes[i];\n    var previous = indexes[i - 1];\n\n    if (current !== previous + 1) {\n      errors[current] = true;\n    }\n  }\n\n  if (!_Object$keys(errors).length) {\n    return;\n  }\n\n  var formatted = indexes.map(function (index) {\n    var hasError = Boolean(errors[index]);\n    return hasError ? \"[\\uD83D\\uDD25\" + index + \"]\" : \"\" + index;\n  }).join(', ');\n  process.env.NODE_ENV !== \"production\" ? warning(\"\\n    Detected non-consecutive <Draggable /> indexes.\\n\\n    (This can cause unexpected bugs)\\n\\n    \" + formatted + \"\\n  \") : void 0;\n}\n\nfunction validateDimensions(critical, dimensions) {\n  if (process.env.NODE_ENV !== 'production') {\n    var insideDestination = getDraggablesInsideDroppable(critical.droppable.id, dimensions.draggables);\n    checkIndexes(insideDestination);\n  }\n}\n\nvar lift$1 = (function (marshal) {\n  return function (_ref) {\n    var getState = _ref.getState,\n        dispatch = _ref.dispatch;\n    return function (next) {\n      return function (action) {\n        if (action.type !== 'LIFT') {\n          next(action);\n          return;\n        }\n\n        var _action$payload = action.payload,\n            id = _action$payload.id,\n            clientSelection = _action$payload.clientSelection,\n            movementMode = _action$payload.movementMode;\n        var initial = getState();\n\n        if (initial.phase === 'DROP_ANIMATING') {\n          dispatch(completeDrop({\n            completed: initial.completed\n          }));\n        }\n\n        !(getState().phase === 'IDLE') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Unexpected phase to start a drag') : invariant(false) : void 0;\n        dispatch(flush());\n        dispatch(beforeInitialCapture({\n          draggableId: id,\n          movementMode: movementMode\n        }));\n        var scrollOptions = {\n          shouldPublishImmediately: movementMode === 'SNAP'\n        };\n        var request = {\n          draggableId: id,\n          scrollOptions: scrollOptions\n        };\n\n        var _marshal$startPublish = marshal.startPublishing(request),\n            critical = _marshal$startPublish.critical,\n            dimensions = _marshal$startPublish.dimensions,\n            viewport = _marshal$startPublish.viewport;\n\n        validateDimensions(critical, dimensions);\n        dispatch(initialPublish({\n          critical: critical,\n          dimensions: dimensions,\n          clientSelection: clientSelection,\n          movementMode: movementMode,\n          viewport: viewport\n        }));\n      };\n    };\n  };\n});\n\nvar style = (function (marshal) {\n  return function () {\n    return function (next) {\n      return function (action) {\n        if (action.type === 'INITIAL_PUBLISH') {\n          marshal.dragging();\n        }\n\n        if (action.type === 'DROP_ANIMATE') {\n          marshal.dropping(action.payload.completed.result.reason);\n        }\n\n        if (action.type === 'FLUSH' || action.type === 'DROP_COMPLETE') {\n          marshal.resting();\n        }\n\n        next(action);\n      };\n    };\n  };\n});\n\nvar curves = {\n  outOfTheWay: 'cubic-bezier(0.2, 0, 0, 1)',\n  drop: 'cubic-bezier(.2,1,.1,1)'\n};\nvar combine = {\n  opacity: {\n    drop: 0,\n    combining: 0.7\n  },\n  scale: {\n    drop: 0.75\n  }\n};\nvar timings = {\n  outOfTheWay: 0.2,\n  minDropTime: 0.33,\n  maxDropTime: 0.55\n};\nvar outOfTheWayTiming = timings.outOfTheWay + \"s \" + curves.outOfTheWay;\nvar transitions = {\n  fluid: \"opacity \" + outOfTheWayTiming,\n  snap: \"transform \" + outOfTheWayTiming + \", opacity \" + outOfTheWayTiming,\n  drop: function drop(duration) {\n    var timing = duration + \"s \" + curves.drop;\n    return \"transform \" + timing + \", opacity \" + timing;\n  },\n  outOfTheWay: \"transform \" + outOfTheWayTiming,\n  placeholder: \"height \" + outOfTheWayTiming + \", width \" + outOfTheWayTiming + \", margin \" + outOfTheWayTiming\n};\n\nvar moveTo = function moveTo(offset) {\n  return isEqual(offset, origin) ? null : \"translate(\" + offset.x + \"px, \" + offset.y + \"px)\";\n};\n\nvar transforms = {\n  moveTo: moveTo,\n  drop: function drop(offset, isCombining) {\n    var translate = moveTo(offset);\n\n    if (!translate) {\n      return null;\n    }\n\n    if (!isCombining) {\n      return translate;\n    }\n\n    return translate + \" scale(\" + combine.scale.drop + \")\";\n  }\n};\n\nvar minDropTime = timings.minDropTime,\n    maxDropTime = timings.maxDropTime;\nvar dropTimeRange = maxDropTime - minDropTime;\nvar maxDropTimeAtDistance = 1500;\nvar cancelDropModifier = 0.6;\nvar getDropDuration = (function (_ref) {\n  var current = _ref.current,\n      destination = _ref.destination,\n      reason = _ref.reason;\n  var distance$1 = distance(current, destination);\n\n  if (distance$1 <= 0) {\n    return minDropTime;\n  }\n\n  if (distance$1 >= maxDropTimeAtDistance) {\n    return maxDropTime;\n  }\n\n  var percentage = distance$1 / maxDropTimeAtDistance;\n  var duration = minDropTime + dropTimeRange * percentage;\n  var withDuration = reason === 'CANCEL' ? duration * cancelDropModifier : duration;\n  return Number(withDuration.toFixed(2));\n});\n\nvar getNewHomeClientOffset = (function (_ref) {\n  var impact = _ref.impact,\n      draggable = _ref.draggable,\n      dimensions = _ref.dimensions,\n      viewport = _ref.viewport,\n      afterCritical = _ref.afterCritical;\n  var draggables = dimensions.draggables,\n      droppables = dimensions.droppables;\n  var droppableId = whatIsDraggedOver(impact);\n  var destination = droppableId ? droppables[droppableId] : null;\n  var home = droppables[draggable.descriptor.droppableId];\n  var newClientCenter = getClientBorderBoxCenter({\n    impact: impact,\n    draggable: draggable,\n    draggables: draggables,\n    afterCritical: afterCritical,\n    droppable: destination || home,\n    viewport: viewport\n  });\n  var offset = subtract(newClientCenter, draggable.client.borderBox.center);\n  return offset;\n});\n\nvar getDropImpact = (function (_ref) {\n  var draggables = _ref.draggables,\n      reason = _ref.reason,\n      lastImpact = _ref.lastImpact,\n      home = _ref.home,\n      viewport = _ref.viewport,\n      onLiftImpact = _ref.onLiftImpact;\n\n  if (!lastImpact.at || reason !== 'DROP') {\n    var recomputedHomeImpact = recompute({\n      draggables: draggables,\n      impact: onLiftImpact,\n      destination: home,\n      viewport: viewport,\n      forceShouldAnimate: true\n    });\n    return {\n      impact: recomputedHomeImpact,\n      didDropInsideDroppable: false\n    };\n  }\n\n  if (lastImpact.at.type === 'REORDER') {\n    return {\n      impact: lastImpact,\n      didDropInsideDroppable: true\n    };\n  }\n\n  var withoutMovement = _extends({}, lastImpact, {\n    displaced: emptyGroups\n  });\n\n  return {\n    impact: withoutMovement,\n    didDropInsideDroppable: true\n  };\n});\n\nvar drop$1 = (function (_ref) {\n  var getState = _ref.getState,\n      dispatch = _ref.dispatch;\n  return function (next) {\n    return function (action) {\n      if (action.type !== 'DROP') {\n        next(action);\n        return;\n      }\n\n      var state = getState();\n      var reason = action.payload.reason;\n\n      if (state.phase === 'COLLECTING') {\n        dispatch(dropPending({\n          reason: reason\n        }));\n        return;\n      }\n\n      if (state.phase === 'IDLE') {\n        return;\n      }\n\n      var isWaitingForDrop = state.phase === 'DROP_PENDING' && state.isWaiting;\n      !!isWaitingForDrop ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'A DROP action occurred while DROP_PENDING and still waiting') : invariant(false) : void 0;\n      !(state.phase === 'DRAGGING' || state.phase === 'DROP_PENDING') ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Cannot drop in phase: \" + state.phase) : invariant(false) : void 0;\n      var critical = state.critical;\n      var dimensions = state.dimensions;\n      var draggable = dimensions.draggables[state.critical.draggable.id];\n\n      var _getDropImpact = getDropImpact({\n        reason: reason,\n        lastImpact: state.impact,\n        afterCritical: state.afterCritical,\n        onLiftImpact: state.onLiftImpact,\n        home: state.dimensions.droppables[state.critical.droppable.id],\n        viewport: state.viewport,\n        draggables: state.dimensions.draggables\n      }),\n          impact = _getDropImpact.impact,\n          didDropInsideDroppable = _getDropImpact.didDropInsideDroppable;\n\n      var destination = didDropInsideDroppable ? tryGetDestination(impact) : null;\n      var combine = didDropInsideDroppable ? tryGetCombine(impact) : null;\n      var source = {\n        index: critical.draggable.index,\n        droppableId: critical.droppable.id\n      };\n      var result = {\n        draggableId: draggable.descriptor.id,\n        type: draggable.descriptor.type,\n        source: source,\n        reason: reason,\n        mode: state.movementMode,\n        destination: destination,\n        combine: combine\n      };\n      var newHomeClientOffset = getNewHomeClientOffset({\n        impact: impact,\n        draggable: draggable,\n        dimensions: dimensions,\n        viewport: state.viewport,\n        afterCritical: state.afterCritical\n      });\n      var completed = {\n        critical: state.critical,\n        afterCritical: state.afterCritical,\n        result: result,\n        impact: impact\n      };\n      var isAnimationRequired = !isEqual(state.current.client.offset, newHomeClientOffset) || Boolean(result.combine);\n\n      if (!isAnimationRequired) {\n        dispatch(completeDrop({\n          completed: completed\n        }));\n        return;\n      }\n\n      var dropDuration = getDropDuration({\n        current: state.current.client.offset,\n        destination: newHomeClientOffset,\n        reason: reason\n      });\n      var args = {\n        newHomeClientOffset: newHomeClientOffset,\n        dropDuration: dropDuration,\n        completed: completed\n      };\n      dispatch(animateDrop(args));\n    };\n  };\n});\n\nvar getWindowScroll = (function () {\n  return {\n    x: window.pageXOffset,\n    y: window.pageYOffset\n  };\n});\n\nfunction getWindowScrollBinding(update) {\n  return {\n    eventName: 'scroll',\n    options: {\n      passive: true,\n      capture: false\n    },\n    fn: function fn(event) {\n      if (event.target !== window && event.target !== window.document) {\n        return;\n      }\n\n      update();\n    }\n  };\n}\n\nfunction getScrollListener(_ref) {\n  var onWindowScroll = _ref.onWindowScroll;\n\n  function updateScroll() {\n    onWindowScroll(getWindowScroll());\n  }\n\n  var scheduled = rafSchd(updateScroll);\n  var binding = getWindowScrollBinding(scheduled);\n  var unbind = noop;\n\n  function isActive() {\n    return unbind !== noop;\n  }\n\n  function start() {\n    !!isActive() ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot start scroll listener when already active') : invariant(false) : void 0;\n    unbind = bindEvents(window, [binding]);\n  }\n\n  function stop() {\n    !isActive() ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot stop scroll listener when not active') : invariant(false) : void 0;\n    scheduled.cancel();\n    unbind();\n    unbind = noop;\n  }\n\n  return {\n    start: start,\n    stop: stop,\n    isActive: isActive\n  };\n}\n\nvar shouldEnd = function shouldEnd(action) {\n  return action.type === 'DROP_COMPLETE' || action.type === 'DROP_ANIMATE' || action.type === 'FLUSH';\n};\n\nvar scrollListener = (function (store) {\n  var listener = getScrollListener({\n    onWindowScroll: function onWindowScroll(newScroll) {\n      store.dispatch(moveByWindowScroll({\n        newScroll: newScroll\n      }));\n    }\n  });\n  return function (next) {\n    return function (action) {\n      if (!listener.isActive() && action.type === 'INITIAL_PUBLISH') {\n        listener.start();\n      }\n\n      if (listener.isActive() && shouldEnd(action)) {\n        listener.stop();\n      }\n\n      next(action);\n    };\n  };\n});\n\nvar getExpiringAnnounce = (function (announce) {\n  var wasCalled = false;\n  var isExpired = false;\n  var timeoutId = setTimeout(function () {\n    isExpired = true;\n  });\n\n  var result = function result(message) {\n    if (wasCalled) {\n      process.env.NODE_ENV !== \"production\" ? warning('Announcement already made. Not making a second announcement') : void 0;\n      return;\n    }\n\n    if (isExpired) {\n      process.env.NODE_ENV !== \"production\" ? warning(\"\\n        Announcements cannot be made asynchronously.\\n        Default message has already been announced.\\n      \") : void 0;\n      return;\n    }\n\n    wasCalled = true;\n    announce(message);\n    clearTimeout(timeoutId);\n  };\n\n  result.wasCalled = function () {\n    return wasCalled;\n  };\n\n  return result;\n});\n\nvar getAsyncMarshal = (function () {\n  var entries = [];\n\n  var execute = function execute(timerId) {\n    var index = findIndex(entries, function (item) {\n      return item.timerId === timerId;\n    });\n    !(index !== -1) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Could not find timer') : invariant(false) : void 0;\n\n    var _entries$splice = entries.splice(index, 1),\n        entry = _entries$splice[0];\n\n    entry.callback();\n  };\n\n  var add = function add(fn) {\n    var timerId = setTimeout(function () {\n      return execute(timerId);\n    });\n    var entry = {\n      timerId: timerId,\n      callback: fn\n    };\n    entries.push(entry);\n  };\n\n  var flush = function flush() {\n    if (!entries.length) {\n      return;\n    }\n\n    var shallow = [].concat(entries);\n    entries.length = 0;\n    shallow.forEach(function (entry) {\n      clearTimeout(entry.timerId);\n      entry.callback();\n    });\n  };\n\n  return {\n    add: add,\n    flush: flush\n  };\n});\n\nvar areLocationsEqual = function areLocationsEqual(first, second) {\n  if (first == null && second == null) {\n    return true;\n  }\n\n  if (first == null || second == null) {\n    return false;\n  }\n\n  return first.droppableId === second.droppableId && first.index === second.index;\n};\nvar isCombineEqual = function isCombineEqual(first, second) {\n  if (first == null && second == null) {\n    return true;\n  }\n\n  if (first == null || second == null) {\n    return false;\n  }\n\n  return first.draggableId === second.draggableId && first.droppableId === second.droppableId;\n};\nvar isCriticalEqual = function isCriticalEqual(first, second) {\n  if (first === second) {\n    return true;\n  }\n\n  var isDraggableEqual = first.draggable.id === second.draggable.id && first.draggable.droppableId === second.draggable.droppableId && first.draggable.type === second.draggable.type && first.draggable.index === second.draggable.index;\n  var isDroppableEqual = first.droppable.id === second.droppable.id && first.droppable.type === second.droppable.type;\n  return isDraggableEqual && isDroppableEqual;\n};\n\nvar withTimings = function withTimings(key, fn) {\n  start(key);\n  fn();\n  finish(key);\n};\n\nvar getDragStart = function getDragStart(critical, mode) {\n  return {\n    draggableId: critical.draggable.id,\n    type: critical.droppable.type,\n    source: {\n      droppableId: critical.droppable.id,\n      index: critical.draggable.index\n    },\n    mode: mode\n  };\n};\n\nvar execute = function execute(responder, data, announce, getDefaultMessage) {\n  if (!responder) {\n    announce(getDefaultMessage(data));\n    return;\n  }\n\n  var willExpire = getExpiringAnnounce(announce);\n  var provided = {\n    announce: willExpire\n  };\n  responder(data, provided);\n\n  if (!willExpire.wasCalled()) {\n    announce(getDefaultMessage(data));\n  }\n};\n\nvar getPublisher = (function (getResponders, announce) {\n  var asyncMarshal = getAsyncMarshal();\n  var dragging = null;\n\n  var beforeCapture = function beforeCapture(draggableId, mode) {\n    !!dragging ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot fire onBeforeCapture as a drag start has already been published') : invariant(false) : void 0;\n    withTimings('onBeforeCapture', function () {\n      var fn = getResponders().onBeforeCapture;\n\n      if (fn) {\n        var before = {\n          draggableId: draggableId,\n          mode: mode\n        };\n        fn(before);\n      }\n    });\n  };\n\n  var beforeStart = function beforeStart(critical, mode) {\n    !!dragging ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot fire onBeforeDragStart as a drag start has already been published') : invariant(false) : void 0;\n    withTimings('onBeforeDragStart', function () {\n      var fn = getResponders().onBeforeDragStart;\n\n      if (fn) {\n        fn(getDragStart(critical, mode));\n      }\n    });\n  };\n\n  var start = function start(critical, mode) {\n    !!dragging ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot fire onBeforeDragStart as a drag start has already been published') : invariant(false) : void 0;\n    var data = getDragStart(critical, mode);\n    dragging = {\n      mode: mode,\n      lastCritical: critical,\n      lastLocation: data.source,\n      lastCombine: null\n    };\n    asyncMarshal.add(function () {\n      withTimings('onDragStart', function () {\n        return execute(getResponders().onDragStart, data, announce, preset.onDragStart);\n      });\n    });\n  };\n\n  var update = function update(critical, impact) {\n    var location = tryGetDestination(impact);\n    var combine = tryGetCombine(impact);\n    !dragging ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot fire onDragMove when onDragStart has not been called') : invariant(false) : void 0;\n    var hasCriticalChanged = !isCriticalEqual(critical, dragging.lastCritical);\n\n    if (hasCriticalChanged) {\n      dragging.lastCritical = critical;\n    }\n\n    var hasLocationChanged = !areLocationsEqual(dragging.lastLocation, location);\n\n    if (hasLocationChanged) {\n      dragging.lastLocation = location;\n    }\n\n    var hasGroupingChanged = !isCombineEqual(dragging.lastCombine, combine);\n\n    if (hasGroupingChanged) {\n      dragging.lastCombine = combine;\n    }\n\n    if (!hasCriticalChanged && !hasLocationChanged && !hasGroupingChanged) {\n      return;\n    }\n\n    var data = _extends({}, getDragStart(critical, dragging.mode), {\n      combine: combine,\n      destination: location\n    });\n\n    asyncMarshal.add(function () {\n      withTimings('onDragUpdate', function () {\n        return execute(getResponders().onDragUpdate, data, announce, preset.onDragUpdate);\n      });\n    });\n  };\n\n  var flush = function flush() {\n    !dragging ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Can only flush responders while dragging') : invariant(false) : void 0;\n    asyncMarshal.flush();\n  };\n\n  var drop = function drop(result) {\n    !dragging ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot fire onDragEnd when there is no matching onDragStart') : invariant(false) : void 0;\n    dragging = null;\n    withTimings('onDragEnd', function () {\n      return execute(getResponders().onDragEnd, result, announce, preset.onDragEnd);\n    });\n  };\n\n  var abort = function abort() {\n    if (!dragging) {\n      return;\n    }\n\n    var result = _extends({}, getDragStart(dragging.lastCritical, dragging.mode), {\n      combine: null,\n      destination: null,\n      reason: 'CANCEL'\n    });\n\n    drop(result);\n  };\n\n  return {\n    beforeCapture: beforeCapture,\n    beforeStart: beforeStart,\n    start: start,\n    update: update,\n    flush: flush,\n    drop: drop,\n    abort: abort\n  };\n});\n\nvar responders = (function (getResponders, announce) {\n  var publisher = getPublisher(getResponders, announce);\n  return function (store) {\n    return function (next) {\n      return function (action) {\n        if (action.type === 'BEFORE_INITIAL_CAPTURE') {\n          publisher.beforeCapture(action.payload.draggableId, action.payload.movementMode);\n          return;\n        }\n\n        if (action.type === 'INITIAL_PUBLISH') {\n          var critical = action.payload.critical;\n          publisher.beforeStart(critical, action.payload.movementMode);\n          next(action);\n          publisher.start(critical, action.payload.movementMode);\n          return;\n        }\n\n        if (action.type === 'DROP_COMPLETE') {\n          var result = action.payload.completed.result;\n          publisher.flush();\n          next(action);\n          publisher.drop(result);\n          return;\n        }\n\n        next(action);\n\n        if (action.type === 'FLUSH') {\n          publisher.abort();\n          return;\n        }\n\n        var state = store.getState();\n\n        if (state.phase === 'DRAGGING') {\n          publisher.update(state.critical, state.impact);\n        }\n      };\n    };\n  };\n});\n\nvar dropAnimationFinish = (function (store) {\n  return function (next) {\n    return function (action) {\n      if (action.type !== 'DROP_ANIMATION_FINISHED') {\n        next(action);\n        return;\n      }\n\n      var state = store.getState();\n      !(state.phase === 'DROP_ANIMATING') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot finish a drop animating when no drop is occurring') : invariant(false) : void 0;\n      store.dispatch(completeDrop({\n        completed: state.completed\n      }));\n    };\n  };\n});\n\nvar dropAnimationFlushOnScroll = (function (store) {\n  var unbind = null;\n  var frameId = null;\n\n  function clear() {\n    if (frameId) {\n      cancelAnimationFrame(frameId);\n      frameId = null;\n    }\n\n    if (unbind) {\n      unbind();\n      unbind = null;\n    }\n  }\n\n  return function (next) {\n    return function (action) {\n      if (action.type === 'FLUSH' || action.type === 'DROP_COMPLETE' || action.type === 'DROP_ANIMATION_FINISHED') {\n        clear();\n      }\n\n      next(action);\n\n      if (action.type !== 'DROP_ANIMATE') {\n        return;\n      }\n\n      var binding = {\n        eventName: 'scroll',\n        options: {\n          capture: true,\n          passive: false,\n          once: true\n        },\n        fn: function flushDropAnimation() {\n          var state = store.getState();\n\n          if (state.phase === 'DROP_ANIMATING') {\n            store.dispatch(dropAnimationFinished());\n          }\n        }\n      };\n      frameId = requestAnimationFrame(function () {\n        frameId = null;\n        unbind = bindEvents(window, [binding]);\n      });\n    };\n  };\n});\n\nvar dimensionMarshalStopper = (function (marshal) {\n  return function () {\n    return function (next) {\n      return function (action) {\n        if (action.type === 'DROP_COMPLETE' || action.type === 'FLUSH' || action.type === 'DROP_ANIMATE') {\n          marshal.stopPublishing();\n        }\n\n        next(action);\n      };\n    };\n  };\n});\n\nvar focus = (function (marshal) {\n  var isWatching = false;\n  return function () {\n    return function (next) {\n      return function (action) {\n        if (action.type === 'INITIAL_PUBLISH') {\n          isWatching = true;\n          marshal.tryRecordFocus(action.payload.critical.draggable.id);\n          next(action);\n          marshal.tryRestoreFocusRecorded();\n          return;\n        }\n\n        next(action);\n\n        if (!isWatching) {\n          return;\n        }\n\n        if (action.type === 'FLUSH') {\n          isWatching = false;\n          marshal.tryRestoreFocusRecorded();\n          return;\n        }\n\n        if (action.type === 'DROP_COMPLETE') {\n          isWatching = false;\n          var result = action.payload.completed.result;\n\n          if (result.combine) {\n            marshal.tryShiftRecord(result.draggableId, result.combine.draggableId);\n          }\n\n          marshal.tryRestoreFocusRecorded();\n        }\n      };\n    };\n  };\n});\n\nvar shouldStop = function shouldStop(action) {\n  return action.type === 'DROP_COMPLETE' || action.type === 'DROP_ANIMATE' || action.type === 'FLUSH';\n};\n\nvar autoScroll = (function (autoScroller) {\n  return function (store) {\n    return function (next) {\n      return function (action) {\n        if (shouldStop(action)) {\n          autoScroller.stop();\n          next(action);\n          return;\n        }\n\n        if (action.type === 'INITIAL_PUBLISH') {\n          next(action);\n          var state = store.getState();\n          !(state.phase === 'DRAGGING') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Expected phase to be DRAGGING after INITIAL_PUBLISH') : invariant(false) : void 0;\n          autoScroller.start(state);\n          return;\n        }\n\n        next(action);\n        autoScroller.scroll(store.getState());\n      };\n    };\n  };\n});\n\nvar pendingDrop = (function (store) {\n  return function (next) {\n    return function (action) {\n      next(action);\n\n      if (action.type !== 'PUBLISH_WHILE_DRAGGING') {\n        return;\n      }\n\n      var postActionState = store.getState();\n\n      if (postActionState.phase !== 'DROP_PENDING') {\n        return;\n      }\n\n      if (postActionState.isWaiting) {\n        return;\n      }\n\n      store.dispatch(drop({\n        reason: postActionState.reason\n      }));\n    };\n  };\n});\n\nvar composeEnhancers = process.env.NODE_ENV !== 'production' && typeof window !== 'undefined' && window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ ? window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ : compose;\nvar createStore = (function (_ref) {\n  var dimensionMarshal = _ref.dimensionMarshal,\n      focusMarshal = _ref.focusMarshal,\n      styleMarshal = _ref.styleMarshal,\n      getResponders = _ref.getResponders,\n      announce = _ref.announce,\n      autoScroller = _ref.autoScroller;\n  return createStore$1(reducer, composeEnhancers(applyMiddleware(style(styleMarshal), dimensionMarshalStopper(dimensionMarshal), lift$1(dimensionMarshal), drop$1, dropAnimationFinish, dropAnimationFlushOnScroll, pendingDrop, autoScroll(autoScroller), scrollListener, focus(focusMarshal), responders(getResponders, announce))));\n});\n\nvar clean$1 = function clean() {\n  return {\n    additions: {},\n    removals: {},\n    modified: {}\n  };\n};\n\nvar timingKey = 'Publish collection from DOM';\nfunction createPublisher(_ref) {\n  var registry = _ref.registry,\n      callbacks = _ref.callbacks;\n  var staging = clean$1();\n  var frameId = null;\n\n  var collect = function collect() {\n    if (frameId) {\n      return;\n    }\n\n    callbacks.collectionStarting();\n    frameId = requestAnimationFrame(function () {\n      frameId = null;\n      start(timingKey);\n      var _staging = staging,\n          additions = _staging.additions,\n          removals = _staging.removals,\n          modified = _staging.modified;\n\n      var added = _Object$keys(additions).map(function (id) {\n        return registry.draggable.getById(id).getDimension(origin);\n      }).sort(function (a, b) {\n        return a.descriptor.index - b.descriptor.index;\n      });\n\n      var updated = _Object$keys(modified).map(function (id) {\n        var entry = registry.droppable.getById(id);\n        var scroll = entry.callbacks.getScrollWhileDragging();\n        return {\n          droppableId: id,\n          scroll: scroll\n        };\n      });\n\n      var result = {\n        additions: added,\n        removals: _Object$keys(removals),\n        modified: updated\n      };\n      staging = clean$1();\n      finish(timingKey);\n      callbacks.publish(result);\n    });\n  };\n\n  var add = function add(entry) {\n    var id = entry.descriptor.id;\n    staging.additions[id] = entry;\n    staging.modified[entry.descriptor.droppableId] = true;\n\n    if (staging.removals[id]) {\n      delete staging.removals[id];\n    }\n\n    collect();\n  };\n\n  var remove = function remove(entry) {\n    var descriptor = entry.descriptor;\n    staging.removals[descriptor.id] = true;\n    staging.modified[descriptor.droppableId] = true;\n\n    if (staging.additions[descriptor.id]) {\n      delete staging.additions[descriptor.id];\n    }\n\n    collect();\n  };\n\n  var stop = function stop() {\n    if (!frameId) {\n      return;\n    }\n\n    cancelAnimationFrame(frameId);\n    frameId = null;\n    staging = clean$1();\n  };\n\n  return {\n    add: add,\n    remove: remove,\n    stop: stop\n  };\n}\n\nvar getMaxScroll = (function (_ref) {\n  var scrollHeight = _ref.scrollHeight,\n      scrollWidth = _ref.scrollWidth,\n      height = _ref.height,\n      width = _ref.width;\n  var maxScroll = subtract({\n    x: scrollWidth,\n    y: scrollHeight\n  }, {\n    x: width,\n    y: height\n  });\n  var adjustedMaxScroll = {\n    x: Math.max(0, maxScroll.x),\n    y: Math.max(0, maxScroll.y)\n  };\n  return adjustedMaxScroll;\n});\n\nvar getDocumentElement = (function () {\n  var doc = document.documentElement;\n  !doc ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot find document.documentElement') : invariant(false) : void 0;\n  return doc;\n});\n\nvar getMaxWindowScroll = (function () {\n  var doc = getDocumentElement();\n  var maxScroll = getMaxScroll({\n    scrollHeight: doc.scrollHeight,\n    scrollWidth: doc.scrollWidth,\n    width: doc.clientWidth,\n    height: doc.clientHeight\n  });\n  return maxScroll;\n});\n\nvar getViewport = (function () {\n  var scroll = getWindowScroll();\n  var maxScroll = getMaxWindowScroll();\n  var top = scroll.y;\n  var left = scroll.x;\n  var doc = getDocumentElement();\n  var width = doc.clientWidth;\n  var height = doc.clientHeight;\n  var right = left + width;\n  var bottom = top + height;\n  var frame = getRect({\n    top: top,\n    left: left,\n    right: right,\n    bottom: bottom\n  });\n  var viewport = {\n    frame: frame,\n    scroll: {\n      initial: scroll,\n      current: scroll,\n      max: maxScroll,\n      diff: {\n        value: origin,\n        displacement: origin\n      }\n    }\n  };\n  return viewport;\n});\n\nvar getInitialPublish = (function (_ref) {\n  var critical = _ref.critical,\n      scrollOptions = _ref.scrollOptions,\n      registry = _ref.registry;\n  var timingKey = 'Initial collection from DOM';\n  start(timingKey);\n  var viewport = getViewport();\n  var windowScroll = viewport.scroll.current;\n  var home = critical.droppable;\n  var droppables = registry.droppable.getAllByType(home.type).map(function (entry) {\n    return entry.callbacks.getDimensionAndWatchScroll(windowScroll, scrollOptions);\n  });\n  var draggables = registry.draggable.getAllByType(critical.draggable.type).map(function (entry) {\n    return entry.getDimension(windowScroll);\n  });\n  var dimensions = {\n    draggables: toDraggableMap(draggables),\n    droppables: toDroppableMap(droppables)\n  };\n  finish(timingKey);\n  var result = {\n    dimensions: dimensions,\n    critical: critical,\n    viewport: viewport\n  };\n  return result;\n});\n\nfunction shouldPublishUpdate(registry, dragging, entry) {\n  if (entry.descriptor.id === dragging.id) {\n    return false;\n  }\n\n  if (entry.descriptor.type !== dragging.type) {\n    return false;\n  }\n\n  var home = registry.droppable.getById(entry.descriptor.droppableId);\n\n  if (home.descriptor.mode !== 'virtual') {\n    process.env.NODE_ENV !== \"production\" ? warning(\"\\n      You are attempting to add or remove a Draggable [id: \" + entry.descriptor.id + \"]\\n      while a drag is occurring. This is only supported for virtual lists.\\n\\n      See https://github.com/atlassian/react-beautiful-dnd/blob/master/docs/patterns/virtual-lists.md\\n    \") : void 0;\n    return false;\n  }\n\n  return true;\n}\n\nvar createDimensionMarshal = (function (registry, callbacks) {\n  var collection = null;\n  var publisher = createPublisher({\n    callbacks: {\n      publish: callbacks.publishWhileDragging,\n      collectionStarting: callbacks.collectionStarting\n    },\n    registry: registry\n  });\n\n  var updateDroppableIsEnabled = function updateDroppableIsEnabled(id, isEnabled) {\n    !registry.droppable.exists(id) ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Cannot update is enabled flag of Droppable \" + id + \" as it is not registered\") : invariant(false) : void 0;\n\n    if (!collection) {\n      return;\n    }\n\n    callbacks.updateDroppableIsEnabled({\n      id: id,\n      isEnabled: isEnabled\n    });\n  };\n\n  var updateDroppableIsCombineEnabled = function updateDroppableIsCombineEnabled(id, isCombineEnabled) {\n    if (!collection) {\n      return;\n    }\n\n    !registry.droppable.exists(id) ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Cannot update isCombineEnabled flag of Droppable \" + id + \" as it is not registered\") : invariant(false) : void 0;\n    callbacks.updateDroppableIsCombineEnabled({\n      id: id,\n      isCombineEnabled: isCombineEnabled\n    });\n  };\n\n  var updateDroppableScroll = function updateDroppableScroll(id, newScroll) {\n    if (!collection) {\n      return;\n    }\n\n    !registry.droppable.exists(id) ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Cannot update the scroll on Droppable \" + id + \" as it is not registered\") : invariant(false) : void 0;\n    callbacks.updateDroppableScroll({\n      id: id,\n      newScroll: newScroll\n    });\n  };\n\n  var scrollDroppable = function scrollDroppable(id, change) {\n    if (!collection) {\n      return;\n    }\n\n    registry.droppable.getById(id).callbacks.scroll(change);\n  };\n\n  var stopPublishing = function stopPublishing() {\n    if (!collection) {\n      return;\n    }\n\n    publisher.stop();\n    var home = collection.critical.droppable;\n    registry.droppable.getAllByType(home.type).forEach(function (entry) {\n      return entry.callbacks.dragStopped();\n    });\n    collection.unsubscribe();\n    collection = null;\n  };\n\n  var subscriber = function subscriber(event) {\n    !collection ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Should only be subscribed when a collection is occurring') : invariant(false) : void 0;\n    var dragging = collection.critical.draggable;\n\n    if (event.type === 'ADDITION') {\n      if (shouldPublishUpdate(registry, dragging, event.value)) {\n        publisher.add(event.value);\n      }\n    }\n\n    if (event.type === 'REMOVAL') {\n      if (shouldPublishUpdate(registry, dragging, event.value)) {\n        publisher.remove(event.value);\n      }\n    }\n  };\n\n  var startPublishing = function startPublishing(request) {\n    !!collection ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot start capturing critical dimensions as there is already a collection') : invariant(false) : void 0;\n    var entry = registry.draggable.getById(request.draggableId);\n    var home = registry.droppable.getById(entry.descriptor.droppableId);\n    var critical = {\n      draggable: entry.descriptor,\n      droppable: home.descriptor\n    };\n    var unsubscribe = registry.subscribe(subscriber);\n    collection = {\n      critical: critical,\n      unsubscribe: unsubscribe\n    };\n    return getInitialPublish({\n      critical: critical,\n      registry: registry,\n      scrollOptions: request.scrollOptions\n    });\n  };\n\n  var marshal = {\n    updateDroppableIsEnabled: updateDroppableIsEnabled,\n    updateDroppableIsCombineEnabled: updateDroppableIsCombineEnabled,\n    scrollDroppable: scrollDroppable,\n    updateDroppableScroll: updateDroppableScroll,\n    startPublishing: startPublishing,\n    stopPublishing: stopPublishing\n  };\n  return marshal;\n});\n\nvar canStartDrag = (function (state, id) {\n  if (state.phase === 'IDLE') {\n    return true;\n  }\n\n  if (state.phase !== 'DROP_ANIMATING') {\n    return false;\n  }\n\n  if (state.completed.result.draggableId === id) {\n    return false;\n  }\n\n  return state.completed.result.reason === 'DROP';\n});\n\nvar scrollWindow = (function (change) {\n  window.scrollBy(change.x, change.y);\n});\n\nvar getScrollableDroppables = memoizeOne(function (droppables) {\n  return toDroppableList(droppables).filter(function (droppable) {\n    if (!droppable.isEnabled) {\n      return false;\n    }\n\n    if (!droppable.frame) {\n      return false;\n    }\n\n    return true;\n  });\n});\n\nvar getScrollableDroppableOver = function getScrollableDroppableOver(target, droppables) {\n  var maybe = find(getScrollableDroppables(droppables), function (droppable) {\n    !droppable.frame ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Invalid result') : invariant(false) : void 0;\n    return isPositionInFrame(droppable.frame.pageMarginBox)(target);\n  });\n  return maybe;\n};\n\nvar getBestScrollableDroppable = (function (_ref) {\n  var center = _ref.center,\n      destination = _ref.destination,\n      droppables = _ref.droppables;\n\n  if (destination) {\n    var _dimension = droppables[destination];\n\n    if (!_dimension.frame) {\n      return null;\n    }\n\n    return _dimension;\n  }\n\n  var dimension = getScrollableDroppableOver(center, droppables);\n  return dimension;\n});\n\nvar config = {\n  startFromPercentage: 0.25,\n  maxScrollAtPercentage: 0.05,\n  maxPixelScroll: 28,\n  ease: function ease(percentage) {\n    return Math.pow(percentage, 2);\n  },\n  durationDampening: {\n    stopDampeningAt: 1200,\n    accelerateAt: 360\n  }\n};\n\nvar getDistanceThresholds = (function (container, axis) {\n  var startScrollingFrom = container[axis.size] * config.startFromPercentage;\n  var maxScrollValueAt = container[axis.size] * config.maxScrollAtPercentage;\n  var thresholds = {\n    startScrollingFrom: startScrollingFrom,\n    maxScrollValueAt: maxScrollValueAt\n  };\n  return thresholds;\n});\n\nvar getPercentage = (function (_ref) {\n  var startOfRange = _ref.startOfRange,\n      endOfRange = _ref.endOfRange,\n      current = _ref.current;\n  var range = endOfRange - startOfRange;\n\n  if (range === 0) {\n    process.env.NODE_ENV !== \"production\" ? warning(\"\\n      Detected distance range of 0 in the fluid auto scroller\\n      This is unexpected and would cause a divide by 0 issue.\\n      Not allowing an auto scroll\\n    \") : void 0;\n    return 0;\n  }\n\n  var currentInRange = current - startOfRange;\n  var percentage = currentInRange / range;\n  return percentage;\n});\n\nvar minScroll = 1;\n\nvar getValueFromDistance = (function (distanceToEdge, thresholds) {\n  if (distanceToEdge > thresholds.startScrollingFrom) {\n    return 0;\n  }\n\n  if (distanceToEdge <= thresholds.maxScrollValueAt) {\n    return config.maxPixelScroll;\n  }\n\n  if (distanceToEdge === thresholds.startScrollingFrom) {\n    return minScroll;\n  }\n\n  var percentageFromMaxScrollValueAt = getPercentage({\n    startOfRange: thresholds.maxScrollValueAt,\n    endOfRange: thresholds.startScrollingFrom,\n    current: distanceToEdge\n  });\n  var percentageFromStartScrollingFrom = 1 - percentageFromMaxScrollValueAt;\n  var scroll = config.maxPixelScroll * config.ease(percentageFromStartScrollingFrom);\n  return Math.ceil(scroll);\n});\n\nvar accelerateAt = config.durationDampening.accelerateAt;\nvar stopAt = config.durationDampening.stopDampeningAt;\nvar dampenValueByTime = (function (proposedScroll, dragStartTime) {\n  var startOfRange = dragStartTime;\n  var endOfRange = stopAt;\n\n  var now = _Date$now();\n\n  var runTime = now - startOfRange;\n\n  if (runTime >= stopAt) {\n    return proposedScroll;\n  }\n\n  if (runTime < accelerateAt) {\n    return minScroll;\n  }\n\n  var betweenAccelerateAtAndStopAtPercentage = getPercentage({\n    startOfRange: accelerateAt,\n    endOfRange: endOfRange,\n    current: runTime\n  });\n  var scroll = proposedScroll * config.ease(betweenAccelerateAtAndStopAtPercentage);\n  return Math.ceil(scroll);\n});\n\nvar getValue = (function (_ref) {\n  var distanceToEdge = _ref.distanceToEdge,\n      thresholds = _ref.thresholds,\n      dragStartTime = _ref.dragStartTime,\n      shouldUseTimeDampening = _ref.shouldUseTimeDampening;\n  var scroll = getValueFromDistance(distanceToEdge, thresholds);\n\n  if (scroll === 0) {\n    return 0;\n  }\n\n  if (!shouldUseTimeDampening) {\n    return scroll;\n  }\n\n  return Math.max(dampenValueByTime(scroll, dragStartTime), minScroll);\n});\n\nvar getScrollOnAxis = (function (_ref) {\n  var container = _ref.container,\n      distanceToEdges = _ref.distanceToEdges,\n      dragStartTime = _ref.dragStartTime,\n      axis = _ref.axis,\n      shouldUseTimeDampening = _ref.shouldUseTimeDampening;\n  var thresholds = getDistanceThresholds(container, axis);\n  var isCloserToEnd = distanceToEdges[axis.end] < distanceToEdges[axis.start];\n\n  if (isCloserToEnd) {\n    return getValue({\n      distanceToEdge: distanceToEdges[axis.end],\n      thresholds: thresholds,\n      dragStartTime: dragStartTime,\n      shouldUseTimeDampening: shouldUseTimeDampening\n    });\n  }\n\n  return -1 * getValue({\n    distanceToEdge: distanceToEdges[axis.start],\n    thresholds: thresholds,\n    dragStartTime: dragStartTime,\n    shouldUseTimeDampening: shouldUseTimeDampening\n  });\n});\n\nvar adjustForSizeLimits = (function (_ref) {\n  var container = _ref.container,\n      subject = _ref.subject,\n      proposedScroll = _ref.proposedScroll;\n  var isTooBigVertically = subject.height > container.height;\n  var isTooBigHorizontally = subject.width > container.width;\n\n  if (!isTooBigHorizontally && !isTooBigVertically) {\n    return proposedScroll;\n  }\n\n  if (isTooBigHorizontally && isTooBigVertically) {\n    return null;\n  }\n\n  return {\n    x: isTooBigHorizontally ? 0 : proposedScroll.x,\n    y: isTooBigVertically ? 0 : proposedScroll.y\n  };\n});\n\nvar clean$2 = apply(function (value) {\n  return value === 0 ? 0 : value;\n});\nvar getScroll = (function (_ref) {\n  var dragStartTime = _ref.dragStartTime,\n      container = _ref.container,\n      subject = _ref.subject,\n      center = _ref.center,\n      shouldUseTimeDampening = _ref.shouldUseTimeDampening;\n  var distanceToEdges = {\n    top: center.y - container.top,\n    right: container.right - center.x,\n    bottom: container.bottom - center.y,\n    left: center.x - container.left\n  };\n  var y = getScrollOnAxis({\n    container: container,\n    distanceToEdges: distanceToEdges,\n    dragStartTime: dragStartTime,\n    axis: vertical,\n    shouldUseTimeDampening: shouldUseTimeDampening\n  });\n  var x = getScrollOnAxis({\n    container: container,\n    distanceToEdges: distanceToEdges,\n    dragStartTime: dragStartTime,\n    axis: horizontal,\n    shouldUseTimeDampening: shouldUseTimeDampening\n  });\n  var required = clean$2({\n    x: x,\n    y: y\n  });\n\n  if (isEqual(required, origin)) {\n    return null;\n  }\n\n  var limited = adjustForSizeLimits({\n    container: container,\n    subject: subject,\n    proposedScroll: required\n  });\n\n  if (!limited) {\n    return null;\n  }\n\n  return isEqual(limited, origin) ? null : limited;\n});\n\nvar smallestSigned = apply(function (value) {\n  if (value === 0) {\n    return 0;\n  }\n\n  return value > 0 ? 1 : -1;\n});\nvar getOverlap = function () {\n  var getRemainder = function getRemainder(target, max) {\n    if (target < 0) {\n      return target;\n    }\n\n    if (target > max) {\n      return target - max;\n    }\n\n    return 0;\n  };\n\n  return function (_ref) {\n    var current = _ref.current,\n        max = _ref.max,\n        change = _ref.change;\n    var targetScroll = add(current, change);\n    var overlap = {\n      x: getRemainder(targetScroll.x, max.x),\n      y: getRemainder(targetScroll.y, max.y)\n    };\n\n    if (isEqual(overlap, origin)) {\n      return null;\n    }\n\n    return overlap;\n  };\n}();\nvar canPartiallyScroll = function canPartiallyScroll(_ref2) {\n  var rawMax = _ref2.max,\n      current = _ref2.current,\n      change = _ref2.change;\n  var max = {\n    x: Math.max(current.x, rawMax.x),\n    y: Math.max(current.y, rawMax.y)\n  };\n  var smallestChange = smallestSigned(change);\n  var overlap = getOverlap({\n    max: max,\n    current: current,\n    change: smallestChange\n  });\n\n  if (!overlap) {\n    return true;\n  }\n\n  if (smallestChange.x !== 0 && overlap.x === 0) {\n    return true;\n  }\n\n  if (smallestChange.y !== 0 && overlap.y === 0) {\n    return true;\n  }\n\n  return false;\n};\nvar canScrollWindow = function canScrollWindow(viewport, change) {\n  return canPartiallyScroll({\n    current: viewport.scroll.current,\n    max: viewport.scroll.max,\n    change: change\n  });\n};\nvar getWindowOverlap = function getWindowOverlap(viewport, change) {\n  if (!canScrollWindow(viewport, change)) {\n    return null;\n  }\n\n  var max = viewport.scroll.max;\n  var current = viewport.scroll.current;\n  return getOverlap({\n    current: current,\n    max: max,\n    change: change\n  });\n};\nvar canScrollDroppable = function canScrollDroppable(droppable, change) {\n  var frame = droppable.frame;\n\n  if (!frame) {\n    return false;\n  }\n\n  return canPartiallyScroll({\n    current: frame.scroll.current,\n    max: frame.scroll.max,\n    change: change\n  });\n};\nvar getDroppableOverlap = function getDroppableOverlap(droppable, change) {\n  var frame = droppable.frame;\n\n  if (!frame) {\n    return null;\n  }\n\n  if (!canScrollDroppable(droppable, change)) {\n    return null;\n  }\n\n  return getOverlap({\n    current: frame.scroll.current,\n    max: frame.scroll.max,\n    change: change\n  });\n};\n\nvar getWindowScrollChange = (function (_ref) {\n  var viewport = _ref.viewport,\n      subject = _ref.subject,\n      center = _ref.center,\n      dragStartTime = _ref.dragStartTime,\n      shouldUseTimeDampening = _ref.shouldUseTimeDampening;\n  var scroll = getScroll({\n    dragStartTime: dragStartTime,\n    container: viewport.frame,\n    subject: subject,\n    center: center,\n    shouldUseTimeDampening: shouldUseTimeDampening\n  });\n  return scroll && canScrollWindow(viewport, scroll) ? scroll : null;\n});\n\nvar getDroppableScrollChange = (function (_ref) {\n  var droppable = _ref.droppable,\n      subject = _ref.subject,\n      center = _ref.center,\n      dragStartTime = _ref.dragStartTime,\n      shouldUseTimeDampening = _ref.shouldUseTimeDampening;\n  var frame = droppable.frame;\n\n  if (!frame) {\n    return null;\n  }\n\n  var scroll = getScroll({\n    dragStartTime: dragStartTime,\n    container: frame.pageMarginBox,\n    subject: subject,\n    center: center,\n    shouldUseTimeDampening: shouldUseTimeDampening\n  });\n  return scroll && canScrollDroppable(droppable, scroll) ? scroll : null;\n});\n\nvar scroll$1 = (function (_ref) {\n  var state = _ref.state,\n      dragStartTime = _ref.dragStartTime,\n      shouldUseTimeDampening = _ref.shouldUseTimeDampening,\n      scrollWindow = _ref.scrollWindow,\n      scrollDroppable = _ref.scrollDroppable;\n  var center = state.current.page.borderBoxCenter;\n  var draggable = state.dimensions.draggables[state.critical.draggable.id];\n  var subject = draggable.page.marginBox;\n\n  if (state.isWindowScrollAllowed) {\n    var viewport = state.viewport;\n\n    var _change = getWindowScrollChange({\n      dragStartTime: dragStartTime,\n      viewport: viewport,\n      subject: subject,\n      center: center,\n      shouldUseTimeDampening: shouldUseTimeDampening\n    });\n\n    if (_change) {\n      scrollWindow(_change);\n      return;\n    }\n  }\n\n  var droppable = getBestScrollableDroppable({\n    center: center,\n    destination: whatIsDraggedOver(state.impact),\n    droppables: state.dimensions.droppables\n  });\n\n  if (!droppable) {\n    return;\n  }\n\n  var change = getDroppableScrollChange({\n    dragStartTime: dragStartTime,\n    droppable: droppable,\n    subject: subject,\n    center: center,\n    shouldUseTimeDampening: shouldUseTimeDampening\n  });\n\n  if (change) {\n    scrollDroppable(droppable.descriptor.id, change);\n  }\n});\n\nvar createFluidScroller = (function (_ref) {\n  var scrollWindow = _ref.scrollWindow,\n      scrollDroppable = _ref.scrollDroppable;\n  var scheduleWindowScroll = rafSchd(scrollWindow);\n  var scheduleDroppableScroll = rafSchd(scrollDroppable);\n  var dragging = null;\n\n  var tryScroll = function tryScroll(state) {\n    !dragging ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot fluid scroll if not dragging') : invariant(false) : void 0;\n    var _dragging = dragging,\n        shouldUseTimeDampening = _dragging.shouldUseTimeDampening,\n        dragStartTime = _dragging.dragStartTime;\n    scroll$1({\n      state: state,\n      scrollWindow: scheduleWindowScroll,\n      scrollDroppable: scheduleDroppableScroll,\n      dragStartTime: dragStartTime,\n      shouldUseTimeDampening: shouldUseTimeDampening\n    });\n  };\n\n  var start$1 = function start$1(state) {\n    start('starting fluid scroller');\n    !!dragging ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot start auto scrolling when already started') : invariant(false) : void 0;\n\n    var dragStartTime = _Date$now();\n\n    var wasScrollNeeded = false;\n\n    var fakeScrollCallback = function fakeScrollCallback() {\n      wasScrollNeeded = true;\n    };\n\n    scroll$1({\n      state: state,\n      dragStartTime: 0,\n      shouldUseTimeDampening: false,\n      scrollWindow: fakeScrollCallback,\n      scrollDroppable: fakeScrollCallback\n    });\n    dragging = {\n      dragStartTime: dragStartTime,\n      shouldUseTimeDampening: wasScrollNeeded\n    };\n    finish('starting fluid scroller');\n\n    if (wasScrollNeeded) {\n      tryScroll(state);\n    }\n  };\n\n  var stop = function stop() {\n    if (!dragging) {\n      return;\n    }\n\n    scheduleWindowScroll.cancel();\n    scheduleDroppableScroll.cancel();\n    dragging = null;\n  };\n\n  return {\n    start: start$1,\n    stop: stop,\n    scroll: tryScroll\n  };\n});\n\nvar createJumpScroller = (function (_ref) {\n  var move = _ref.move,\n      scrollDroppable = _ref.scrollDroppable,\n      scrollWindow = _ref.scrollWindow;\n\n  var moveByOffset = function moveByOffset(state, offset) {\n    var client = add(state.current.client.selection, offset);\n    move({\n      client: client\n    });\n  };\n\n  var scrollDroppableAsMuchAsItCan = function scrollDroppableAsMuchAsItCan(droppable, change) {\n    if (!canScrollDroppable(droppable, change)) {\n      return change;\n    }\n\n    var overlap = getDroppableOverlap(droppable, change);\n\n    if (!overlap) {\n      scrollDroppable(droppable.descriptor.id, change);\n      return null;\n    }\n\n    var whatTheDroppableCanScroll = subtract(change, overlap);\n    scrollDroppable(droppable.descriptor.id, whatTheDroppableCanScroll);\n    var remainder = subtract(change, whatTheDroppableCanScroll);\n    return remainder;\n  };\n\n  var scrollWindowAsMuchAsItCan = function scrollWindowAsMuchAsItCan(isWindowScrollAllowed, viewport, change) {\n    if (!isWindowScrollAllowed) {\n      return change;\n    }\n\n    if (!canScrollWindow(viewport, change)) {\n      return change;\n    }\n\n    var overlap = getWindowOverlap(viewport, change);\n\n    if (!overlap) {\n      scrollWindow(change);\n      return null;\n    }\n\n    var whatTheWindowCanScroll = subtract(change, overlap);\n    scrollWindow(whatTheWindowCanScroll);\n    var remainder = subtract(change, whatTheWindowCanScroll);\n    return remainder;\n  };\n\n  var jumpScroller = function jumpScroller(state) {\n    var request = state.scrollJumpRequest;\n\n    if (!request) {\n      return;\n    }\n\n    var destination = whatIsDraggedOver(state.impact);\n    !destination ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot perform a jump scroll when there is no destination') : invariant(false) : void 0;\n    var droppableRemainder = scrollDroppableAsMuchAsItCan(state.dimensions.droppables[destination], request);\n\n    if (!droppableRemainder) {\n      return;\n    }\n\n    var viewport = state.viewport;\n    var windowRemainder = scrollWindowAsMuchAsItCan(state.isWindowScrollAllowed, viewport, droppableRemainder);\n\n    if (!windowRemainder) {\n      return;\n    }\n\n    moveByOffset(state, windowRemainder);\n  };\n\n  return jumpScroller;\n});\n\nvar createAutoScroller = (function (_ref) {\n  var scrollDroppable = _ref.scrollDroppable,\n      scrollWindow = _ref.scrollWindow,\n      move = _ref.move;\n  var fluidScroller = createFluidScroller({\n    scrollWindow: scrollWindow,\n    scrollDroppable: scrollDroppable\n  });\n  var jumpScroll = createJumpScroller({\n    move: move,\n    scrollWindow: scrollWindow,\n    scrollDroppable: scrollDroppable\n  });\n\n  var scroll = function scroll(state) {\n    if (state.phase !== 'DRAGGING') {\n      return;\n    }\n\n    if (state.movementMode === 'FLUID') {\n      fluidScroller.scroll(state);\n      return;\n    }\n\n    if (!state.scrollJumpRequest) {\n      return;\n    }\n\n    jumpScroll(state);\n  };\n\n  var scroller = {\n    scroll: scroll,\n    start: fluidScroller.start,\n    stop: fluidScroller.stop\n  };\n  return scroller;\n});\n\nvar prefix$1 = 'data-rbd';\nvar dragHandle = function () {\n  var base = prefix$1 + \"-drag-handle\";\n  return {\n    base: base,\n    draggableId: base + \"-draggable-id\",\n    contextId: base + \"-context-id\"\n  };\n}();\nvar draggable = function () {\n  var base = prefix$1 + \"-draggable\";\n  return {\n    base: base,\n    contextId: base + \"-context-id\",\n    id: base + \"-id\"\n  };\n}();\nvar droppable = function () {\n  var base = prefix$1 + \"-droppable\";\n  return {\n    base: base,\n    contextId: base + \"-context-id\",\n    id: base + \"-id\"\n  };\n}();\nvar scrollContainer = {\n  contextId: prefix$1 + \"-scroll-container-context-id\"\n};\n\nvar makeGetSelector = function makeGetSelector(context) {\n  return function (attribute) {\n    return \"[\" + attribute + \"=\\\"\" + context + \"\\\"]\";\n  };\n};\n\nvar getStyles = function getStyles(rules, property) {\n  return rules.map(function (rule) {\n    var value = rule.styles[property];\n\n    if (!value) {\n      return '';\n    }\n\n    return rule.selector + \" { \" + value + \" }\";\n  }).join(' ');\n};\n\nvar noPointerEvents = 'pointer-events: none;';\nvar getStyles$1 = (function (contextId) {\n  var getSelector = makeGetSelector(contextId);\n\n  var dragHandle$1 = function () {\n    var grabCursor = \"\\n      cursor: -webkit-grab;\\n      cursor: grab;\\n    \";\n    return {\n      selector: getSelector(dragHandle.contextId),\n      styles: {\n        always: \"\\n          -webkit-touch-callout: none;\\n          -webkit-tap-highlight-color: rgba(0,0,0,0);\\n          touch-action: manipulation;\\n        \",\n        resting: grabCursor,\n        dragging: noPointerEvents,\n        dropAnimating: grabCursor\n      }\n    };\n  }();\n\n  var draggable$1 = function () {\n    var transition = \"\\n      transition: \" + transitions.outOfTheWay + \";\\n    \";\n    return {\n      selector: getSelector(draggable.contextId),\n      styles: {\n        dragging: transition,\n        dropAnimating: transition,\n        userCancel: transition\n      }\n    };\n  }();\n\n  var droppable$1 = {\n    selector: getSelector(droppable.contextId),\n    styles: {\n      always: \"overflow-anchor: none;\"\n    }\n  };\n  var body = {\n    selector: 'body',\n    styles: {\n      dragging: \"\\n        cursor: grabbing;\\n        cursor: -webkit-grabbing;\\n        user-select: none;\\n        -webkit-user-select: none;\\n        -moz-user-select: none;\\n        -ms-user-select: none;\\n        overflow-anchor: none;\\n      \"\n    }\n  };\n  var rules = [draggable$1, dragHandle$1, droppable$1, body];\n  return {\n    always: getStyles(rules, 'always'),\n    resting: getStyles(rules, 'resting'),\n    dragging: getStyles(rules, 'dragging'),\n    dropAnimating: getStyles(rules, 'dropAnimating'),\n    userCancel: getStyles(rules, 'userCancel')\n  };\n});\n\nvar useIsomorphicLayoutEffect = typeof window !== 'undefined' && typeof window.document !== 'undefined' && typeof window.document.createElement !== 'undefined' ? useLayoutEffect : useEffect;\n\nvar getHead = function getHead() {\n  var head = document.querySelector('head');\n  !head ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot find the head to append a style to') : invariant(false) : void 0;\n  return head;\n};\n\nvar createStyleEl = function createStyleEl(nonce) {\n  var el = document.createElement('style');\n\n  if (nonce) {\n    el.setAttribute('nonce', nonce);\n  }\n\n  el.type = 'text/css';\n  return el;\n};\n\nfunction useStyleMarshal(contextId, nonce) {\n  var styles = useMemo(function () {\n    return getStyles$1(contextId);\n  }, [contextId]);\n  var alwaysRef = useRef(null);\n  var dynamicRef = useRef(null);\n  var setDynamicStyle = useCallback(memoizeOne(function (proposed) {\n    var el = dynamicRef.current;\n    !el ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot set dynamic style element if it is not set') : invariant(false) : void 0;\n    el.textContent = proposed;\n  }), []);\n  var setAlwaysStyle = useCallback(function (proposed) {\n    var el = alwaysRef.current;\n    !el ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot set dynamic style element if it is not set') : invariant(false) : void 0;\n    el.textContent = proposed;\n  }, []);\n  useIsomorphicLayoutEffect(function () {\n    !(!alwaysRef.current && !dynamicRef.current) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'style elements already mounted') : invariant(false) : void 0;\n    var always = createStyleEl(nonce);\n    var dynamic = createStyleEl(nonce);\n    alwaysRef.current = always;\n    dynamicRef.current = dynamic;\n    always.setAttribute(prefix$1 + \"-always\", contextId);\n    dynamic.setAttribute(prefix$1 + \"-dynamic\", contextId);\n    getHead().appendChild(always);\n    getHead().appendChild(dynamic);\n    setAlwaysStyle(styles.always);\n    setDynamicStyle(styles.resting);\n    return function () {\n      var remove = function remove(ref) {\n        var current = ref.current;\n        !current ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot unmount ref as it is not set') : invariant(false) : void 0;\n        getHead().removeChild(current);\n        ref.current = null;\n      };\n\n      remove(alwaysRef);\n      remove(dynamicRef);\n    };\n  }, [nonce, setAlwaysStyle, setDynamicStyle, styles.always, styles.resting, contextId]);\n  var dragging = useCallback(function () {\n    return setDynamicStyle(styles.dragging);\n  }, [setDynamicStyle, styles.dragging]);\n  var dropping = useCallback(function (reason) {\n    if (reason === 'DROP') {\n      setDynamicStyle(styles.dropAnimating);\n      return;\n    }\n\n    setDynamicStyle(styles.userCancel);\n  }, [setDynamicStyle, styles.dropAnimating, styles.userCancel]);\n  var resting = useCallback(function () {\n    if (!dynamicRef.current) {\n      return;\n    }\n\n    setDynamicStyle(styles.resting);\n  }, [setDynamicStyle, styles.resting]);\n  var marshal = useMemo(function () {\n    return {\n      dragging: dragging,\n      dropping: dropping,\n      resting: resting\n    };\n  }, [dragging, dropping, resting]);\n  return marshal;\n}\n\nvar getWindowFromEl = (function (el) {\n  return el && el.ownerDocument ? el.ownerDocument.defaultView : window;\n});\n\nfunction isHtmlElement(el) {\n  return el instanceof getWindowFromEl(el).HTMLElement;\n}\n\nfunction findDragHandle(contextId, draggableId) {\n  var selector = \"[\" + dragHandle.contextId + \"=\\\"\" + contextId + \"\\\"]\";\n  var possible = toArray(document.querySelectorAll(selector));\n\n  if (!possible.length) {\n    process.env.NODE_ENV !== \"production\" ? warning(\"Unable to find any drag handles in the context \\\"\" + contextId + \"\\\"\") : void 0;\n    return null;\n  }\n\n  var handle = find(possible, function (el) {\n    return el.getAttribute(dragHandle.draggableId) === draggableId;\n  });\n\n  if (!handle) {\n    process.env.NODE_ENV !== \"production\" ? warning(\"Unable to find drag handle with id \\\"\" + draggableId + \"\\\" as no handle with a matching id was found\") : void 0;\n    return null;\n  }\n\n  if (!isHtmlElement(handle)) {\n    process.env.NODE_ENV !== \"production\" ? warning('drag handle needs to be a HTMLElement') : void 0;\n    return null;\n  }\n\n  return handle;\n}\n\nfunction useFocusMarshal(contextId) {\n  var entriesRef = useRef({});\n  var recordRef = useRef(null);\n  var restoreFocusFrameRef = useRef(null);\n  var isMountedRef = useRef(false);\n  var register = useCallback(function register(id, focus) {\n    var entry = {\n      id: id,\n      focus: focus\n    };\n    entriesRef.current[id] = entry;\n    return function unregister() {\n      var entries = entriesRef.current;\n      var current = entries[id];\n\n      if (current !== entry) {\n        delete entries[id];\n      }\n    };\n  }, []);\n  var tryGiveFocus = useCallback(function tryGiveFocus(tryGiveFocusTo) {\n    var handle = findDragHandle(contextId, tryGiveFocusTo);\n\n    if (handle && handle !== document.activeElement) {\n      handle.focus();\n    }\n  }, [contextId]);\n  var tryShiftRecord = useCallback(function tryShiftRecord(previous, redirectTo) {\n    if (recordRef.current === previous) {\n      recordRef.current = redirectTo;\n    }\n  }, []);\n  var tryRestoreFocusRecorded = useCallback(function tryRestoreFocusRecorded() {\n    if (restoreFocusFrameRef.current) {\n      return;\n    }\n\n    if (!isMountedRef.current) {\n      return;\n    }\n\n    restoreFocusFrameRef.current = requestAnimationFrame(function () {\n      restoreFocusFrameRef.current = null;\n      var record = recordRef.current;\n\n      if (record) {\n        tryGiveFocus(record);\n      }\n    });\n  }, [tryGiveFocus]);\n  var tryRecordFocus = useCallback(function tryRecordFocus(id) {\n    recordRef.current = null;\n    var focused = document.activeElement;\n\n    if (!focused) {\n      return;\n    }\n\n    if (focused.getAttribute(dragHandle.draggableId) !== id) {\n      return;\n    }\n\n    recordRef.current = id;\n  }, []);\n  useIsomorphicLayoutEffect(function () {\n    isMountedRef.current = true;\n    return function clearFrameOnUnmount() {\n      isMountedRef.current = false;\n      var frameId = restoreFocusFrameRef.current;\n\n      if (frameId) {\n        cancelAnimationFrame(frameId);\n      }\n    };\n  }, []);\n  var marshal = useMemo(function () {\n    return {\n      register: register,\n      tryRecordFocus: tryRecordFocus,\n      tryRestoreFocusRecorded: tryRestoreFocusRecorded,\n      tryShiftRecord: tryShiftRecord\n    };\n  }, [register, tryRecordFocus, tryRestoreFocusRecorded, tryShiftRecord]);\n  return marshal;\n}\n\nfunction createRegistry() {\n  var entries = {\n    draggables: {},\n    droppables: {}\n  };\n  var subscribers = [];\n\n  function subscribe(cb) {\n    subscribers.push(cb);\n    return function unsubscribe() {\n      var index = subscribers.indexOf(cb);\n\n      if (index === -1) {\n        return;\n      }\n\n      subscribers.splice(index, 1);\n    };\n  }\n\n  function notify(event) {\n    if (subscribers.length) {\n      subscribers.forEach(function (cb) {\n        return cb(event);\n      });\n    }\n  }\n\n  function findDraggableById(id) {\n    return entries.draggables[id] || null;\n  }\n\n  function getDraggableById(id) {\n    var entry = findDraggableById(id);\n    !entry ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Cannot find draggable entry with id [\" + id + \"]\") : invariant(false) : void 0;\n    return entry;\n  }\n\n  var draggableAPI = {\n    register: function register(entry) {\n      entries.draggables[entry.descriptor.id] = entry;\n      notify({\n        type: 'ADDITION',\n        value: entry\n      });\n    },\n    update: function update(entry, last) {\n      var current = entries.draggables[last.descriptor.id];\n\n      if (!current) {\n        return;\n      }\n\n      if (current.uniqueId !== entry.uniqueId) {\n        return;\n      }\n\n      delete entries.draggables[last.descriptor.id];\n      entries.draggables[entry.descriptor.id] = entry;\n    },\n    unregister: function unregister(entry) {\n      var draggableId = entry.descriptor.id;\n      var current = findDraggableById(draggableId);\n\n      if (!current) {\n        return;\n      }\n\n      if (entry.uniqueId !== current.uniqueId) {\n        return;\n      }\n\n      delete entries.draggables[draggableId];\n      notify({\n        type: 'REMOVAL',\n        value: entry\n      });\n    },\n    getById: getDraggableById,\n    findById: findDraggableById,\n    exists: function exists(id) {\n      return Boolean(findDraggableById(id));\n    },\n    getAllByType: function getAllByType(type) {\n      return values(entries.draggables).filter(function (entry) {\n        return entry.descriptor.type === type;\n      });\n    }\n  };\n\n  function findDroppableById(id) {\n    return entries.droppables[id] || null;\n  }\n\n  function getDroppableById(id) {\n    var entry = findDroppableById(id);\n    !entry ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Cannot find droppable entry with id [\" + id + \"]\") : invariant(false) : void 0;\n    return entry;\n  }\n\n  var droppableAPI = {\n    register: function register(entry) {\n      entries.droppables[entry.descriptor.id] = entry;\n    },\n    unregister: function unregister(entry) {\n      var current = findDroppableById(entry.descriptor.id);\n\n      if (!current) {\n        return;\n      }\n\n      if (entry.uniqueId !== current.uniqueId) {\n        return;\n      }\n\n      delete entries.droppables[entry.descriptor.id];\n    },\n    getById: getDroppableById,\n    findById: findDroppableById,\n    exists: function exists(id) {\n      return Boolean(findDroppableById(id));\n    },\n    getAllByType: function getAllByType(type) {\n      return values(entries.droppables).filter(function (entry) {\n        return entry.descriptor.type === type;\n      });\n    }\n  };\n\n  function clean() {\n    entries.draggables = {};\n    entries.droppables = {};\n    subscribers.length = 0;\n  }\n\n  return {\n    draggable: draggableAPI,\n    droppable: droppableAPI,\n    subscribe: subscribe,\n    clean: clean\n  };\n}\n\nfunction useRegistry() {\n  var registry = useMemo(createRegistry, []);\n  useEffect(function () {\n    return function unmount() {\n      requestAnimationFrame(registry.clean);\n    };\n  }, [registry]);\n  return registry;\n}\n\nvar StoreContext = React.createContext(null);\n\nvar getBodyElement = (function () {\n  var body = document.body;\n  !body ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot find document.body') : invariant(false) : void 0;\n  return body;\n});\n\nvar visuallyHidden = {\n  position: 'absolute',\n  width: '1px',\n  height: '1px',\n  margin: '-1px',\n  border: '0',\n  padding: '0',\n  overflow: 'hidden',\n  clip: 'rect(0 0 0 0)',\n  'clip-path': 'inset(100%)'\n};\n\nvar getId = function getId(contextId) {\n  return \"rbd-announcement-\" + contextId;\n};\nfunction useAnnouncer(contextId) {\n  var id = useMemo(function () {\n    return getId(contextId);\n  }, [contextId]);\n  var ref = useRef(null);\n  useEffect(function setup() {\n    var el = document.createElement('div');\n    ref.current = el;\n    el.id = id;\n    el.setAttribute('aria-live', 'assertive');\n    el.setAttribute('role', 'log');\n    el.setAttribute('aria-atomic', 'true');\n\n    _Object$assign(el.style, visuallyHidden);\n\n    getBodyElement().appendChild(el);\n    return function cleanup() {\n      setTimeout(function remove() {\n        getBodyElement().removeChild(el);\n\n        if (el === ref.current) {\n          ref.current = null;\n        }\n      });\n    };\n  }, [id]);\n  var announce = useCallback(function (message) {\n    var el = ref.current;\n\n    if (el) {\n      el.textContent = message;\n      return;\n    }\n\n    process.env.NODE_ENV !== \"production\" ? warning(\"\\n      A screen reader message was trying to be announced but it was unable to do so.\\n      This can occur if you unmount your <DragDropContext /> in your onDragEnd.\\n      Consider calling provided.announce() before the unmount so that the instruction will\\n      not be lost for users relying on a screen reader.\\n\\n      Message not passed to screen reader:\\n\\n      \\\"\" + message + \"\\\"\\n    \") : void 0;\n  }, []);\n  return announce;\n}\n\nvar getId$1 = function getId(contextId) {\n  return \"rbd-lift-instruction-\" + contextId;\n};\nfunction useLiftInstruction(contextId, liftInstruction) {\n  var id = useMemo(function () {\n    return getId$1(contextId);\n  }, [contextId]);\n  useEffect(function mount() {\n    var el = document.createElement('div');\n    el.id = id;\n    el.textContent = liftInstruction;\n\n    _Object$assign(el.style, {\n      display: 'none'\n    });\n\n    getBodyElement().appendChild(el);\n    return function unmount() {\n      getBodyElement().removeChild(el);\n    };\n  }, [id, liftInstruction]);\n  return id;\n}\n\nvar AppContext = React.createContext(null);\n\nvar peerDependencies = {\n\treact: \"^16.8.5\",\n\t\"react-dom\": \"^16.8.5\"\n};\n\nvar semver = /(\\d+)\\.(\\d+)\\.(\\d+)/;\n\nvar getVersion = function getVersion(value) {\n  var result = semver.exec(value);\n  !(result != null) ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Unable to parse React version \" + value) : invariant(false) : void 0;\n  var major = Number(result[1]);\n  var minor = Number(result[2]);\n  var patch = Number(result[3]);\n  return {\n    major: major,\n    minor: minor,\n    patch: patch,\n    raw: value\n  };\n};\n\nvar isSatisfied = function isSatisfied(expected, actual) {\n  if (actual.major > expected.major) {\n    return true;\n  }\n\n  if (actual.major < expected.major) {\n    return false;\n  }\n\n  if (actual.minor > expected.minor) {\n    return true;\n  }\n\n  if (actual.minor < expected.minor) {\n    return false;\n  }\n\n  return actual.patch >= expected.patch;\n};\n\nvar checkReactVersion = (function (peerDepValue, actualValue) {\n  var peerDep = getVersion(peerDepValue);\n  var actual = getVersion(actualValue);\n\n  if (isSatisfied(peerDep, actual)) {\n    return;\n  }\n\n  process.env.NODE_ENV !== \"production\" ? warning(\"\\n    React version: [\" + actual.raw + \"]\\n    does not satisfy expected peer dependency version: [\" + peerDep.raw + \"]\\n\\n    This can result in run time bugs, and even fatal crashes\\n  \") : void 0;\n});\n\nvar suffix = \"\\n  We expect a html5 doctype: <!doctype html>\\n  This is to ensure consistent browser layout and measurement\\n\\n  More information: https://github.com/atlassian/react-beautiful-dnd/blob/master/docs/guides/doctype.md\\n\";\nvar checkDoctype = (function (doc) {\n  var doctype = doc.doctype;\n\n  if (!doctype) {\n    process.env.NODE_ENV !== \"production\" ? warning(\"\\n      No <!doctype html> found.\\n\\n      \" + suffix + \"\\n    \") : void 0;\n    return;\n  }\n\n  if (doctype.name.toLowerCase() !== 'html') {\n    process.env.NODE_ENV !== \"production\" ? warning(\"\\n      Unexpected <!doctype> found: (\" + doctype.name + \")\\n\\n      \" + suffix + \"\\n    \") : void 0;\n  }\n\n  if (doctype.publicId !== '') {\n    process.env.NODE_ENV !== \"production\" ? warning(\"\\n      Unexpected <!doctype> publicId found: (\" + doctype.publicId + \")\\n      A html5 doctype does not have a publicId\\n\\n      \" + suffix + \"\\n    \") : void 0;\n  }\n});\n\nfunction useDev(useHook) {\n  if (process.env.NODE_ENV !== 'production') {\n    useHook();\n  }\n}\n\nfunction useDevSetupWarning(fn, inputs) {\n  useDev(function () {\n    useEffect(function () {\n      try {\n        fn();\n      } catch (e) {\n        error(\"\\n          A setup problem was encountered.\\n\\n          > \" + e.message + \"\\n        \");\n      }\n    }, inputs);\n  });\n}\n\nfunction useStartupValidation() {\n  useDevSetupWarning(function () {\n    checkReactVersion(peerDependencies.react, React.version);\n    checkDoctype(document);\n  }, []);\n}\n\nfunction usePrevious(current) {\n  var ref = useRef(current);\n  useEffect(function () {\n    ref.current = current;\n  });\n  return ref;\n}\n\nfunction create() {\n  var lock = null;\n\n  function isClaimed() {\n    return Boolean(lock);\n  }\n\n  function isActive(value) {\n    return value === lock;\n  }\n\n  function claim(abandon) {\n    !!lock ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot claim lock as it is already claimed') : invariant(false) : void 0;\n    var newLock = {\n      abandon: abandon\n    };\n    lock = newLock;\n    return newLock;\n  }\n\n  function release() {\n    !lock ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot release lock when there is no lock') : invariant(false) : void 0;\n    lock = null;\n  }\n\n  function tryAbandon() {\n    if (lock) {\n      lock.abandon();\n      release();\n    }\n  }\n\n  return {\n    isClaimed: isClaimed,\n    isActive: isActive,\n    claim: claim,\n    release: release,\n    tryAbandon: tryAbandon\n  };\n}\n\nvar tab = 9;\nvar enter = 13;\nvar escape = 27;\nvar space = 32;\nvar pageUp = 33;\nvar pageDown = 34;\nvar end = 35;\nvar home = 36;\nvar arrowLeft = 37;\nvar arrowUp = 38;\nvar arrowRight = 39;\nvar arrowDown = 40;\n\nvar _preventedKeys;\nvar preventedKeys = (_preventedKeys = {}, _preventedKeys[enter] = true, _preventedKeys[tab] = true, _preventedKeys);\nvar preventStandardKeyEvents = (function (event) {\n  if (preventedKeys[event.keyCode]) {\n    event.preventDefault();\n  }\n});\n\nvar supportedEventName = function () {\n  var base = 'visibilitychange';\n\n  if (typeof document === 'undefined') {\n    return base;\n  }\n\n  var candidates = [base, \"ms\" + base, \"webkit\" + base, \"moz\" + base, \"o\" + base];\n  var supported = find(candidates, function (eventName) {\n    return \"on\" + eventName in document;\n  });\n  return supported || base;\n}();\n\nvar primaryButton = 0;\nvar sloppyClickThreshold = 5;\n\nfunction isSloppyClickThresholdExceeded(original, current) {\n  return Math.abs(current.x - original.x) >= sloppyClickThreshold || Math.abs(current.y - original.y) >= sloppyClickThreshold;\n}\n\nvar idle$1 = {\n  type: 'IDLE'\n};\n\nfunction getCaptureBindings(_ref) {\n  var cancel = _ref.cancel,\n      completed = _ref.completed,\n      getPhase = _ref.getPhase,\n      setPhase = _ref.setPhase;\n  return [{\n    eventName: 'mousemove',\n    fn: function fn(event) {\n      var button = event.button,\n          clientX = event.clientX,\n          clientY = event.clientY;\n\n      if (button !== primaryButton) {\n        return;\n      }\n\n      var point = {\n        x: clientX,\n        y: clientY\n      };\n      var phase = getPhase();\n\n      if (phase.type === 'DRAGGING') {\n        event.preventDefault();\n        phase.actions.move(point);\n        return;\n      }\n\n      !(phase.type === 'PENDING') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot be IDLE') : invariant(false) : void 0;\n      var pending = phase.point;\n\n      if (!isSloppyClickThresholdExceeded(pending, point)) {\n        return;\n      }\n\n      event.preventDefault();\n      var actions = phase.actions.fluidLift(point);\n      setPhase({\n        type: 'DRAGGING',\n        actions: actions\n      });\n    }\n  }, {\n    eventName: 'mouseup',\n    fn: function fn(event) {\n      var phase = getPhase();\n\n      if (phase.type !== 'DRAGGING') {\n        cancel();\n        return;\n      }\n\n      event.preventDefault();\n      phase.actions.drop({\n        shouldBlockNextClick: true\n      });\n      completed();\n    }\n  }, {\n    eventName: 'mousedown',\n    fn: function fn(event) {\n      if (getPhase().type === 'DRAGGING') {\n        event.preventDefault();\n      }\n\n      cancel();\n    }\n  }, {\n    eventName: 'keydown',\n    fn: function fn(event) {\n      var phase = getPhase();\n\n      if (phase.type === 'PENDING') {\n        cancel();\n        return;\n      }\n\n      if (event.keyCode === escape) {\n        event.preventDefault();\n        cancel();\n        return;\n      }\n\n      preventStandardKeyEvents(event);\n    }\n  }, {\n    eventName: 'resize',\n    fn: cancel\n  }, {\n    eventName: 'scroll',\n    options: {\n      passive: true,\n      capture: false\n    },\n    fn: function fn() {\n      if (getPhase().type === 'PENDING') {\n        cancel();\n      }\n    }\n  }, {\n    eventName: 'webkitmouseforcedown',\n    fn: function fn(event) {\n      var phase = getPhase();\n      !(phase.type !== 'IDLE') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Unexpected phase') : invariant(false) : void 0;\n\n      if (phase.actions.shouldRespectForcePress()) {\n        cancel();\n        return;\n      }\n\n      event.preventDefault();\n    }\n  }, {\n    eventName: supportedEventName,\n    fn: cancel\n  }];\n}\n\nfunction useMouseSensor(api) {\n  var phaseRef = useRef(idle$1);\n  var unbindEventsRef = useRef(noop);\n  var startCaptureBinding = useMemo(function () {\n    return {\n      eventName: 'mousedown',\n      fn: function onMouseDown(event) {\n        if (event.defaultPrevented) {\n          return;\n        }\n\n        if (event.button !== primaryButton) {\n          return;\n        }\n\n        if (event.ctrlKey || event.metaKey || event.shiftKey || event.altKey) {\n          return;\n        }\n\n        var draggableId = api.findClosestDraggableId(event);\n\n        if (!draggableId) {\n          return;\n        }\n\n        var actions = api.tryGetLock(draggableId, stop, {\n          sourceEvent: event\n        });\n\n        if (!actions) {\n          return;\n        }\n\n        event.preventDefault();\n        var point = {\n          x: event.clientX,\n          y: event.clientY\n        };\n        unbindEventsRef.current();\n        startPendingDrag(actions, point);\n      }\n    };\n  }, [api]);\n  var preventForcePressBinding = useMemo(function () {\n    return {\n      eventName: 'webkitmouseforcewillbegin',\n      fn: function fn(event) {\n        if (event.defaultPrevented) {\n          return;\n        }\n\n        var id = api.findClosestDraggableId(event);\n\n        if (!id) {\n          return;\n        }\n\n        var options = api.findOptionsForDraggable(id);\n\n        if (!options) {\n          return;\n        }\n\n        if (options.shouldRespectForcePress) {\n          return;\n        }\n\n        if (!api.canGetLock(id)) {\n          return;\n        }\n\n        event.preventDefault();\n      }\n    };\n  }, [api]);\n  var listenForCapture = useCallback(function listenForCapture() {\n    var options = {\n      passive: false,\n      capture: true\n    };\n    unbindEventsRef.current = bindEvents(window, [preventForcePressBinding, startCaptureBinding], options);\n  }, [preventForcePressBinding, startCaptureBinding]);\n  var stop = useCallback(function () {\n    var current = phaseRef.current;\n\n    if (current.type === 'IDLE') {\n      return;\n    }\n\n    phaseRef.current = idle$1;\n    unbindEventsRef.current();\n    listenForCapture();\n  }, [listenForCapture]);\n  var cancel = useCallback(function () {\n    var phase = phaseRef.current;\n    stop();\n\n    if (phase.type === 'DRAGGING') {\n      phase.actions.cancel({\n        shouldBlockNextClick: true\n      });\n    }\n\n    if (phase.type === 'PENDING') {\n      phase.actions.abort();\n    }\n  }, [stop]);\n  var bindCapturingEvents = useCallback(function bindCapturingEvents() {\n    var options = {\n      capture: true,\n      passive: false\n    };\n    var bindings = getCaptureBindings({\n      cancel: cancel,\n      completed: stop,\n      getPhase: function getPhase() {\n        return phaseRef.current;\n      },\n      setPhase: function setPhase(phase) {\n        phaseRef.current = phase;\n      }\n    });\n    unbindEventsRef.current = bindEvents(window, bindings, options);\n  }, [cancel, stop]);\n  var startPendingDrag = useCallback(function startPendingDrag(actions, point) {\n    !(phaseRef.current.type === 'IDLE') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Expected to move from IDLE to PENDING drag') : invariant(false) : void 0;\n    phaseRef.current = {\n      type: 'PENDING',\n      point: point,\n      actions: actions\n    };\n    bindCapturingEvents();\n  }, [bindCapturingEvents]);\n  useIsomorphicLayoutEffect(function mount() {\n    listenForCapture();\n    return function unmount() {\n      unbindEventsRef.current();\n    };\n  }, [listenForCapture]);\n}\n\nvar _scrollJumpKeys;\n\nfunction noop$1() {}\n\nvar scrollJumpKeys = (_scrollJumpKeys = {}, _scrollJumpKeys[pageDown] = true, _scrollJumpKeys[pageUp] = true, _scrollJumpKeys[home] = true, _scrollJumpKeys[end] = true, _scrollJumpKeys);\n\nfunction getDraggingBindings(actions, stop) {\n  function cancel() {\n    stop();\n    actions.cancel();\n  }\n\n  function drop() {\n    stop();\n    actions.drop();\n  }\n\n  return [{\n    eventName: 'keydown',\n    fn: function fn(event) {\n      if (event.keyCode === escape) {\n        event.preventDefault();\n        cancel();\n        return;\n      }\n\n      if (event.keyCode === space) {\n        event.preventDefault();\n        drop();\n        return;\n      }\n\n      if (event.keyCode === arrowDown) {\n        event.preventDefault();\n        actions.moveDown();\n        return;\n      }\n\n      if (event.keyCode === arrowUp) {\n        event.preventDefault();\n        actions.moveUp();\n        return;\n      }\n\n      if (event.keyCode === arrowRight) {\n        event.preventDefault();\n        actions.moveRight();\n        return;\n      }\n\n      if (event.keyCode === arrowLeft) {\n        event.preventDefault();\n        actions.moveLeft();\n        return;\n      }\n\n      if (scrollJumpKeys[event.keyCode]) {\n        event.preventDefault();\n        return;\n      }\n\n      preventStandardKeyEvents(event);\n    }\n  }, {\n    eventName: 'mousedown',\n    fn: cancel\n  }, {\n    eventName: 'mouseup',\n    fn: cancel\n  }, {\n    eventName: 'click',\n    fn: cancel\n  }, {\n    eventName: 'touchstart',\n    fn: cancel\n  }, {\n    eventName: 'resize',\n    fn: cancel\n  }, {\n    eventName: 'wheel',\n    fn: cancel,\n    options: {\n      passive: true\n    }\n  }, {\n    eventName: supportedEventName,\n    fn: cancel\n  }];\n}\n\nfunction useKeyboardSensor(api) {\n  var unbindEventsRef = useRef(noop$1);\n  var startCaptureBinding = useMemo(function () {\n    return {\n      eventName: 'keydown',\n      fn: function onKeyDown(event) {\n        if (event.defaultPrevented) {\n          return;\n        }\n\n        if (event.keyCode !== space) {\n          return;\n        }\n\n        var draggableId = api.findClosestDraggableId(event);\n\n        if (!draggableId) {\n          return;\n        }\n\n        var preDrag = api.tryGetLock(draggableId, stop, {\n          sourceEvent: event\n        });\n\n        if (!preDrag) {\n          return;\n        }\n\n        event.preventDefault();\n        var isCapturing = true;\n        var actions = preDrag.snapLift();\n        unbindEventsRef.current();\n\n        function stop() {\n          !isCapturing ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot stop capturing a keyboard drag when not capturing') : invariant(false) : void 0;\n          isCapturing = false;\n          unbindEventsRef.current();\n          listenForCapture();\n        }\n\n        unbindEventsRef.current = bindEvents(window, getDraggingBindings(actions, stop), {\n          capture: true,\n          passive: false\n        });\n      }\n    };\n  }, [api]);\n  var listenForCapture = useCallback(function tryStartCapture() {\n    var options = {\n      passive: false,\n      capture: true\n    };\n    unbindEventsRef.current = bindEvents(window, [startCaptureBinding], options);\n  }, [startCaptureBinding]);\n  useIsomorphicLayoutEffect(function mount() {\n    listenForCapture();\n    return function unmount() {\n      unbindEventsRef.current();\n    };\n  }, [listenForCapture]);\n}\n\nvar idle$2 = {\n  type: 'IDLE'\n};\nvar timeForLongPress = 120;\nvar forcePressThreshold = 0.15;\n\nfunction getWindowBindings(_ref) {\n  var cancel = _ref.cancel,\n      getPhase = _ref.getPhase;\n  return [{\n    eventName: 'orientationchange',\n    fn: cancel\n  }, {\n    eventName: 'resize',\n    fn: cancel\n  }, {\n    eventName: 'contextmenu',\n    fn: function fn(event) {\n      event.preventDefault();\n    }\n  }, {\n    eventName: 'keydown',\n    fn: function fn(event) {\n      if (getPhase().type !== 'DRAGGING') {\n        cancel();\n        return;\n      }\n\n      if (event.keyCode === escape) {\n        event.preventDefault();\n      }\n\n      cancel();\n    }\n  }, {\n    eventName: supportedEventName,\n    fn: cancel\n  }];\n}\n\nfunction getHandleBindings(_ref2) {\n  var cancel = _ref2.cancel,\n      completed = _ref2.completed,\n      getPhase = _ref2.getPhase;\n  return [{\n    eventName: 'touchmove',\n    options: {\n      capture: false\n    },\n    fn: function fn(event) {\n      var phase = getPhase();\n\n      if (phase.type !== 'DRAGGING') {\n        cancel();\n        return;\n      }\n\n      phase.hasMoved = true;\n      var _event$touches$ = event.touches[0],\n          clientX = _event$touches$.clientX,\n          clientY = _event$touches$.clientY;\n      var point = {\n        x: clientX,\n        y: clientY\n      };\n      event.preventDefault();\n      phase.actions.move(point);\n    }\n  }, {\n    eventName: 'touchend',\n    fn: function fn(event) {\n      var phase = getPhase();\n\n      if (phase.type !== 'DRAGGING') {\n        cancel();\n        return;\n      }\n\n      event.preventDefault();\n      phase.actions.drop({\n        shouldBlockNextClick: true\n      });\n      completed();\n    }\n  }, {\n    eventName: 'touchcancel',\n    fn: function fn(event) {\n      if (getPhase().type !== 'DRAGGING') {\n        cancel();\n        return;\n      }\n\n      event.preventDefault();\n      cancel();\n    }\n  }, {\n    eventName: 'touchforcechange',\n    fn: function fn(event) {\n      var phase = getPhase();\n      !(phase.type !== 'IDLE') ? process.env.NODE_ENV !== \"production\" ? invariant(false) : invariant(false) : void 0;\n      var touch = event.touches[0];\n\n      if (!touch) {\n        return;\n      }\n\n      var isForcePress = touch.force >= forcePressThreshold;\n\n      if (!isForcePress) {\n        return;\n      }\n\n      var shouldRespect = phase.actions.shouldRespectForcePress();\n\n      if (phase.type === 'PENDING') {\n        if (shouldRespect) {\n          cancel();\n        }\n\n        return;\n      }\n\n      if (shouldRespect) {\n        if (phase.hasMoved) {\n          event.preventDefault();\n          return;\n        }\n\n        cancel();\n        return;\n      }\n\n      event.preventDefault();\n    }\n  }, {\n    eventName: supportedEventName,\n    fn: cancel\n  }];\n}\n\nfunction useMouseSensor$1(api) {\n  var phaseRef = useRef(idle$2);\n  var unbindEventsRef = useRef(noop);\n  var getPhase = useCallback(function getPhase() {\n    return phaseRef.current;\n  }, []);\n  var setPhase = useCallback(function setPhase(phase) {\n    phaseRef.current = phase;\n  }, []);\n  var startCaptureBinding = useMemo(function () {\n    return {\n      eventName: 'touchstart',\n      fn: function onTouchStart(event) {\n        if (event.defaultPrevented) {\n          return;\n        }\n\n        var draggableId = api.findClosestDraggableId(event);\n\n        if (!draggableId) {\n          return;\n        }\n\n        var actions = api.tryGetLock(draggableId, stop, {\n          sourceEvent: event\n        });\n\n        if (!actions) {\n          return;\n        }\n\n        var touch = event.touches[0];\n        var clientX = touch.clientX,\n            clientY = touch.clientY;\n        var point = {\n          x: clientX,\n          y: clientY\n        };\n        unbindEventsRef.current();\n        startPendingDrag(actions, point);\n      }\n    };\n  }, [api]);\n  var listenForCapture = useCallback(function listenForCapture() {\n    var options = {\n      capture: true,\n      passive: false\n    };\n    unbindEventsRef.current = bindEvents(window, [startCaptureBinding], options);\n  }, [startCaptureBinding]);\n  var stop = useCallback(function () {\n    var current = phaseRef.current;\n\n    if (current.type === 'IDLE') {\n      return;\n    }\n\n    if (current.type === 'PENDING') {\n      clearTimeout(current.longPressTimerId);\n    }\n\n    setPhase(idle$2);\n    unbindEventsRef.current();\n    listenForCapture();\n  }, [listenForCapture, setPhase]);\n  var cancel = useCallback(function () {\n    var phase = phaseRef.current;\n    stop();\n\n    if (phase.type === 'DRAGGING') {\n      phase.actions.cancel({\n        shouldBlockNextClick: true\n      });\n    }\n\n    if (phase.type === 'PENDING') {\n      phase.actions.abort();\n    }\n  }, [stop]);\n  var bindCapturingEvents = useCallback(function bindCapturingEvents() {\n    var options = {\n      capture: true,\n      passive: false\n    };\n    var args = {\n      cancel: cancel,\n      completed: stop,\n      getPhase: getPhase\n    };\n    var unbindTarget = bindEvents(window, getHandleBindings(args), options);\n    var unbindWindow = bindEvents(window, getWindowBindings(args), options);\n\n    unbindEventsRef.current = function unbindAll() {\n      unbindTarget();\n      unbindWindow();\n    };\n  }, [cancel, getPhase, stop]);\n  var startDragging = useCallback(function startDragging() {\n    var phase = getPhase();\n    !(phase.type === 'PENDING') ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Cannot start dragging from phase \" + phase.type) : invariant(false) : void 0;\n    var actions = phase.actions.fluidLift(phase.point);\n    setPhase({\n      type: 'DRAGGING',\n      actions: actions,\n      hasMoved: false\n    });\n  }, [getPhase, setPhase]);\n  var startPendingDrag = useCallback(function startPendingDrag(actions, point) {\n    !(getPhase().type === 'IDLE') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Expected to move from IDLE to PENDING drag') : invariant(false) : void 0;\n    var longPressTimerId = setTimeout(startDragging, timeForLongPress);\n    setPhase({\n      type: 'PENDING',\n      point: point,\n      actions: actions,\n      longPressTimerId: longPressTimerId\n    });\n    bindCapturingEvents();\n  }, [bindCapturingEvents, getPhase, setPhase, startDragging]);\n  useIsomorphicLayoutEffect(function mount() {\n    listenForCapture();\n    return function unmount() {\n      unbindEventsRef.current();\n      var phase = getPhase();\n\n      if (phase.type === 'PENDING') {\n        clearTimeout(phase.longPressTimerId);\n        setPhase(idle$2);\n      }\n    };\n  }, [getPhase, listenForCapture, setPhase]);\n  useIsomorphicLayoutEffect(function webkitHack() {\n    var unbind = bindEvents(window, [{\n      eventName: 'touchmove',\n      fn: function fn() {},\n      options: {\n        capture: false,\n        passive: false\n      }\n    }]);\n    return unbind;\n  }, []);\n}\n\nfunction useValidateSensorHooks(sensorHooks) {\n  useDev(function () {\n    var previousRef = usePrevious(sensorHooks);\n    useDevSetupWarning(function () {\n      !(previousRef.current.length === sensorHooks.length) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot change the amount of sensor hooks after mounting') : invariant(false) : void 0;\n    });\n  });\n}\n\nvar interactiveTagNames = {\n  input: true,\n  button: true,\n  textarea: true,\n  select: true,\n  option: true,\n  optgroup: true,\n  video: true,\n  audio: true\n};\n\nfunction isAnInteractiveElement(parent, current) {\n  if (current == null) {\n    return false;\n  }\n\n  var hasAnInteractiveTag = Boolean(interactiveTagNames[current.tagName.toLowerCase()]);\n\n  if (hasAnInteractiveTag) {\n    return true;\n  }\n\n  var attribute = current.getAttribute('contenteditable');\n\n  if (attribute === 'true' || attribute === '') {\n    return true;\n  }\n\n  if (current === parent) {\n    return false;\n  }\n\n  return isAnInteractiveElement(parent, current.parentElement);\n}\n\nfunction isEventInInteractiveElement(draggable, event) {\n  var target = event.target;\n\n  if (!isHtmlElement(target)) {\n    return false;\n  }\n\n  return isAnInteractiveElement(draggable, target);\n}\n\nvar getBorderBoxCenterPosition = (function (el) {\n  return getRect(el.getBoundingClientRect()).center;\n});\n\nfunction isElement(el) {\n  return el instanceof getWindowFromEl(el).Element;\n}\n\nvar supportedMatchesName = function () {\n  var base = 'matches';\n\n  if (typeof document === 'undefined') {\n    return base;\n  }\n\n  var candidates = [base, 'msMatchesSelector', 'webkitMatchesSelector'];\n  var value = find(candidates, function (name) {\n    return name in Element.prototype;\n  });\n  return value || base;\n}();\n\nfunction closestPonyfill(el, selector) {\n  if (el == null) {\n    return null;\n  }\n\n  if (el[supportedMatchesName](selector)) {\n    return el;\n  }\n\n  return closestPonyfill(el.parentElement, selector);\n}\n\nfunction closest$1(el, selector) {\n  if (el.closest) {\n    return el.closest(selector);\n  }\n\n  return closestPonyfill(el, selector);\n}\n\nfunction getSelector(contextId) {\n  return \"[\" + dragHandle.contextId + \"=\\\"\" + contextId + \"\\\"]\";\n}\n\nfunction findClosestDragHandleFromEvent(contextId, event) {\n  var target = event.target;\n\n  if (!isElement(target)) {\n    process.env.NODE_ENV !== \"production\" ? warning('event.target must be a Element') : void 0;\n    return null;\n  }\n\n  var selector = getSelector(contextId);\n  var handle = closest$1(target, selector);\n\n  if (!handle) {\n    return null;\n  }\n\n  if (!isHtmlElement(handle)) {\n    process.env.NODE_ENV !== \"production\" ? warning('drag handle must be a HTMLElement') : void 0;\n    return null;\n  }\n\n  return handle;\n}\n\nfunction tryGetClosestDraggableIdFromEvent(contextId, event) {\n  var handle = findClosestDragHandleFromEvent(contextId, event);\n\n  if (!handle) {\n    return null;\n  }\n\n  return handle.getAttribute(dragHandle.draggableId);\n}\n\nfunction findDraggable(contextId, draggableId) {\n  var selector = \"[\" + draggable.contextId + \"=\\\"\" + contextId + \"\\\"]\";\n  var possible = toArray(document.querySelectorAll(selector));\n  var draggable$1 = find(possible, function (el) {\n    return el.getAttribute(draggable.id) === draggableId;\n  });\n\n  if (!draggable$1) {\n    return null;\n  }\n\n  if (!isHtmlElement(draggable$1)) {\n    process.env.NODE_ENV !== \"production\" ? warning('Draggable element is not a HTMLElement') : void 0;\n    return null;\n  }\n\n  return draggable$1;\n}\n\nfunction preventDefault(event) {\n  event.preventDefault();\n}\n\nfunction _isActive(_ref) {\n  var expected = _ref.expected,\n      phase = _ref.phase,\n      isLockActive = _ref.isLockActive,\n      shouldWarn = _ref.shouldWarn;\n\n  if (!isLockActive()) {\n    if (shouldWarn) {\n      process.env.NODE_ENV !== \"production\" ? warning(\"\\n        Cannot perform action.\\n        The sensor no longer has an action lock.\\n\\n        Tips:\\n\\n        - Throw away your action handlers when forceStop() is called\\n        - Check actions.isActive() if you really need to\\n      \") : void 0;\n    }\n\n    return false;\n  }\n\n  if (expected !== phase) {\n    if (shouldWarn) {\n      process.env.NODE_ENV !== \"production\" ? warning(\"\\n        Cannot perform action.\\n        The actions you used belong to an outdated phase\\n\\n        Current phase: \" + expected + \"\\n        You called an action from outdated phase: \" + phase + \"\\n\\n        Tips:\\n\\n        - Do not use preDragActions actions after calling preDragActions.lift()\\n      \") : void 0;\n    }\n\n    return false;\n  }\n\n  return true;\n}\n\nfunction canStart(_ref2) {\n  var lockAPI = _ref2.lockAPI,\n      store = _ref2.store,\n      registry = _ref2.registry,\n      draggableId = _ref2.draggableId;\n\n  if (lockAPI.isClaimed()) {\n    return false;\n  }\n\n  var entry = registry.draggable.findById(draggableId);\n\n  if (!entry) {\n    process.env.NODE_ENV !== \"production\" ? warning(\"Unable to find draggable with id: \" + draggableId) : void 0;\n    return false;\n  }\n\n  if (!entry.options.isEnabled) {\n    return false;\n  }\n\n  if (!canStartDrag(store.getState(), draggableId)) {\n    return false;\n  }\n\n  return true;\n}\n\nfunction tryStart(_ref3) {\n  var lockAPI = _ref3.lockAPI,\n      contextId = _ref3.contextId,\n      store = _ref3.store,\n      registry = _ref3.registry,\n      draggableId = _ref3.draggableId,\n      forceSensorStop = _ref3.forceSensorStop,\n      sourceEvent = _ref3.sourceEvent;\n  var shouldStart = canStart({\n    lockAPI: lockAPI,\n    store: store,\n    registry: registry,\n    draggableId: draggableId\n  });\n\n  if (!shouldStart) {\n    return null;\n  }\n\n  var entry = registry.draggable.getById(draggableId);\n  var el = findDraggable(contextId, entry.descriptor.id);\n\n  if (!el) {\n    process.env.NODE_ENV !== \"production\" ? warning(\"Unable to find draggable element with id: \" + draggableId) : void 0;\n    return null;\n  }\n\n  if (sourceEvent && !entry.options.canDragInteractiveElements && isEventInInteractiveElement(el, sourceEvent)) {\n    return null;\n  }\n\n  var lock = lockAPI.claim(forceSensorStop || noop);\n  var phase = 'PRE_DRAG';\n\n  function getShouldRespectForcePress() {\n    return entry.options.shouldRespectForcePress;\n  }\n\n  function isLockActive() {\n    return lockAPI.isActive(lock);\n  }\n\n  function tryDispatch(expected, getAction) {\n    if (_isActive({\n      expected: expected,\n      phase: phase,\n      isLockActive: isLockActive,\n      shouldWarn: true\n    })) {\n      store.dispatch(getAction());\n    }\n  }\n\n  var tryDispatchWhenDragging = tryDispatch.bind(this, 'DRAGGING');\n\n  function lift$1(args) {\n    function completed() {\n      lockAPI.release();\n      phase = 'COMPLETED';\n    }\n\n    if (phase !== 'PRE_DRAG') {\n      completed();\n      !(phase === 'PRE_DRAG') ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Cannot lift in phase \" + phase) : invariant(false) : void 0;\n    }\n\n    store.dispatch(lift(args.liftActionArgs));\n    phase = 'DRAGGING';\n\n    function finish(reason, options) {\n      if (options === void 0) {\n        options = {\n          shouldBlockNextClick: false\n        };\n      }\n\n      args.cleanup();\n\n      if (options.shouldBlockNextClick) {\n        var unbind = bindEvents(window, [{\n          eventName: 'click',\n          fn: preventDefault,\n          options: {\n            once: true,\n            passive: false,\n            capture: true\n          }\n        }]);\n        setTimeout(unbind);\n      }\n\n      completed();\n      store.dispatch(drop({\n        reason: reason\n      }));\n    }\n\n    return _extends({\n      isActive: function isActive() {\n        return _isActive({\n          expected: 'DRAGGING',\n          phase: phase,\n          isLockActive: isLockActive,\n          shouldWarn: false\n        });\n      },\n      shouldRespectForcePress: getShouldRespectForcePress,\n      drop: function drop(options) {\n        return finish('DROP', options);\n      },\n      cancel: function cancel(options) {\n        return finish('CANCEL', options);\n      }\n    }, args.actions);\n  }\n\n  function fluidLift(clientSelection) {\n    var move$1 = rafSchd(function (client) {\n      tryDispatchWhenDragging(function () {\n        return move({\n          client: client\n        });\n      });\n    });\n    var api = lift$1({\n      liftActionArgs: {\n        id: draggableId,\n        clientSelection: clientSelection,\n        movementMode: 'FLUID'\n      },\n      cleanup: function cleanup() {\n        return move$1.cancel();\n      },\n      actions: {\n        move: move$1\n      }\n    });\n    return _extends({}, api, {\n      move: move$1\n    });\n  }\n\n  function snapLift() {\n    var actions = {\n      moveUp: function moveUp$1() {\n        return tryDispatchWhenDragging(moveUp);\n      },\n      moveRight: function moveRight$1() {\n        return tryDispatchWhenDragging(moveRight);\n      },\n      moveDown: function moveDown$1() {\n        return tryDispatchWhenDragging(moveDown);\n      },\n      moveLeft: function moveLeft$1() {\n        return tryDispatchWhenDragging(moveLeft);\n      }\n    };\n    return lift$1({\n      liftActionArgs: {\n        id: draggableId,\n        clientSelection: getBorderBoxCenterPosition(el),\n        movementMode: 'SNAP'\n      },\n      cleanup: noop,\n      actions: actions\n    });\n  }\n\n  function abortPreDrag() {\n    var shouldRelease = _isActive({\n      expected: 'PRE_DRAG',\n      phase: phase,\n      isLockActive: isLockActive,\n      shouldWarn: true\n    });\n\n    if (shouldRelease) {\n      lockAPI.release();\n    }\n  }\n\n  var preDrag = {\n    isActive: function isActive() {\n      return _isActive({\n        expected: 'PRE_DRAG',\n        phase: phase,\n        isLockActive: isLockActive,\n        shouldWarn: false\n      });\n    },\n    shouldRespectForcePress: getShouldRespectForcePress,\n    fluidLift: fluidLift,\n    snapLift: snapLift,\n    abort: abortPreDrag\n  };\n  return preDrag;\n}\n\nvar defaultSensors = [useMouseSensor, useKeyboardSensor, useMouseSensor$1];\nfunction useSensorMarshal(_ref4) {\n  var contextId = _ref4.contextId,\n      store = _ref4.store,\n      registry = _ref4.registry,\n      customSensors = _ref4.customSensors,\n      enableDefaultSensors = _ref4.enableDefaultSensors;\n  var useSensors = [].concat(enableDefaultSensors ? defaultSensors : [], customSensors || []);\n  var lockAPI = useState(function () {\n    return create();\n  })[0];\n  var tryAbandonLock = useCallback(function tryAbandonLock(previous, current) {\n    if (previous.isDragging && !current.isDragging) {\n      lockAPI.tryAbandon();\n    }\n  }, [lockAPI]);\n  useIsomorphicLayoutEffect(function listenToStore() {\n    var previous = store.getState();\n    var unsubscribe = store.subscribe(function () {\n      var current = store.getState();\n      tryAbandonLock(previous, current);\n      previous = current;\n    });\n    return unsubscribe;\n  }, [lockAPI, store, tryAbandonLock]);\n  useIsomorphicLayoutEffect(function () {\n    return lockAPI.tryAbandon;\n  }, [lockAPI.tryAbandon]);\n  var canGetLock = useCallback(function (draggableId) {\n    return canStart({\n      lockAPI: lockAPI,\n      registry: registry,\n      store: store,\n      draggableId: draggableId\n    });\n  }, [lockAPI, registry, store]);\n  var tryGetLock = useCallback(function (draggableId, forceStop, options) {\n    return tryStart({\n      lockAPI: lockAPI,\n      registry: registry,\n      contextId: contextId,\n      store: store,\n      draggableId: draggableId,\n      forceSensorStop: forceStop,\n      sourceEvent: options && options.sourceEvent ? options.sourceEvent : null\n    });\n  }, [contextId, lockAPI, registry, store]);\n  var findClosestDraggableId = useCallback(function (event) {\n    return tryGetClosestDraggableIdFromEvent(contextId, event);\n  }, [contextId]);\n  var findOptionsForDraggable = useCallback(function (id) {\n    var entry = registry.draggable.findById(id);\n    return entry ? entry.options : null;\n  }, [registry.draggable]);\n  var tryReleaseLock = useCallback(lockAPI.tryAbandon, [lockAPI]);\n  var isLockClaimed = useCallback(lockAPI.isClaimed, [lockAPI]);\n  var api = useMemo(function () {\n    return {\n      canGetLock: canGetLock,\n      tryGetLock: tryGetLock,\n      findClosestDraggableId: findClosestDraggableId,\n      findOptionsForDraggable: findOptionsForDraggable,\n      tryReleaseLock: tryReleaseLock,\n      isLockClaimed: isLockClaimed\n    };\n  }, [canGetLock, tryGetLock, findClosestDraggableId, findOptionsForDraggable, tryReleaseLock, isLockClaimed]);\n  useValidateSensorHooks(useSensors);\n\n  for (var i = 0; i < useSensors.length; i++) {\n    useSensors[i](api);\n  }\n}\n\nvar createResponders = function createResponders(props) {\n  return {\n    onBeforeCapture: props.onBeforeCapture,\n    onBeforeDragStart: props.onBeforeDragStart,\n    onDragStart: props.onDragStart,\n    onDragEnd: props.onDragEnd,\n    onDragUpdate: props.onDragUpdate\n  };\n};\n\nfunction getStore(lazyRef) {\n  !lazyRef.current ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Could not find store from lazy ref') : invariant(false) : void 0;\n  return lazyRef.current;\n}\n\nfunction App(props) {\n  var contextId = props.contextId,\n      setCallbacks = props.setCallbacks,\n      sensors = props.sensors,\n      nonce = props.nonce,\n      liftInstruction = props.liftInstruction;\n  var lazyStoreRef = useRef(null);\n  useStartupValidation();\n  var lastPropsRef = usePrevious(props);\n  var getResponders = useCallback(function () {\n    return createResponders(lastPropsRef.current);\n  }, [lastPropsRef]);\n  var announce = useAnnouncer(contextId);\n  var liftInstructionId = useLiftInstruction(contextId, liftInstruction);\n  var styleMarshal = useStyleMarshal(contextId, nonce);\n  var lazyDispatch = useCallback(function (action) {\n    getStore(lazyStoreRef).dispatch(action);\n  }, []);\n  var marshalCallbacks = useMemo(function () {\n    return bindActionCreators({\n      publishWhileDragging: publishWhileDragging,\n      updateDroppableScroll: updateDroppableScroll,\n      updateDroppableIsEnabled: updateDroppableIsEnabled,\n      updateDroppableIsCombineEnabled: updateDroppableIsCombineEnabled,\n      collectionStarting: collectionStarting\n    }, lazyDispatch);\n  }, [lazyDispatch]);\n  var registry = useRegistry();\n  var dimensionMarshal = useMemo(function () {\n    return createDimensionMarshal(registry, marshalCallbacks);\n  }, [registry, marshalCallbacks]);\n  var autoScroller = useMemo(function () {\n    return createAutoScroller(_extends({\n      scrollWindow: scrollWindow,\n      scrollDroppable: dimensionMarshal.scrollDroppable\n    }, bindActionCreators({\n      move: move\n    }, lazyDispatch)));\n  }, [dimensionMarshal.scrollDroppable, lazyDispatch]);\n  var focusMarshal = useFocusMarshal(contextId);\n  var store = useMemo(function () {\n    return createStore({\n      announce: announce,\n      autoScroller: autoScroller,\n      dimensionMarshal: dimensionMarshal,\n      focusMarshal: focusMarshal,\n      getResponders: getResponders,\n      styleMarshal: styleMarshal\n    });\n  }, [announce, autoScroller, dimensionMarshal, focusMarshal, getResponders, styleMarshal]);\n\n  if (process.env.NODE_ENV !== 'production') {\n    if (lazyStoreRef.current && lazyStoreRef.current !== store) {\n      process.env.NODE_ENV !== \"production\" ? warning('unexpected store change') : void 0;\n    }\n  }\n\n  lazyStoreRef.current = store;\n  var tryResetStore = useCallback(function () {\n    var current = getStore(lazyStoreRef);\n    var state = current.getState();\n\n    if (state.phase !== 'IDLE') {\n      current.dispatch(flush());\n    }\n  }, []);\n  var isDragging = useCallback(function () {\n    var state = getStore(lazyStoreRef).getState();\n    return state.isDragging || state.phase === 'DROP_ANIMATING';\n  }, []);\n  var appCallbacks = useMemo(function () {\n    return {\n      isDragging: isDragging,\n      tryAbort: tryResetStore\n    };\n  }, [isDragging, tryResetStore]);\n  setCallbacks(appCallbacks);\n  var getCanLift = useCallback(function (id) {\n    return canStartDrag(getStore(lazyStoreRef).getState(), id);\n  }, []);\n  var getIsMovementAllowed = useCallback(function () {\n    return isMovementAllowed(getStore(lazyStoreRef).getState());\n  }, []);\n  var appContext = useMemo(function () {\n    return {\n      marshal: dimensionMarshal,\n      focus: focusMarshal,\n      contextId: contextId,\n      canLift: getCanLift,\n      isMovementAllowed: getIsMovementAllowed,\n      liftInstructionId: liftInstructionId,\n      registry: registry\n    };\n  }, [contextId, dimensionMarshal, focusMarshal, getCanLift, getIsMovementAllowed, liftInstructionId, registry]);\n  useSensorMarshal({\n    contextId: contextId,\n    store: store,\n    registry: registry,\n    customSensors: sensors,\n    enableDefaultSensors: props.enableDefaultSensors !== false\n  });\n  useEffect(function () {\n    return tryResetStore;\n  }, [tryResetStore]);\n  return React.createElement(AppContext.Provider, {\n    value: appContext\n  }, React.createElement(Provider, {\n    context: StoreContext,\n    store: store\n  }, props.children));\n}\n\nvar instanceCount = 0;\nfunction resetServerContext() {\n  instanceCount = 0;\n}\nfunction DragDropContext(props) {\n  var contextId = useMemo(function () {\n    return \"\" + instanceCount++;\n  }, []);\n  var liftInstruction = props.liftInstruction || preset.liftInstruction;\n  return React.createElement(ErrorBoundary, null, function (setCallbacks) {\n    return React.createElement(App, {\n      nonce: props.nonce,\n      contextId: contextId,\n      setCallbacks: setCallbacks,\n      liftInstruction: liftInstruction,\n      enableDefaultSensors: props.enableDefaultSensors,\n      sensors: props.sensors,\n      onBeforeCapture: props.onBeforeCapture,\n      onBeforeDragStart: props.onBeforeDragStart,\n      onDragStart: props.onDragStart,\n      onDragUpdate: props.onDragUpdate,\n      onDragEnd: props.onDragEnd\n    }, props.children);\n  });\n}\n\nvar isEqual$1 = function isEqual(base) {\n  return function (value) {\n    return base === value;\n  };\n};\n\nvar isScroll = isEqual$1('scroll');\nvar isAuto = isEqual$1('auto');\nvar isVisible$1 = isEqual$1('visible');\n\nvar isEither = function isEither(overflow, fn) {\n  return fn(overflow.overflowX) || fn(overflow.overflowY);\n};\n\nvar isBoth = function isBoth(overflow, fn) {\n  return fn(overflow.overflowX) && fn(overflow.overflowY);\n};\n\nvar isElementScrollable = function isElementScrollable(el) {\n  var style = window.getComputedStyle(el);\n  var overflow = {\n    overflowX: style.overflowX,\n    overflowY: style.overflowY\n  };\n  return isEither(overflow, isScroll) || isEither(overflow, isAuto);\n};\n\nvar isBodyScrollable = function isBodyScrollable() {\n  if (process.env.NODE_ENV === 'production') {\n    return false;\n  }\n\n  var body = getBodyElement();\n  var html = document.documentElement;\n  !html ? process.env.NODE_ENV !== \"production\" ? invariant(false) : invariant(false) : void 0;\n\n  if (!isElementScrollable(body)) {\n    return false;\n  }\n\n  var htmlStyle = window.getComputedStyle(html);\n  var htmlOverflow = {\n    overflowX: htmlStyle.overflowX,\n    overflowY: htmlStyle.overflowY\n  };\n\n  if (isBoth(htmlOverflow, isVisible$1)) {\n    return false;\n  }\n\n  process.env.NODE_ENV !== \"production\" ? warning(\"\\n    We have detected that your <body> element might be a scroll container.\\n    We have found no reliable way of detecting whether the <body> element is a scroll container.\\n    Under most circumstances a <body> scroll bar will be on the <html> element (document.documentElement)\\n\\n    Because we cannot determine if the <body> is a scroll container, and generally it is not one,\\n    we will be treating the <body> as *not* a scroll container\\n\\n    More information: https://github.com/atlassian/react-beautiful-dnd/blob/master/docs/guides/how-we-detect-scroll-containers.md\\n  \") : void 0;\n  return false;\n};\n\nvar getClosestScrollable = function getClosestScrollable(el) {\n  if (el == null) {\n    return null;\n  }\n\n  if (el === document.body) {\n    return isBodyScrollable() ? el : null;\n  }\n\n  if (el === document.documentElement) {\n    return null;\n  }\n\n  if (!isElementScrollable(el)) {\n    return getClosestScrollable(el.parentElement);\n  }\n\n  return el;\n};\n\nvar checkForNestedScrollContainers = (function (scrollable) {\n  if (!scrollable) {\n    return;\n  }\n\n  var anotherScrollParent = getClosestScrollable(scrollable.parentElement);\n\n  if (!anotherScrollParent) {\n    return;\n  }\n\n  process.env.NODE_ENV !== \"production\" ? warning(\"\\n    Droppable: unsupported nested scroll container detected.\\n    A Droppable can only have one scroll parent (which can be itself)\\n    Nested scroll containers are currently not supported.\\n\\n    We hope to support nested scroll containers soon: https://github.com/atlassian/react-beautiful-dnd/issues/131\\n  \") : void 0;\n});\n\nvar getScroll$1 = (function (el) {\n  return {\n    x: el.scrollLeft,\n    y: el.scrollTop\n  };\n});\n\nvar getIsFixed = function getIsFixed(el) {\n  if (!el) {\n    return false;\n  }\n\n  var style = window.getComputedStyle(el);\n\n  if (style.position === 'fixed') {\n    return true;\n  }\n\n  return getIsFixed(el.parentElement);\n};\n\nvar getEnv = (function (start) {\n  var closestScrollable = getClosestScrollable(start);\n  var isFixedOnPage = getIsFixed(start);\n  return {\n    closestScrollable: closestScrollable,\n    isFixedOnPage: isFixedOnPage\n  };\n});\n\nvar getDroppableDimension = (function (_ref) {\n  var descriptor = _ref.descriptor,\n      isEnabled = _ref.isEnabled,\n      isCombineEnabled = _ref.isCombineEnabled,\n      isFixedOnPage = _ref.isFixedOnPage,\n      direction = _ref.direction,\n      client = _ref.client,\n      page = _ref.page,\n      closest = _ref.closest;\n\n  var frame = function () {\n    if (!closest) {\n      return null;\n    }\n\n    var scrollSize = closest.scrollSize,\n        frameClient = closest.client;\n    var maxScroll = getMaxScroll({\n      scrollHeight: scrollSize.scrollHeight,\n      scrollWidth: scrollSize.scrollWidth,\n      height: frameClient.paddingBox.height,\n      width: frameClient.paddingBox.width\n    });\n    return {\n      pageMarginBox: closest.page.marginBox,\n      frameClient: frameClient,\n      scrollSize: scrollSize,\n      shouldClipSubject: closest.shouldClipSubject,\n      scroll: {\n        initial: closest.scroll,\n        current: closest.scroll,\n        max: maxScroll,\n        diff: {\n          value: origin,\n          displacement: origin\n        }\n      }\n    };\n  }();\n\n  var axis = direction === 'vertical' ? vertical : horizontal;\n  var subject = getSubject({\n    page: page,\n    withPlaceholder: null,\n    axis: axis,\n    frame: frame\n  });\n  var dimension = {\n    descriptor: descriptor,\n    isCombineEnabled: isCombineEnabled,\n    isFixedOnPage: isFixedOnPage,\n    axis: axis,\n    isEnabled: isEnabled,\n    client: client,\n    page: page,\n    frame: frame,\n    subject: subject\n  };\n  return dimension;\n});\n\nvar getClient = function getClient(targetRef, closestScrollable) {\n  var base = getBox(targetRef);\n\n  if (!closestScrollable) {\n    return base;\n  }\n\n  if (targetRef !== closestScrollable) {\n    return base;\n  }\n\n  var top = base.paddingBox.top - closestScrollable.scrollTop;\n  var left = base.paddingBox.left - closestScrollable.scrollLeft;\n  var bottom = top + closestScrollable.scrollHeight;\n  var right = left + closestScrollable.scrollWidth;\n  var paddingBox = {\n    top: top,\n    right: right,\n    bottom: bottom,\n    left: left\n  };\n  var borderBox = expand(paddingBox, base.border);\n  var client = createBox({\n    borderBox: borderBox,\n    margin: base.margin,\n    border: base.border,\n    padding: base.padding\n  });\n  return client;\n};\n\nvar getDimension = (function (_ref) {\n  var ref = _ref.ref,\n      descriptor = _ref.descriptor,\n      env = _ref.env,\n      windowScroll = _ref.windowScroll,\n      direction = _ref.direction,\n      isDropDisabled = _ref.isDropDisabled,\n      isCombineEnabled = _ref.isCombineEnabled,\n      shouldClipSubject = _ref.shouldClipSubject;\n  var closestScrollable = env.closestScrollable;\n  var client = getClient(ref, closestScrollable);\n  var page = withScroll(client, windowScroll);\n\n  var closest = function () {\n    if (!closestScrollable) {\n      return null;\n    }\n\n    var frameClient = getBox(closestScrollable);\n    var scrollSize = {\n      scrollHeight: closestScrollable.scrollHeight,\n      scrollWidth: closestScrollable.scrollWidth\n    };\n    return {\n      client: frameClient,\n      page: withScroll(frameClient, windowScroll),\n      scroll: getScroll$1(closestScrollable),\n      scrollSize: scrollSize,\n      shouldClipSubject: shouldClipSubject\n    };\n  }();\n\n  var dimension = getDroppableDimension({\n    descriptor: descriptor,\n    isEnabled: !isDropDisabled,\n    isCombineEnabled: isCombineEnabled,\n    isFixedOnPage: env.isFixedOnPage,\n    direction: direction,\n    client: client,\n    page: page,\n    closest: closest\n  });\n  return dimension;\n});\n\nvar immediate = {\n  passive: false\n};\nvar delayed = {\n  passive: true\n};\nvar getListenerOptions = (function (options) {\n  return options.shouldPublishImmediately ? immediate : delayed;\n});\n\nfunction useRequiredContext(Context) {\n  var result = useContext(Context);\n  !result ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Could not find required context') : invariant(false) : void 0;\n  return result;\n}\n\nvar count = 0;\nfunction useUniqueId(prefix) {\n  var countRef = useRef(count++);\n  return prefix + \"::\" + countRef.current;\n}\n\nvar getClosestScrollableFromDrag = function getClosestScrollableFromDrag(dragging) {\n  return dragging && dragging.env.closestScrollable || null;\n};\n\nfunction useDroppablePublisher(args) {\n  var whileDraggingRef = useRef(null);\n  var appContext = useRequiredContext(AppContext);\n  var uniqueId = useUniqueId('droppable');\n  var registry = appContext.registry,\n      marshal = appContext.marshal;\n  var previousRef = usePrevious(args);\n  var descriptor = useMemo(function () {\n    return {\n      id: args.droppableId,\n      type: args.type,\n      mode: args.mode\n    };\n  }, [args.droppableId, args.mode, args.type]);\n  var publishedDescriptorRef = useRef(descriptor);\n  var memoizedUpdateScroll = useMemo(function () {\n    return memoizeOne(function (x, y) {\n      !whileDraggingRef.current ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Can only update scroll when dragging') : invariant(false) : void 0;\n      var scroll = {\n        x: x,\n        y: y\n      };\n      marshal.updateDroppableScroll(descriptor.id, scroll);\n    });\n  }, [descriptor.id, marshal]);\n  var getClosestScroll = useCallback(function () {\n    var dragging = whileDraggingRef.current;\n\n    if (!dragging || !dragging.env.closestScrollable) {\n      return origin;\n    }\n\n    return getScroll$1(dragging.env.closestScrollable);\n  }, []);\n  var updateScroll = useCallback(function () {\n    var scroll = getClosestScroll();\n    memoizedUpdateScroll(scroll.x, scroll.y);\n  }, [getClosestScroll, memoizedUpdateScroll]);\n  var scheduleScrollUpdate = useMemo(function () {\n    return rafSchd(updateScroll);\n  }, [updateScroll]);\n  var onClosestScroll = useCallback(function () {\n    var dragging = whileDraggingRef.current;\n    var closest = getClosestScrollableFromDrag(dragging);\n    !(dragging && closest) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Could not find scroll options while scrolling') : invariant(false) : void 0;\n    var options = dragging.scrollOptions;\n\n    if (options.shouldPublishImmediately) {\n      updateScroll();\n      return;\n    }\n\n    scheduleScrollUpdate();\n  }, [scheduleScrollUpdate, updateScroll]);\n  var getDimensionAndWatchScroll = useCallback(function (windowScroll, options) {\n    !!whileDraggingRef.current ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot collect a droppable while a drag is occurring') : invariant(false) : void 0;\n    var previous = previousRef.current;\n    var ref = previous.getDroppableRef();\n    !ref ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot collect without a droppable ref') : invariant(false) : void 0;\n    var env = getEnv(ref);\n    var dragging = {\n      ref: ref,\n      descriptor: descriptor,\n      env: env,\n      scrollOptions: options\n    };\n    whileDraggingRef.current = dragging;\n    var dimension = getDimension({\n      ref: ref,\n      descriptor: descriptor,\n      env: env,\n      windowScroll: windowScroll,\n      direction: previous.direction,\n      isDropDisabled: previous.isDropDisabled,\n      isCombineEnabled: previous.isCombineEnabled,\n      shouldClipSubject: !previous.ignoreContainerClipping\n    });\n    var scrollable = env.closestScrollable;\n\n    if (scrollable) {\n      scrollable.setAttribute(scrollContainer.contextId, appContext.contextId);\n      scrollable.addEventListener('scroll', onClosestScroll, getListenerOptions(dragging.scrollOptions));\n\n      if (process.env.NODE_ENV !== 'production') {\n        checkForNestedScrollContainers(scrollable);\n      }\n    }\n\n    return dimension;\n  }, [appContext.contextId, descriptor, onClosestScroll, previousRef]);\n  var getScrollWhileDragging = useCallback(function () {\n    var dragging = whileDraggingRef.current;\n    var closest = getClosestScrollableFromDrag(dragging);\n    !(dragging && closest) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Can only recollect Droppable client for Droppables that have a scroll container') : invariant(false) : void 0;\n    return getScroll$1(closest);\n  }, []);\n  var dragStopped = useCallback(function () {\n    var dragging = whileDraggingRef.current;\n    !dragging ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot stop drag when no active drag') : invariant(false) : void 0;\n    var closest = getClosestScrollableFromDrag(dragging);\n    whileDraggingRef.current = null;\n\n    if (!closest) {\n      return;\n    }\n\n    scheduleScrollUpdate.cancel();\n    closest.removeAttribute(scrollContainer.contextId);\n    closest.removeEventListener('scroll', onClosestScroll, getListenerOptions(dragging.scrollOptions));\n  }, [onClosestScroll, scheduleScrollUpdate]);\n  var scroll = useCallback(function (change) {\n    var dragging = whileDraggingRef.current;\n    !dragging ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot scroll when there is no drag') : invariant(false) : void 0;\n    var closest = getClosestScrollableFromDrag(dragging);\n    !closest ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot scroll a droppable with no closest scrollable') : invariant(false) : void 0;\n    closest.scrollTop += change.y;\n    closest.scrollLeft += change.x;\n  }, []);\n  var callbacks = useMemo(function () {\n    return {\n      getDimensionAndWatchScroll: getDimensionAndWatchScroll,\n      getScrollWhileDragging: getScrollWhileDragging,\n      dragStopped: dragStopped,\n      scroll: scroll\n    };\n  }, [dragStopped, getDimensionAndWatchScroll, getScrollWhileDragging, scroll]);\n  var entry = useMemo(function () {\n    return {\n      uniqueId: uniqueId,\n      descriptor: descriptor,\n      callbacks: callbacks\n    };\n  }, [callbacks, descriptor, uniqueId]);\n  useIsomorphicLayoutEffect(function () {\n    publishedDescriptorRef.current = entry.descriptor;\n    registry.droppable.register(entry);\n    return function () {\n      if (whileDraggingRef.current) {\n        process.env.NODE_ENV !== \"production\" ? warning('Unsupported: changing the droppableId or type of a Droppable during a drag') : void 0;\n        dragStopped();\n      }\n\n      registry.droppable.unregister(entry);\n    };\n  }, [callbacks, descriptor, dragStopped, entry, marshal, registry.droppable]);\n  useIsomorphicLayoutEffect(function () {\n    if (!whileDraggingRef.current) {\n      return;\n    }\n\n    marshal.updateDroppableIsEnabled(publishedDescriptorRef.current.id, !args.isDropDisabled);\n  }, [args.isDropDisabled, marshal]);\n  useIsomorphicLayoutEffect(function () {\n    if (!whileDraggingRef.current) {\n      return;\n    }\n\n    marshal.updateDroppableIsCombineEnabled(publishedDescriptorRef.current.id, args.isCombineEnabled);\n  }, [args.isCombineEnabled, marshal]);\n}\n\nfunction noop$2() {}\n\nvar empty = {\n  width: 0,\n  height: 0,\n  margin: noSpacing\n};\n\nvar getSize = function getSize(_ref) {\n  var isAnimatingOpenOnMount = _ref.isAnimatingOpenOnMount,\n      placeholder = _ref.placeholder,\n      animate = _ref.animate;\n\n  if (isAnimatingOpenOnMount) {\n    return empty;\n  }\n\n  if (animate === 'close') {\n    return empty;\n  }\n\n  return {\n    height: placeholder.client.borderBox.height,\n    width: placeholder.client.borderBox.width,\n    margin: placeholder.client.margin\n  };\n};\n\nvar getStyle = function getStyle(_ref2) {\n  var isAnimatingOpenOnMount = _ref2.isAnimatingOpenOnMount,\n      placeholder = _ref2.placeholder,\n      animate = _ref2.animate;\n  var size = getSize({\n    isAnimatingOpenOnMount: isAnimatingOpenOnMount,\n    placeholder: placeholder,\n    animate: animate\n  });\n  return {\n    display: placeholder.display,\n    boxSizing: 'border-box',\n    width: size.width,\n    height: size.height,\n    marginTop: size.margin.top,\n    marginRight: size.margin.right,\n    marginBottom: size.margin.bottom,\n    marginLeft: size.margin.left,\n    flexShrink: '0',\n    flexGrow: '0',\n    pointerEvents: 'none',\n    transition: animate !== 'none' ? transitions.placeholder : null\n  };\n};\n\nfunction Placeholder(props) {\n  var animateOpenTimerRef = useRef(null);\n  var tryClearAnimateOpenTimer = useCallback(function () {\n    if (!animateOpenTimerRef.current) {\n      return;\n    }\n\n    clearTimeout(animateOpenTimerRef.current);\n    animateOpenTimerRef.current = null;\n  }, []);\n  var animate = props.animate,\n      onTransitionEnd = props.onTransitionEnd,\n      onClose = props.onClose,\n      contextId = props.contextId;\n\n  var _useState = useState(props.animate === 'open'),\n      isAnimatingOpenOnMount = _useState[0],\n      setIsAnimatingOpenOnMount = _useState[1];\n\n  useEffect(function () {\n    if (!isAnimatingOpenOnMount) {\n      return noop$2;\n    }\n\n    if (animate !== 'open') {\n      tryClearAnimateOpenTimer();\n      setIsAnimatingOpenOnMount(false);\n      return noop$2;\n    }\n\n    if (animateOpenTimerRef.current) {\n      return noop$2;\n    }\n\n    animateOpenTimerRef.current = setTimeout(function () {\n      animateOpenTimerRef.current = null;\n      setIsAnimatingOpenOnMount(false);\n    });\n    return tryClearAnimateOpenTimer;\n  }, [animate, isAnimatingOpenOnMount, tryClearAnimateOpenTimer]);\n  var onSizeChangeEnd = useCallback(function (event) {\n    if (event.propertyName !== 'height') {\n      return;\n    }\n\n    onTransitionEnd();\n\n    if (animate === 'close') {\n      onClose();\n    }\n  }, [animate, onClose, onTransitionEnd]);\n  var style = getStyle({\n    isAnimatingOpenOnMount: isAnimatingOpenOnMount,\n    animate: props.animate,\n    placeholder: props.placeholder\n  });\n  return React.createElement(props.placeholder.tagName, {\n    style: style,\n    'data-rbd-placeholder-context-id': contextId,\n    onTransitionEnd: onSizeChangeEnd,\n    ref: props.innerRef\n  });\n}\n\nvar Placeholder$1 = React.memo(Placeholder);\n\nvar DroppableContext = React.createContext(null);\n\nfunction checkIsValidInnerRef(el) {\n  !(el && isHtmlElement(el)) ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"\\n    provided.innerRef has not been provided with a HTMLElement.\\n\\n    You can find a guide on using the innerRef callback functions at:\\n    https://github.com/atlassian/react-beautiful-dnd/blob/master/docs/guides/using-inner-ref.md\\n  \") : invariant(false) : void 0;\n}\n\nfunction isBoolean(value) {\n  return typeof value === 'boolean';\n}\n\nfunction runChecks(args, checks) {\n  checks.forEach(function (check) {\n    return check(args);\n  });\n}\n\nvar shared = [function required(_ref) {\n  var props = _ref.props;\n  !props.droppableId ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'A Droppable requires a droppableId prop') : invariant(false) : void 0;\n  !(typeof props.droppableId === 'string') ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"A Droppable requires a [string] droppableId. Provided: [\" + typeof props.droppableId + \"]\") : invariant(false) : void 0;\n}, function _boolean(_ref2) {\n  var props = _ref2.props;\n  !isBoolean(props.isDropDisabled) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'isDropDisabled must be a boolean') : invariant(false) : void 0;\n  !isBoolean(props.isCombineEnabled) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'isCombineEnabled must be a boolean') : invariant(false) : void 0;\n  !isBoolean(props.ignoreContainerClipping) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'ignoreContainerClipping must be a boolean') : invariant(false) : void 0;\n}, function ref(_ref3) {\n  var getDroppableRef = _ref3.getDroppableRef;\n  checkIsValidInnerRef(getDroppableRef());\n}];\nvar standard = [function placeholder(_ref4) {\n  var props = _ref4.props,\n      getPlaceholderRef = _ref4.getPlaceholderRef;\n\n  if (!props.placeholder) {\n    return;\n  }\n\n  var ref = getPlaceholderRef();\n\n  if (ref) {\n    return;\n  }\n\n  process.env.NODE_ENV !== \"production\" ? warning(\"\\n      Droppable setup issue [droppableId: \\\"\" + props.droppableId + \"\\\"]:\\n      DroppableProvided > placeholder could not be found.\\n\\n      Please be sure to add the {provided.placeholder} React Node as a child of your Droppable.\\n      More information: https://github.com/atlassian/react-beautiful-dnd/blob/master/docs/api/droppable.md\\n    \") : void 0;\n}];\nvar virtual = [function hasClone(_ref5) {\n  var props = _ref5.props;\n  !props.renderClone ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Must provide a clone render function (renderClone) for virtual lists') : invariant(false) : void 0;\n}, function hasNoPlaceholder(_ref6) {\n  var getPlaceholderRef = _ref6.getPlaceholderRef;\n  !!getPlaceholderRef() ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Expected virtual list to not have a placeholder') : invariant(false) : void 0;\n}];\nfunction useValidation(args) {\n  useDevSetupWarning(function () {\n    runChecks(args, shared);\n\n    if (args.props.mode === 'standard') {\n      runChecks(args, standard);\n    }\n\n    if (args.props.mode === 'virtual') {\n      runChecks(args, virtual);\n    }\n  });\n}\n\nvar AnimateInOut = function (_React$PureComponent) {\n  _inheritsLoose(AnimateInOut, _React$PureComponent);\n\n  function AnimateInOut() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _React$PureComponent.call.apply(_React$PureComponent, [this].concat(args)) || this;\n    _this.state = {\n      isVisible: Boolean(_this.props.on),\n      data: _this.props.on,\n      animate: _this.props.shouldAnimate && _this.props.on ? 'open' : 'none'\n    };\n\n    _this.onClose = function () {\n      if (_this.state.animate !== 'close') {\n        return;\n      }\n\n      _this.setState({\n        isVisible: false\n      });\n    };\n\n    return _this;\n  }\n\n  AnimateInOut.getDerivedStateFromProps = function getDerivedStateFromProps(props, state) {\n    if (!props.shouldAnimate) {\n      return {\n        isVisible: Boolean(props.on),\n        data: props.on,\n        animate: 'none'\n      };\n    }\n\n    if (props.on) {\n      return {\n        isVisible: true,\n        data: props.on,\n        animate: 'open'\n      };\n    }\n\n    if (state.isVisible) {\n      return {\n        isVisible: true,\n        data: state.data,\n        animate: 'close'\n      };\n    }\n\n    return {\n      isVisible: false,\n      animate: 'close',\n      data: null\n    };\n  };\n\n  var _proto = AnimateInOut.prototype;\n\n  _proto.render = function render() {\n    if (!this.state.isVisible) {\n      return null;\n    }\n\n    var provided = {\n      onClose: this.onClose,\n      data: this.state.data,\n      animate: this.state.animate\n    };\n    return this.props.children(provided);\n  };\n\n  return AnimateInOut;\n}(React.PureComponent);\n\nvar zIndexOptions = {\n  dragging: 5000,\n  dropAnimating: 4500\n};\n\nvar getDraggingTransition = function getDraggingTransition(shouldAnimateDragMovement, dropping) {\n  if (dropping) {\n    return transitions.drop(dropping.duration);\n  }\n\n  if (shouldAnimateDragMovement) {\n    return transitions.snap;\n  }\n\n  return transitions.fluid;\n};\n\nvar getDraggingOpacity = function getDraggingOpacity(isCombining, isDropAnimating) {\n  if (!isCombining) {\n    return null;\n  }\n\n  return isDropAnimating ? combine.opacity.drop : combine.opacity.combining;\n};\n\nvar getShouldDraggingAnimate = function getShouldDraggingAnimate(dragging) {\n  if (dragging.forceShouldAnimate != null) {\n    return dragging.forceShouldAnimate;\n  }\n\n  return dragging.mode === 'SNAP';\n};\n\nfunction getDraggingStyle(dragging) {\n  var dimension = dragging.dimension;\n  var box = dimension.client;\n  var offset = dragging.offset,\n      combineWith = dragging.combineWith,\n      dropping = dragging.dropping;\n  var isCombining = Boolean(combineWith);\n  var shouldAnimate = getShouldDraggingAnimate(dragging);\n  var isDropAnimating = Boolean(dropping);\n  var transform = isDropAnimating ? transforms.drop(offset, isCombining) : transforms.moveTo(offset);\n  var style = {\n    position: 'fixed',\n    top: box.marginBox.top,\n    left: box.marginBox.left,\n    boxSizing: 'border-box',\n    width: box.borderBox.width,\n    height: box.borderBox.height,\n    transition: getDraggingTransition(shouldAnimate, dropping),\n    transform: transform,\n    opacity: getDraggingOpacity(isCombining, isDropAnimating),\n    zIndex: isDropAnimating ? zIndexOptions.dropAnimating : zIndexOptions.dragging,\n    pointerEvents: 'none'\n  };\n  return style;\n}\n\nfunction getSecondaryStyle(secondary) {\n  return {\n    transform: transforms.moveTo(secondary.offset),\n    transition: secondary.shouldAnimateDisplacement ? null : 'none'\n  };\n}\n\nfunction getStyle$1(mapped) {\n  return mapped.type === 'DRAGGING' ? getDraggingStyle(mapped) : getSecondaryStyle(mapped);\n}\n\nfunction getDimension$1(descriptor, el, windowScroll) {\n  if (windowScroll === void 0) {\n    windowScroll = origin;\n  }\n\n  var computedStyles = window.getComputedStyle(el);\n  var borderBox = el.getBoundingClientRect();\n  var client = calculateBox(borderBox, computedStyles);\n  var page = withScroll(client, windowScroll);\n  var placeholder = {\n    client: client,\n    tagName: el.tagName.toLowerCase(),\n    display: computedStyles.display\n  };\n  var displaceBy = {\n    x: client.marginBox.width,\n    y: client.marginBox.height\n  };\n  var dimension = {\n    descriptor: descriptor,\n    placeholder: placeholder,\n    displaceBy: displaceBy,\n    client: client,\n    page: page\n  };\n  return dimension;\n}\n\nfunction useDraggablePublisher(args) {\n  var uniqueId = useUniqueId('draggable');\n  var descriptor = args.descriptor,\n      registry = args.registry,\n      getDraggableRef = args.getDraggableRef,\n      canDragInteractiveElements = args.canDragInteractiveElements,\n      shouldRespectForcePress = args.shouldRespectForcePress,\n      isEnabled = args.isEnabled;\n  var options = useMemo(function () {\n    return {\n      canDragInteractiveElements: canDragInteractiveElements,\n      shouldRespectForcePress: shouldRespectForcePress,\n      isEnabled: isEnabled\n    };\n  }, [canDragInteractiveElements, isEnabled, shouldRespectForcePress]);\n  var getDimension = useCallback(function (windowScroll) {\n    var el = getDraggableRef();\n    !el ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot get dimension when no ref is set') : invariant(false) : void 0;\n    return getDimension$1(descriptor, el, windowScroll);\n  }, [descriptor, getDraggableRef]);\n  var entry = useMemo(function () {\n    return {\n      uniqueId: uniqueId,\n      descriptor: descriptor,\n      options: options,\n      getDimension: getDimension\n    };\n  }, [descriptor, getDimension, options, uniqueId]);\n  var publishedRef = useRef(entry);\n  var isFirstPublishRef = useRef(true);\n  useIsomorphicLayoutEffect(function () {\n    registry.draggable.register(publishedRef.current);\n    return function () {\n      return registry.draggable.unregister(publishedRef.current);\n    };\n  }, [registry.draggable]);\n  useIsomorphicLayoutEffect(function () {\n    if (isFirstPublishRef.current) {\n      isFirstPublishRef.current = false;\n      return;\n    }\n\n    var last = publishedRef.current;\n    publishedRef.current = entry;\n    registry.draggable.update(entry, last);\n  }, [entry, registry.draggable]);\n}\n\nfunction useValidation$1(props, contextId, getRef) {\n  useDevSetupWarning(function () {\n    function prefix(id) {\n      return \"Draggable[id: \" + id + \"]: \";\n    }\n\n    var id = props.draggableId;\n    !id ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Draggable requires a draggableId') : invariant(false) : void 0;\n    !(typeof id === 'string') ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Draggable requires a [string] draggableId.\\n      Provided: [type: \" + typeof id + \"] (value: \" + id + \")\") : invariant(false) : void 0;\n    !_Number$isInteger(props.index) ? process.env.NODE_ENV !== \"production\" ? invariant(false, prefix(id) + \" requires an integer index prop\") : invariant(false) : void 0;\n\n    if (props.mapped.type === 'DRAGGING') {\n      return;\n    }\n\n    checkIsValidInnerRef(getRef());\n\n    if (props.isEnabled) {\n      !findDragHandle(contextId, id) ? process.env.NODE_ENV !== \"production\" ? invariant(false, prefix(id) + \" Unable to find drag handle\") : invariant(false) : void 0;\n    }\n  });\n}\nfunction useClonePropValidation(isClone) {\n  useDev(function () {\n    var initialRef = useRef(isClone);\n    useDevSetupWarning(function () {\n      !(isClone === initialRef.current) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Draggable isClone prop value changed during component life') : invariant(false) : void 0;\n    }, [isClone]);\n  });\n}\n\nfunction preventHtml5Dnd(event) {\n  event.preventDefault();\n}\n\nfunction Draggable(props) {\n  var ref = useRef(null);\n  var setRef = useCallback(function (el) {\n    ref.current = el;\n  }, []);\n  var getRef = useCallback(function () {\n    return ref.current;\n  }, []);\n\n  var _useRequiredContext = useRequiredContext(AppContext),\n      contextId = _useRequiredContext.contextId,\n      liftInstructionId = _useRequiredContext.liftInstructionId,\n      registry = _useRequiredContext.registry;\n\n  var _useRequiredContext2 = useRequiredContext(DroppableContext),\n      type = _useRequiredContext2.type,\n      droppableId = _useRequiredContext2.droppableId;\n\n  var descriptor = useMemo(function () {\n    return {\n      id: props.draggableId,\n      index: props.index,\n      type: type,\n      droppableId: droppableId\n    };\n  }, [props.draggableId, props.index, type, droppableId]);\n  var children = props.children,\n      draggableId = props.draggableId,\n      isEnabled = props.isEnabled,\n      shouldRespectForcePress = props.shouldRespectForcePress,\n      canDragInteractiveElements = props.canDragInteractiveElements,\n      isClone = props.isClone,\n      mapped = props.mapped,\n      dropAnimationFinishedAction = props.dropAnimationFinished;\n  useValidation$1(props, contextId, getRef);\n  useClonePropValidation(isClone);\n\n  if (!isClone) {\n    var forPublisher = useMemo(function () {\n      return {\n        descriptor: descriptor,\n        registry: registry,\n        getDraggableRef: getRef,\n        canDragInteractiveElements: canDragInteractiveElements,\n        shouldRespectForcePress: shouldRespectForcePress,\n        isEnabled: isEnabled\n      };\n    }, [descriptor, registry, getRef, canDragInteractiveElements, shouldRespectForcePress, isEnabled]);\n    useDraggablePublisher(forPublisher);\n  }\n\n  var dragHandleProps = useMemo(function () {\n    return isEnabled ? {\n      tabIndex: 0,\n      'data-rbd-drag-handle-draggable-id': draggableId,\n      'data-rbd-drag-handle-context-id': contextId,\n      'aria-labelledby': liftInstructionId,\n      draggable: false,\n      onDragStart: preventHtml5Dnd\n    } : null;\n  }, [contextId, draggableId, isEnabled, liftInstructionId]);\n  var onMoveEnd = useCallback(function (event) {\n    if (mapped.type !== 'DRAGGING') {\n      return;\n    }\n\n    if (!mapped.dropping) {\n      return;\n    }\n\n    if (event.propertyName !== 'transform') {\n      return;\n    }\n\n    dropAnimationFinishedAction();\n  }, [dropAnimationFinishedAction, mapped]);\n  var provided = useMemo(function () {\n    var style = getStyle$1(mapped);\n    var onTransitionEnd = mapped.type === 'DRAGGING' && mapped.dropping ? onMoveEnd : null;\n    var result = {\n      innerRef: setRef,\n      draggableProps: {\n        'data-rbd-draggable-context-id': contextId,\n        'data-rbd-draggable-id': draggableId,\n        style: style,\n        onTransitionEnd: onTransitionEnd\n      },\n      dragHandleProps: dragHandleProps\n    };\n    return result;\n  }, [contextId, dragHandleProps, draggableId, mapped, onMoveEnd, setRef]);\n  var rubric = useMemo(function () {\n    return {\n      draggableId: descriptor.id,\n      type: descriptor.type,\n      source: {\n        index: descriptor.index,\n        droppableId: descriptor.droppableId\n      }\n    };\n  }, [descriptor.droppableId, descriptor.id, descriptor.index, descriptor.type]);\n  return children(provided, mapped.snapshot, rubric);\n}\n\nvar isStrictEqual = (function (a, b) {\n  return a === b;\n});\n\nvar whatIsDraggedOverFromResult = (function (result) {\n  var combine = result.combine,\n      destination = result.destination;\n\n  if (destination) {\n    return destination.droppableId;\n  }\n\n  if (combine) {\n    return combine.droppableId;\n  }\n\n  return null;\n});\n\nvar getCombineWithFromResult = function getCombineWithFromResult(result) {\n  return result.combine ? result.combine.draggableId : null;\n};\n\nvar getCombineWithFromImpact = function getCombineWithFromImpact(impact) {\n  return impact.at && impact.at.type === 'COMBINE' ? impact.at.combine.draggableId : null;\n};\n\nfunction getDraggableSelector() {\n  var memoizedOffset = memoizeOne(function (x, y) {\n    return {\n      x: x,\n      y: y\n    };\n  });\n  var getMemoizedSnapshot = memoizeOne(function (mode, isClone, draggingOver, combineWith, dropping) {\n    return {\n      isDragging: true,\n      isClone: isClone,\n      isDropAnimating: Boolean(dropping),\n      dropAnimation: dropping,\n      mode: mode,\n      draggingOver: draggingOver,\n      combineWith: combineWith,\n      combineTargetFor: null\n    };\n  });\n  var getMemoizedProps = memoizeOne(function (offset, mode, dimension, isClone, draggingOver, combineWith, forceShouldAnimate) {\n    return {\n      mapped: {\n        type: 'DRAGGING',\n        dropping: null,\n        draggingOver: draggingOver,\n        combineWith: combineWith,\n        mode: mode,\n        offset: offset,\n        dimension: dimension,\n        forceShouldAnimate: forceShouldAnimate,\n        snapshot: getMemoizedSnapshot(mode, isClone, draggingOver, combineWith, null)\n      }\n    };\n  });\n\n  var selector = function selector(state, ownProps) {\n    if (state.isDragging) {\n      if (state.critical.draggable.id !== ownProps.draggableId) {\n        return null;\n      }\n\n      var offset = state.current.client.offset;\n      var dimension = state.dimensions.draggables[ownProps.draggableId];\n      var draggingOver = whatIsDraggedOver(state.impact);\n      var combineWith = getCombineWithFromImpact(state.impact);\n      var forceShouldAnimate = state.forceShouldAnimate;\n      return getMemoizedProps(memoizedOffset(offset.x, offset.y), state.movementMode, dimension, ownProps.isClone, draggingOver, combineWith, forceShouldAnimate);\n    }\n\n    if (state.phase === 'DROP_ANIMATING') {\n      var completed = state.completed;\n\n      if (completed.result.draggableId !== ownProps.draggableId) {\n        return null;\n      }\n\n      var isClone = ownProps.isClone;\n      var _dimension = state.dimensions.draggables[ownProps.draggableId];\n      var result = completed.result;\n      var mode = result.mode;\n\n      var _draggingOver = whatIsDraggedOverFromResult(result);\n\n      var _combineWith = getCombineWithFromResult(result);\n\n      var duration = state.dropDuration;\n      var dropping = {\n        duration: duration,\n        curve: curves.drop,\n        moveTo: state.newHomeClientOffset,\n        opacity: _combineWith ? combine.opacity.drop : null,\n        scale: _combineWith ? combine.scale.drop : null\n      };\n      return {\n        mapped: {\n          type: 'DRAGGING',\n          offset: state.newHomeClientOffset,\n          dimension: _dimension,\n          dropping: dropping,\n          draggingOver: _draggingOver,\n          combineWith: _combineWith,\n          mode: mode,\n          forceShouldAnimate: null,\n          snapshot: getMemoizedSnapshot(mode, isClone, _draggingOver, _combineWith, dropping)\n        }\n      };\n    }\n\n    return null;\n  };\n\n  return selector;\n}\n\nfunction getSecondarySnapshot(combineTargetFor) {\n  return {\n    isDragging: false,\n    isDropAnimating: false,\n    isClone: false,\n    dropAnimation: null,\n    mode: null,\n    draggingOver: null,\n    combineTargetFor: combineTargetFor,\n    combineWith: null\n  };\n}\n\nvar atRest = {\n  mapped: {\n    type: 'SECONDARY',\n    offset: origin,\n    combineTargetFor: null,\n    shouldAnimateDisplacement: true,\n    snapshot: getSecondarySnapshot(null)\n  }\n};\n\nfunction getSecondarySelector() {\n  var memoizedOffset = memoizeOne(function (x, y) {\n    return {\n      x: x,\n      y: y\n    };\n  });\n  var getMemoizedSnapshot = memoizeOne(getSecondarySnapshot);\n  var getMemoizedProps = memoizeOne(function (offset, combineTargetFor, shouldAnimateDisplacement) {\n    if (combineTargetFor === void 0) {\n      combineTargetFor = null;\n    }\n\n    return {\n      mapped: {\n        type: 'SECONDARY',\n        offset: offset,\n        combineTargetFor: combineTargetFor,\n        shouldAnimateDisplacement: shouldAnimateDisplacement,\n        snapshot: getMemoizedSnapshot(combineTargetFor)\n      }\n    };\n  });\n\n  var getFallback = function getFallback(combineTargetFor) {\n    return combineTargetFor ? getMemoizedProps(origin, combineTargetFor, true) : null;\n  };\n\n  var getProps = function getProps(ownId, draggingId, impact, afterCritical) {\n    var visualDisplacement = impact.displaced.visible[ownId];\n    var isAfterCriticalInVirtualList = Boolean(afterCritical.inVirtualList && afterCritical.effected[ownId]);\n    var combine = tryGetCombine(impact);\n    var combineTargetFor = combine && combine.draggableId === ownId ? draggingId : null;\n\n    if (!visualDisplacement) {\n      if (!isAfterCriticalInVirtualList) {\n        return getFallback(combineTargetFor);\n      }\n\n      if (impact.displaced.invisible[ownId]) {\n        return null;\n      }\n\n      var change = negate(afterCritical.displacedBy.point);\n\n      var _offset = memoizedOffset(change.x, change.y);\n\n      return getMemoizedProps(_offset, combineTargetFor, true);\n    }\n\n    if (isAfterCriticalInVirtualList) {\n      return getFallback(combineTargetFor);\n    }\n\n    var displaceBy = impact.displacedBy.point;\n    var offset = memoizedOffset(displaceBy.x, displaceBy.y);\n    return getMemoizedProps(offset, combineTargetFor, visualDisplacement.shouldAnimate);\n  };\n\n  var selector = function selector(state, ownProps) {\n    if (state.isDragging) {\n      if (state.critical.draggable.id === ownProps.draggableId) {\n        return null;\n      }\n\n      return getProps(ownProps.draggableId, state.critical.draggable.id, state.impact, state.afterCritical);\n    }\n\n    if (state.phase === 'DROP_ANIMATING') {\n      var completed = state.completed;\n\n      if (completed.result.draggableId === ownProps.draggableId) {\n        return null;\n      }\n\n      return getProps(ownProps.draggableId, completed.result.draggableId, completed.impact, completed.afterCritical);\n    }\n\n    return null;\n  };\n\n  return selector;\n}\n\nvar makeMapStateToProps = function makeMapStateToProps() {\n  var draggingSelector = getDraggableSelector();\n  var secondarySelector = getSecondarySelector();\n\n  var selector = function selector(state, ownProps) {\n    return draggingSelector(state, ownProps) || secondarySelector(state, ownProps) || atRest;\n  };\n\n  return selector;\n};\nvar mapDispatchToProps = {\n  dropAnimationFinished: dropAnimationFinished\n};\nvar ConnectedDraggable = connect(makeMapStateToProps, mapDispatchToProps, null, {\n  context: StoreContext,\n  pure: true,\n  areStatePropsEqual: isStrictEqual\n})(Draggable);\n\nfunction PrivateDraggable(props) {\n  var droppableContext = useRequiredContext(DroppableContext);\n  var isUsingCloneFor = droppableContext.isUsingCloneFor;\n\n  if (isUsingCloneFor === props.draggableId && !props.isClone) {\n    return null;\n  }\n\n  return React.createElement(ConnectedDraggable, props);\n}\nfunction PublicDraggable(props) {\n  var isEnabled = typeof props.isDragDisabled === 'boolean' ? !props.isDragDisabled : true;\n  var canDragInteractiveElements = Boolean(props.disableInteractiveElementBlocking);\n  var shouldRespectForcePress = Boolean(props.shouldRespectForcePress);\n  return React.createElement(PrivateDraggable, _extends({}, props, {\n    isClone: false,\n    isEnabled: isEnabled,\n    canDragInteractiveElements: canDragInteractiveElements,\n    shouldRespectForcePress: shouldRespectForcePress\n  }));\n}\n\nfunction Droppable(props) {\n  var appContext = useContext(AppContext);\n  !appContext ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Could not find app context') : invariant(false) : void 0;\n  var contextId = appContext.contextId,\n      isMovementAllowed = appContext.isMovementAllowed;\n  var droppableRef = useRef(null);\n  var placeholderRef = useRef(null);\n  var children = props.children,\n      droppableId = props.droppableId,\n      type = props.type,\n      mode = props.mode,\n      direction = props.direction,\n      ignoreContainerClipping = props.ignoreContainerClipping,\n      isDropDisabled = props.isDropDisabled,\n      isCombineEnabled = props.isCombineEnabled,\n      snapshot = props.snapshot,\n      useClone = props.useClone,\n      updateViewportMaxScroll = props.updateViewportMaxScroll,\n      getContainerForClone = props.getContainerForClone;\n  var getDroppableRef = useCallback(function () {\n    return droppableRef.current;\n  }, []);\n  var setDroppableRef = useCallback(function (value) {\n    droppableRef.current = value;\n  }, []);\n  var getPlaceholderRef = useCallback(function () {\n    return placeholderRef.current;\n  }, []);\n  var setPlaceholderRef = useCallback(function (value) {\n    placeholderRef.current = value;\n  }, []);\n  useValidation({\n    props: props,\n    getDroppableRef: getDroppableRef,\n    getPlaceholderRef: getPlaceholderRef\n  });\n  var onPlaceholderTransitionEnd = useCallback(function () {\n    if (isMovementAllowed()) {\n      updateViewportMaxScroll({\n        maxScroll: getMaxWindowScroll()\n      });\n    }\n  }, [isMovementAllowed, updateViewportMaxScroll]);\n  useDroppablePublisher({\n    droppableId: droppableId,\n    type: type,\n    mode: mode,\n    direction: direction,\n    isDropDisabled: isDropDisabled,\n    isCombineEnabled: isCombineEnabled,\n    ignoreContainerClipping: ignoreContainerClipping,\n    getDroppableRef: getDroppableRef\n  });\n  var placeholder = React.createElement(AnimateInOut, {\n    on: props.placeholder,\n    shouldAnimate: props.shouldAnimatePlaceholder\n  }, function (_ref) {\n    var onClose = _ref.onClose,\n        data = _ref.data,\n        animate = _ref.animate;\n    return React.createElement(Placeholder$1, {\n      placeholder: data,\n      onClose: onClose,\n      innerRef: setPlaceholderRef,\n      animate: animate,\n      contextId: contextId,\n      onTransitionEnd: onPlaceholderTransitionEnd\n    });\n  });\n  var provided = useMemo(function () {\n    return {\n      innerRef: setDroppableRef,\n      placeholder: placeholder,\n      droppableProps: {\n        'data-rbd-droppable-id': droppableId,\n        'data-rbd-droppable-context-id': contextId\n      }\n    };\n  }, [contextId, droppableId, placeholder, setDroppableRef]);\n  var isUsingCloneFor = useClone ? useClone.dragging.draggableId : null;\n  var droppableContext = useMemo(function () {\n    return {\n      droppableId: droppableId,\n      type: type,\n      isUsingCloneFor: isUsingCloneFor\n    };\n  }, [droppableId, isUsingCloneFor, type]);\n\n  function getClone() {\n    if (!useClone) {\n      return null;\n    }\n\n    var dragging = useClone.dragging,\n        render = useClone.render;\n    var node = React.createElement(PrivateDraggable, {\n      draggableId: dragging.draggableId,\n      index: dragging.source.index,\n      isClone: true,\n      isEnabled: true,\n      shouldRespectForcePress: false,\n      canDragInteractiveElements: true\n    }, function (draggableProvided, draggableSnapshot) {\n      return render(draggableProvided, draggableSnapshot, dragging);\n    });\n    return ReactDOM.createPortal(node, getContainerForClone());\n  }\n\n  return React.createElement(DroppableContext.Provider, {\n    value: droppableContext\n  }, children(provided, snapshot), getClone());\n}\n\nvar isMatchingType = function isMatchingType(type, critical) {\n  return type === critical.droppable.type;\n};\n\nvar getDraggable = function getDraggable(critical, dimensions) {\n  return dimensions.draggables[critical.draggable.id];\n};\n\nvar makeMapStateToProps$1 = function makeMapStateToProps() {\n  var idleWithAnimation = {\n    placeholder: null,\n    shouldAnimatePlaceholder: true,\n    snapshot: {\n      isDraggingOver: false,\n      draggingOverWith: null,\n      draggingFromThisWith: null,\n      isUsingPlaceholder: false\n    },\n    useClone: null\n  };\n\n  var idleWithoutAnimation = _extends({}, idleWithAnimation, {\n    shouldAnimatePlaceholder: false\n  });\n\n  var getDraggableRubric = memoizeOne(function (descriptor) {\n    return {\n      draggableId: descriptor.id,\n      type: descriptor.type,\n      source: {\n        index: descriptor.index,\n        droppableId: descriptor.droppableId\n      }\n    };\n  });\n  var getMapProps = memoizeOne(function (id, isEnabled, isDraggingOverForConsumer, isDraggingOverForImpact, dragging, renderClone) {\n    var draggableId = dragging.descriptor.id;\n    var isHome = dragging.descriptor.droppableId === id;\n\n    if (isHome) {\n      var useClone = renderClone ? {\n        render: renderClone,\n        dragging: getDraggableRubric(dragging.descriptor)\n      } : null;\n      var _snapshot = {\n        isDraggingOver: isDraggingOverForConsumer,\n        draggingOverWith: isDraggingOverForConsumer ? draggableId : null,\n        draggingFromThisWith: draggableId,\n        isUsingPlaceholder: true\n      };\n      return {\n        placeholder: dragging.placeholder,\n        shouldAnimatePlaceholder: false,\n        snapshot: _snapshot,\n        useClone: useClone\n      };\n    }\n\n    if (!isEnabled) {\n      return idleWithoutAnimation;\n    }\n\n    if (!isDraggingOverForImpact) {\n      return idleWithAnimation;\n    }\n\n    var snapshot = {\n      isDraggingOver: isDraggingOverForConsumer,\n      draggingOverWith: draggableId,\n      draggingFromThisWith: null,\n      isUsingPlaceholder: true\n    };\n    return {\n      placeholder: dragging.placeholder,\n      shouldAnimatePlaceholder: true,\n      snapshot: snapshot,\n      useClone: null\n    };\n  });\n\n  var selector = function selector(state, ownProps) {\n    var id = ownProps.droppableId;\n    var type = ownProps.type;\n    var isEnabled = !ownProps.isDropDisabled;\n    var renderClone = ownProps.renderClone;\n\n    if (state.isDragging) {\n      var critical = state.critical;\n\n      if (!isMatchingType(type, critical)) {\n        return idleWithoutAnimation;\n      }\n\n      var dragging = getDraggable(critical, state.dimensions);\n      var isDraggingOver = whatIsDraggedOver(state.impact) === id;\n      return getMapProps(id, isEnabled, isDraggingOver, isDraggingOver, dragging, renderClone);\n    }\n\n    if (state.phase === 'DROP_ANIMATING') {\n      var completed = state.completed;\n\n      if (!isMatchingType(type, completed.critical)) {\n        return idleWithoutAnimation;\n      }\n\n      var _dragging = getDraggable(completed.critical, state.dimensions);\n\n      return getMapProps(id, isEnabled, whatIsDraggedOverFromResult(completed.result) === id, whatIsDraggedOver(completed.impact) === id, _dragging, renderClone);\n    }\n\n    if (state.phase === 'IDLE' && state.completed && !state.shouldFlush) {\n      var _completed = state.completed;\n\n      if (!isMatchingType(type, _completed.critical)) {\n        return idleWithoutAnimation;\n      }\n\n      var wasOver = whatIsDraggedOver(_completed.impact) === id;\n      var wasCombining = Boolean(_completed.impact.at && _completed.impact.at.type === 'COMBINE');\n      var isHome = _completed.critical.droppable.id === id;\n\n      if (wasOver) {\n        return wasCombining ? idleWithAnimation : idleWithoutAnimation;\n      }\n\n      if (isHome) {\n        return idleWithAnimation;\n      }\n\n      return idleWithoutAnimation;\n    }\n\n    return idleWithoutAnimation;\n  };\n\n  return selector;\n};\nvar mapDispatchToProps$1 = {\n  updateViewportMaxScroll: updateViewportMaxScroll\n};\n\nfunction getBody() {\n  !document.body ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'document.body is not ready') : invariant(false) : void 0;\n  return document.body;\n}\n\nvar defaultProps = {\n  mode: 'standard',\n  type: 'DEFAULT',\n  direction: 'vertical',\n  isDropDisabled: false,\n  isCombineEnabled: false,\n  ignoreContainerClipping: false,\n  renderClone: null,\n  getContainerForClone: getBody\n};\nvar ConnectedDroppable = connect(makeMapStateToProps$1, mapDispatchToProps$1, null, {\n  context: StoreContext,\n  pure: true,\n  areStatePropsEqual: isStrictEqual\n})(Droppable);\nConnectedDroppable.defaultProps = defaultProps;\n\nexport { DragDropContext, PublicDraggable as Draggable, ConnectedDroppable as Droppable, resetServerContext };\n"]},"metadata":{},"sourceType":"module"}